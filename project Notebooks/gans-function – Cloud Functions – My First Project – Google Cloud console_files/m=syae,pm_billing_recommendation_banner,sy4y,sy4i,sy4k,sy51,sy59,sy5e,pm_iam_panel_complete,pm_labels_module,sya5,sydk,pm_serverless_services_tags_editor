"use strict";this.default_r_utswmmf=this.default_r_utswmmf||{};(function(_){var window=this;
try{
var uIh,xIh,yIh,zIh;uIh=function(a){let b;a=null==a?void 0:null==(b=a.billingAccountApiQuery)?void 0:b.GetCommitmentScopeConfig;let c;return{assignCommitmentsToBillingAccount:null!=(c=null==a?void 0:a.billingAccountScopedCudEnabled)?c:!1,effectiveTime:(null==a?void 0:a.effectiveDate)||void 0,scheduledEndDate:(null==a?void 0:a.scheduledEndDate)||void 0}};
_.wIh=function(a,b,c,d){var e=vIh;b=Object.assign({},{assistGroup:c},b);d&&d.length&&(b.filter=d);return a.coliseum.query({payload:{listArchetypeRequestParameters:e,parameters:b},entityName:"DETAILED_ASSIST_OBJECT_LIST",payloadTypeName:"google.internal.cloud.console.clientapi.growth.cloudrecommendations.ListDetailedAssistObjectsRequest"}).pipe(_.y(f=>f.row?f.row.map(g=>g.payload):[]))};
xIh=function(a,b){return a.config.request("GetCommitmentScopeConfig",'query GetCommitmentScopeConfig($billingAccountName: String!) @NullProto @Signature(bytes: "2/O47aRRKd83mG49YT0UoyFnGQNSmtyD5mOATJWzNBolM=") { billingAccountApiQuery { GetCommitmentScopeConfig(billingAccountName: $billingAccountName) { billingAccountScopedCudEnabled effectiveDate scheduledEndDate } } }',b,void 0)};
yIh=function(a,b){return a.config.request("UpdateCommitmentScopeConfig",'query UpdateCommitmentScopeConfig($billingAccountName: String!, $commitmentScopeSettings: IN_google_cloud_boq_clientapi_billingcostrecommendations_CommitmentScopeSettings) @NullProto @Signature(bytes: "2/GppyhmUFs4rx/SUfPxkmpUDEble1qkQTHwwSCq/V/s0=") { billingAccountApiQuery { UpdateCommitmentScopeConfig(billingAccountName: $billingAccountName, commitmentScopeSettings: $commitmentScopeSettings) { billingAccountScopedCudEnabled effectiveDate scheduledEndDate } } }',b,
void 0)};zIh=new _.Uk("45404405",!0);var AIh=new _.Uk("45404395");var BIh=new _.Uk("45404389",!0);var CIh=function(a){return"/m/billing/accounts/"+a+"/cud"},DIh=class{constructor(a,b,c,d,e,f){this.http=b;this.errorService=c;this.billingCostRecommendationsGraphqlClient=d;this.asyncTaskTracker=e;this.analyticsService=f;this.getCommitmentsSettingsByGraphqlEnabled=_.zc(zIh);this.getCommitmentsSettingsByGraphqlDarkLaunchEnabled=_.zc(AIh);this.updateCommitmentScopeSettingsByGraphqlEnabled=_.zc(BIh);this.commitmentsConfigCache=a.createAsync("NON_SHAREABLE_CACHE_ID","billing_commitments_config_cache",
{itemsExpireAfterMs:6E5})}getConfig(a){return this.commitmentsConfigCache.get(a,{onCacheMiss:()=>{if(this.getCommitmentsSettingsByGraphqlEnabled)return xIh(this.billingCostRecommendationsGraphqlClient,{billingAccountName:"billingAccounts/"+a}).pipe(_.mf({bufferSize:1,refCount:!0}),_.y(b=>uIh(b)));if(this.getCommitmentsSettingsByGraphqlDarkLaunchEnabled){const b=this.http.get(CIh(a)).pipe(_.mf({bufferSize:1,refCount:!0}));this.asyncTaskTracker.runOutsideTracker(()=>{const c=xIh(this.billingCostRecommendationsGraphqlClient,
{billingAccountName:"billingAccounts/"+a}).pipe(_.y(d=>uIh(d)),_.mf({bufferSize:1,refCount:!0}));_.he([c,b]).subscribe(([d,e])=>{this.analyticsService.sendEvent({type:"getCommitmentScopeConfigDarkLaunch",name:"compareGetCommitmentScopeConfigResults",billingAccountId:a,metadata:{billingAccountScopeEnabledMatch:d.assignCommitmentsToBillingAccount===e.assignCommitmentsToBillingAccount,effectiveDateMatch:d.effectiveTime===e.effectiveTime,scheduledEndDateMatch:d.scheduledEndDate===e.scheduledEndDate}})},
d=>{this.analyticsService.sendEvent({type:"getCommitmentScopeConfigDarkLaunch",name:"errorFromGetCommitmentScopeConfigResults",billingAccountId:a,metadata:{error:d}})})});return b}return this.http.get(CIh(a))}})}setConfig(a,b,c=1){if(this.updateCommitmentScopeSettingsByGraphqlEnabled)return b=yIh(this.billingCostRecommendationsGraphqlClient,{billingAccountName:`billingAccounts/${a}`,commitmentScopeSettings:{billingAccountScopedCudEnabled:b.assignCommitmentsToBillingAccount,effectiveDate:b.effectiveTime,
scheduledEndDate:b.scheduledEndDate}}).pipe(_.Je(d=>{c&&this.errorService.handleError(d);return _.Rd(d)}),_.mf({bufferSize:1,refCount:!0})).pipe(_.y(d=>{let e;d=null==d?void 0:null==(e=d.billingAccountApiQuery)?void 0:e.UpdateCommitmentScopeConfig;let f;return{assignCommitmentsToBillingAccount:null!=(f=null==d?void 0:d.billingAccountScopedCudEnabled)?f:!1,effectiveTime:(null==d?void 0:d.effectiveDate)||void 0,scheduledEndDate:(null==d?void 0:d.scheduledEndDate)||void 0}})),this.commitmentsConfigCache.set(a,
b),b;b=this.http.post(CIh(a),b).pipe(_.Je(d=>{c&&this.errorService.handleError(d);return _.Rd(d)}),_.mf({bufferSize:1,refCount:!0}));this.commitmentsConfigCache.set(a,b);return b}};DIh.\u0275fac=function(a){return new (a||DIh)(_.k(_.nm),_.k(_.eh),_.k(_.lv),_.k(_.K4),_.k(_.Vm),_.k(_.gn))};DIh.\u0275prov=_.h({token:DIh,factory:DIh.\u0275fac,providedIn:"root"});var vIh;
_.EIh=class{constructor(a,b,c,d){this.projectService=b;this.cudService=c;this.cloudRecommendationsService=d;this.contextualLinkingEnabled=_.zc(_.myh);this.recommendationsCache=a.createAsync("NON_SHAREABLE_CACHE_ID","billing_recommendation_cache",{itemsExpireAfterMs:6E5})}filter(a,b){let c;a=null==(c=a.recommendationDetails)?void 0:c.commitmentDetails;if(!a||b.region&&"string"===typeof b.region&&a.region!==b.region||b.region&&"object"===typeof b.region&&(!a.region||!b.region.has(a.region))||void 0!==
b.resourceBased&&void 0===a.cudDetails)return!1;let d,e,f;if(void 0!==(null==(d=b.resourceBased)?void 0:d.projectId)&&(null==(e=b.resourceBased)?void 0:e.projectId)!==(null==(f=a.cudDetails)?void 0:f.project))return!1;let g,l;if(void 0!==(null==(g=b.resourceBased)?void 0:g.eligibility)&&"string"===typeof b.resourceBased.eligibility&&!((null==(l=a.cudDetails)?void 0:l.commitments)||[]).find(x=>{let C;return x.v1Bucket===(null==(C=b.resourceBased)?void 0:C.eligibility)}))return!1;let p;if(void 0!==
(null==(p=b.resourceBased)?void 0:p.eligibility)&&"object"===typeof b.resourceBased.eligibility){const x=b.resourceBased.eligibility;let C;if(!((null==(C=a.cudDetails)?void 0:C.commitments)||[]).find(D=>D.v1Bucket&&x.has(D.v1Bucket)))return!1}if(void 0!==b.spendBased&&void 0===a.spendBasedCommitmentDetails)return!1;let r,t,v;return void 0!==(null==(r=b.spendBased)?void 0:r.commitmentDefinitionName)&&(null==(t=a.spendBasedCommitmentDetails)?void 0:t.subscriptionDefinitionName)!==(null==(v=b.spendBased)?
void 0:v.commitmentDefinitionName)?!1:!0}};vIh={sortOrder:[{field:"recommendationDetails/impact/costImpact/savingsAmount",descending:!0}],pageSelector:{endingPoint:{maxResults:1E3}}};_.EIh.\u0275fac=function(a){return new (a||_.EIh)(_.k(_.nm),_.k(_.nC),_.k(DIh),_.k(_.zH))};_.EIh.\u0275prov=_.h({token:_.EIh,factory:_.EIh.\u0275fac,providedIn:"root"});
}catch(e){_._DumpException(e)}
try{
_.Ig("pm_billing_recommendation_banner");
var FIh=function(){return new _.$m("path","assistGroupName")},GIh=function(a){const b={};b.RecommendationListTable={f:_.oA(a)};a={};a.pageState=_.RHc(JSON.stringify(b));return a},HIh=function(a){let b,c,d;return(null==(b=a.recommendationDetails)?void 0:null==(c=b.impact)?void 0:null==(d=c.costImpact)?void 0:d.savingsAmount)||0},IIh=function(a){if(a&1){const b=_.n();_.G(0,"button",6);_.O("click",function(){_.q(b);const c=_.P(2);return _.u(c.openObjectPanel())});_.Q(1," View details ");_.I()}},JIh=
function(a){if(a&1){const b=_.n();_.G(0,"a",7);_.O("click",function(){_.q(b);const c=_.P(2);return _.u(c.dismiss())});_.J(1,"cfc-icon",8);_.I()}},KIh=function(a){a&1&&(_.G(0,"a",9),_.N(1,0),_.I());a&2&&(a=_.P().ngIf,_.F("cfcRouterLink",a.url)("queryParams",a.queryParam))},LIh=function(a,b){a&1&&(_.G(0,"cfc-message",2)(1,"cfc-message-text"),_.Q(2),_.I(),_.G(3,"cfc-message-actions"),_.E(4,IIh,2,0,"button",3)(5,JIh,2,0,"a",4)(6,KIh,2,2,"a",5),_.I()());a&2&&(a=b.ngIf,b=_.P(),_.z(2),_.R(" ",a.message,
" "),_.z(2),_.F("ngIf",!b.linkToHubTable),_.z(),_.F("ngIf",!b.linkToHubTable),_.z(),_.F("ngIf",b.linkToHubTable))},MIh=function(a,b){return _.HVb(a.graphqlClient,{name:`projects/${b}`,unscoped:!0}).pipe(_.$e(),_.y(c=>_.BVb(_.EVb(c.billingResourcesQuery.getResourceBillingInfo.resourceBillingInfo))))},NIh=function(a,b){return _.JVb(a,`${b}&unscoped`,()=>MIh(a,b)).pipe(_.y(c=>a.checkNewSignup(c)))},OIh=function(a,b){return _.xFc(a,b).pipe(_.Je(c=>403===c.status?(c.errorExperience=2,(c=_.oq(a.projectParamService))?
NIh(a,c).pipe(_.y(d=>[d])):_.w([])):_.Rd(c)))},PIh=class extends _.Vwc{constructor(){super();this.assistGroupName=FIh();_.Ym(this,["list",this.assistGroupName])}},QIh=class extends _.Wwc{constructor(){super();this.assistGroupName=FIh();_.Ym(this,["list",this.assistGroupName])}},RIh=function(a,b){return a.cudService.getConfig(b).pipe(_.Je(()=>_.w({assignCommitmentsToBillingAccount:!0})))},SIh=function(a,b){switch(b.getResourceType()){case 37:const c=b.id;return _.$d([RIh(a,c),OIh(a.projectService,
c)]).pipe(_.y(([d,e])=>d.assignCommitmentsToBillingAccount?{billingAccountId:c,projectIds:[]}:{billingAccountId:c,projectIds:e.map(f=>f.projectId).slice(0,100)}));case 0:return _.LVb(a.projectService,b.getResourceId()).pipe(_.y(d=>({billingAccountId:d.billingAccountId,projectIds:[d.projectId]})));default:throw Error("Dp`"+b.getResourceType());}},TIh=function(a,b,c){const d=[];b&&d.push(_.wIh(a.cloudRecommendationsService,{billingAccountId:b},"COMBINED_BILLING_COMMITMENTS"));for(const e of c)d.push(_.wIh(a.cloudRecommendationsService,
{projectId:e},"PROJECT_COMMITMENTS"));return _.$d(d).pipe(_.y(e=>e.reduce((f,g)=>{const l=[];for(;f.length&&g.length;)HIh(f[0])<HIh(g[0])?l.push(g.shift()):l.push(f.shift());return[...l,...f,...g]},[])))},UIh=function(a,b){return SIh(a,b).pipe(_.qf(({billingAccountId:c,projectIds:d})=>TIh(a,c,d)))},VIh=function(a,b,c){return a.recommendationsCache.get(b.getResourceId(),{onCacheMiss:()=>UIh(a,b)}).pipe(_.y(d=>d.filter(e=>a.filter(e,c))))},WIh=function(a){const b=[];if(a.region)if("string"===typeof a.region)b.push(new _.nA("",
a.region));else{let c=a.region.size;a.region.forEach(d=>{b.push(new _.nA("",d));1!==c&&b.push(new _.nA("","OR",10,!0));c--})}a.resourceBased&&a.resourceBased.eligibility&&b.push(new _.nA("",String(a.resourceBased.eligibility)));return GIh(b)},XIh=function(a,b,c){return _.$d([VIh(a,b,c),SIh(a,b)]).pipe(_.y(([d,e])=>{let f,g,l,p;if(void 0===(null==(f=d[0])?void 0:null==(g=f.recommendationDetails)?void 0:null==(l=g.commitmentDetails)?void 0:null==(p=l.cudDetails)?void 0:p.project)){var r=QIh.create();
e=r.link().set(r.assistGroupName,"COMBINED_BILLING_COMMITMENTS").set(r.billingAccount,e.billingAccountId);return a.contextualLinkingEnabled?{url:e.build(),queryParam:Object.assign({},e.buildQueryParams(),WIh(c)),recommendations:d}:{url:e.build(),queryParam:Object.assign({},e.buildQueryParams()),recommendations:d}}let t,v,x;d=null==(r=d[0])?void 0:null==(t=r.recommendationDetails)?void 0:null==(v=t.commitmentDetails)?void 0:null==(x=v.cudDetails)?void 0:x.project;e=PIh.create();r=e.link();r.set(e.assistGroupName,
"PROJECT_COMMITMENTS");return a.contextualLinkingEnabled?{url:r.build(),queryParam:Object.assign({},r.buildQueryParams(),{project:d},WIh(c))}:{url:r.build(),queryParam:Object.assign({},r.buildQueryParams(),{project:d})}}))},YIh=function(a,b){const c=new _.Eq(`billingAccounts/${b}`,37),d=["billing.subscriptions.list","billing.accounts.get"];return a.iamPermissionsService.preFetchPermissions(d,[c]).pipe(_.y(()=>!!a.iamPermissionsService.can(d[0],c)&&!!a.iamPermissionsService.can(d[1],c)))},ZIh=function(a){return a.map(b=>
{let c,d,e;return(null==b?void 0:null==(c=b.recommendationDetails)?void 0:null==(d=c.impact)?void 0:null==(e=d.costImpact)?void 0:e.savingsAmountLocalCurrency)||0}).reduce((b,c)=>b+c,0)},$Ih=function(a){return a.map(b=>{let c,d,e;return(null==b?void 0:null==(c=b.recommendationDetails)?void 0:null==(d=c.impact)?void 0:null==(e=d.costImpact)?void 0:e.savingsAmount)||0}).reduce((b,c)=>b+c,0)},aJh=class{constructor(a,b,c,d,e,f,g,l){this.accountService=a;this.iamPermissionsService=b;this.recommendationService=
c;this.recommendationSubtaskService=d;this.recsColiseumService=e;this.aaMetricsService=f;this.router=g;this.analyticsService=l;this.messageText=void 0;this.billingAccountId="";this.billingAccountIdSubject=new _.hf(1);this.filter={};this.filterSubject=new _.hf(1);this.hasIamPermission=this.showInLocalCurrency=this.linkToHubTable=this.onlyShowSingleRecommendation=!1;this.filterSubject.next(this.filter);this.dataObs=_.$d([this.getId(),this.filterSubject]).pipe(_.qf(([p,r])=>_.$d([XIh(this.recommendationService,
p,r),VIh(this.recommendationService,p,r)])),_.y(([p,r])=>{if(0!==r.length)return r=this.onlyShowSingleRecommendation?r.slice(0,1):r,{url:p.url,queryParam:p.queryParam,message:this.getMessage(r),assistObjects:r}}),_.Je(()=>_.w(void 0)));this.getId().subscribe(p=>{0===p.getResourceType()?this.hasIamPermission=!0:YIh(this,p.id).subscribe(r=>{this.hasIamPermission=r})})}get isRecommendationShown(){return!!this.message}getMessage(a){if(void 0!==this.messageText)return this.messageText;var b;if(this.showInLocalCurrency){var c;
let l,p;var d=null==(b=a[0])?void 0:null==(c=b.recommendationDetails)?void 0:null==(l=c.impact)?void 0:null==(p=l.costImpact)?void 0:p.localCurrencyCode;b=new _.Lo(4,d)}else{let l,p,r;b=null==(d=a[0])?void 0:null==(l=d.recommendationDetails)?void 0:null==(p=l.impact)?void 0:null==(r=p.costImpact)?void 0:r.currencyCode;b=new _.Lo(4,b)}if(this.linkToHubTable){var e=this.showInLocalCurrency?ZIh(a):$Ih(a);return"Save an estimated "+b.format(e)+"/mo. with additional commitments."}c=this.showInLocalCurrency?
ZIh(a):$Ih(a.slice(0,1));let f;a=null==(e=a[0])?void 0:null==(f=e.recommendationDetails)?void 0:f.commitmentDetails;let g;if(a&&void 0!==(null==(g=a.cudDetails)?void 0:g.project)){let l;return"Save an estimated "+b.format(c)+"/mo. in "+(null==(l=a.cudDetails)?void 0:l.project)+" with an additional commitment."}return"Save an estimated "+b.format(c)+"/mo. with an additional commitment."}getId(){return this.billingAccountIdSubject.pipe(_.qf(a=>this.accountService.get(a)))}dismiss(){this.dataObs.subscribe(a=>
{const {associatedResourceNames:b,name:c="",etag:d="",assistKind:e,type:f="",subtype:g,entityType:l}=a.assistObjects[0].base;a={affectedResourceNames:null!=b?b:[],name:c,etag:d,kind:null!=e?e:"KIND_UNSPECIFIED"};this.analyticsService.sendEvent({type:"gcpRecoMetrics",name:"overflowMenuItemClicked",metadata:{menuItem:"dismiss",assistType:null!=f?f:"",subtype:null!=g?g:"",cloudEntityType:null!=l?l:"CET_UNSPECIFIED"}});_.tEh(this.recsColiseumService,a).pipe(_.Se(1),_.qf(p=>p.afterClosed())).subscribe(p=>
{p&&(p=_.BEh(this.router),_.zEh(this.aaMetricsService,f,c,p,{subtype:g||""}))})})}openObjectPanel(){this.dataObs.subscribe(a=>{const {name:b="",type:c="",assistKind:d,subtype:e}=a.assistObjects[0].base;_.rIh(this.recommendationSubtaskService,b,c,null!=d?d:"KIND_UNSPECIFIED",null!=e?e:"");this.analyticsService.sendEvent({type:"activeAssistSplitButton",name:"openRecoSubtask",metadata:{type:c,subtype:e||""}})})}ngOnChanges(a){a.billingAccountId&&this.billingAccountIdSubject.next(this.billingAccountId);
a.filter&&this.filterSubject.next(this.filter)}};aJh.\u0275fac=function(a){return new (a||aJh)(_.A(_.oC),_.A(_.Cv),_.A(_.EIh),_.A(_.p5),_.A(_.zH),_.A(_.AH),_.A(_.jm),_.A(_.gn))};
aJh.\u0275cmp=_.m({type:aJh,selectors:[["billing-recommendation-banner"]],viewQuery:function(a,b){a&1&&_.Xf(_.Vo,5);if(a&2){let c;_.Zf(c=_.$f())&&(b.message=c.first)}},inputs:{messageText:"messageText",billingAccountId:"billingAccountId",filter:"filter",onlyShowSingleRecommendation:"onlyShowSingleRecommendation",linkToHubTable:"linkToHubTable",showInLocalCurrency:"showInLocalCurrency"},features:[_.od],decls:2,vars:3,consts:()=>[" View recommendations ",["icon","rec-bulb-blue","iconset","recommendations_hub",
4,"ngIf"],["icon","rec-bulb-blue","iconset","recommendations_hub"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","class","dismiss-message-action",3,"click",4,"ngIf"],["mat-button","","color","primary","cfcTrackedEvent","","track-type","commitmentsReport","track-name","viewRecommendations","track-metadata-location","savingsAlert",3,"cfcRouterLink","queryParams",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","",1,"dismiss-message-action",3,"click"],"icon close size small aria-hidden true".split(" "),
["mat-button","","color","primary","cfcTrackedEvent","","track-type","commitmentsReport","track-name","viewRecommendations","track-metadata-location","savingsAlert",3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.E(0,LIh,7,4,"cfc-message",1),_.S(1,"async"));a&2&&_.F("ngIf",b.hasIamPermission&&_.U(1,1,b.dataObs))},dependencies:[_.dt,_.Qu,_.nt,_.Lp,_.Pu,_.Bl,_.Vo,_.Lu,_.Wo,_.cD,_.Uo,_.cw,_.Gl],styles:[".mat-mdc-button.dismiss-message-action[_ngcontent-%COMP%]{padding:0 7px}\n/*# sourceMappingURL=recommendation_banner.css.map */"]});var bJh=[_.et,_.Uu,_.Hl,_.ep,_.dD,_.dp,_.dw],cJh=class{};cJh.\u0275fac=function(a){return new (a||cJh)};cJh.\u0275mod=_.ed({type:cJh,id:"pm_billing_recommendation_banner"});cJh.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{RecommendationBanner:aJh}}],imports:[bJh,_.q5]});_.xf(cJh,"pm_billing_recommendation_banner");
_.Jg();
}catch(e){_._DumpException(e)}
try{
var $rc=function(a){let b,c,d,e;const f=(null!=(b=a.expression)?b:"")+(null!=(c=a.title)?c:"")+(null!=(d=a.description)?d:"")+(null!=(e=a.location)?e:"");a=new _.UXa;a.update(f);return _.TDa(a.digest())},asc=function(a){return[...(new Set(a.map(b=>b.policy).flatMap(b=>{let c;return null!=(c=b.bindings)?c:[]}).flatMap(b=>{let c;return null!=(c=b.members)?c:[]})))].map(b=>({iamMember:b,memberInfo:_.sF(b)})).filter(({memberInfo:b})=>4===b.principalType).map(({iamMember:b,memberInfo:c})=>({iamMember:b,
email:c.rawName}))},bsc=function({member:a,role:b,isRoleGrantable:c}){return{role:b,type:_.sF(a).principalType,iamMember:a,displayName:_.sF(a).displayName,resources:new Set,roleSourceMap:new Map,invitee:!1,nonGrantable:!c}},gsc=function(a,b,c,d,e,f){for(const l of a){var g=l.role;"roles/resourcemanager.projectOwnerInvitee"===g&&(g="roles/owner");a=csc(g,b);const p=!!a;if(!a){let t,v;if(null==(t=f)?0:null==(v=t.bindings)?0:v.some(x=>x.role===l.role))a={name:g};else continue}let r=void 0;l.condition&&
(r=dsc(l.condition),g=esc(g,r));fsc(c,g,new Map);g=c.get(g);for(const t of l.members||[]){fsc(g,t,bsc({member:t,role:a,isRoleGrantable:p}));const v=g.get(t);v.resources.add(d);v.invitee="roles/resourcemanager.projectOwnerInvitee"===l.role;v.binding=l;r&&(v.condition=r);e&&(fsc(v.roleSourceMap,d,[]),v.roleSourceMap.get(d).push(e))}}},hsc=function(a){const b=new Map;for(const c of a)fsc(b,c.getResourceType(),[]),b.get(c.getResourceType()).push(c);return b},isc=function(a){for(const [b,{resourceIdExtractor:c}]of _.Dq.entries())if(c&&
c.test(a))return new _.Eq(c.exec(a)[1],b,void 0,a);return null},fsc=function(a,b,c){a.has(b)||a.set(b,c)},csc=function(a,b){return b.find(c=>c.name===a)},dsc=function(a){const b=$rc(a);return Object.assign({},{displayName:a.title?a.title:b.substring(0,5)},a)},esc=function(a,b){b=$rc(b);return a+`+condition:${b}`},jsc=function(a,b){return a.detailsUpdateStreamCache.onChange.pipe(_.oe(c=>{c=c.value;return c[0]&&c[0].fullResourceName===b}),_.y(c=>c.value))},ksc=function(a,b){return _.le(_.bbc(a,b),jsc(a,
b))},lsc=function(a,b){return _.$d(b.map(c=>ksc(a.iamActionService,c.getFullResourcePath()))).pipe(_.de(c=>c.map((d,e)=>{const f=b[e],g=f.getResourceId();let l;const p=null==(l=d.find(r=>r.fullResourceName===(null==f?void 0:f.getFullResourcePath())))?void 0:l.policy;return d.map(r=>{const t=b.find(v=>v.getFullResourcePath()===r.fullResourceName)||isc(r.fullResourceName);return{policy:r.policy,selectedResourceId:g,selectedResourcePolicy:p,detailResource:t}})})))},msc=class{constructor(a,b,c){this.iamActionService=
a;this.iamServiceAccountService=b;this.rolesService=c}generateRoleMap(a,b={skipVisibilityCheck:!0}){const c=(this.allResourcesSupportDetails(a)?lsc(this,a):this.fetchPolicies(a)).pipe(_.mf({bufferSize:1,refCount:!0})),d=c.pipe(_.y(asc),_.qf(e=>this.iamServiceAccountService.getAccountDescriptions(e.map(f=>f.email),!1).pipe(_.y(f=>e.map(g=>{const l=f.get(g.email);if(l)return{ids:g,description:l}}).filter(_.Yw)))));a=this.rolesService.queryGrantableRoles(a,b);return _.$d([c,d,a]).pipe(_.y(([e,f,g])=>
{var l=new Map;for(var p of e)gsc(p.policy.bindings||[],g,l,p.selectedResourceId,p.detailResource,p.selectedResourcePolicy);e=new Map;for(const [t,v]of l)e.set(t,Array.from(v.values()));l=new Map;for(var r of e.values())for(const t of r)g=t.iamMember,l.has(g)?p=l.get(g):(p=new Set,l.set(g,p)),p.add(t);for(const t of f){f=t.ids;let v;if(null!=(v=t.description)&&v.isApiServiceAgent&&(r=f.email,r=(r=r.match(/^service-(\d+)@/)||r.match(/^(\d+)@/))?Number(r[1]):void 0,f=l.get(f.iamMember)))for(const x of f)x.serviceAccountInfo=
{isApiServiceAgent:!0,projectId:r}}return e}))}allResourcesSupportDetails(a){return a.every(b=>!!b.getFullResourcePath()&&2!==b.getResourceType())}fetchPolicies(a){a=hsc(a);return _.$d([...a.entries()].map(([b,c])=>{c=c.map(d=>d.getResourceId());return this.iamActionService.getPolicies(b,c,!1)})).pipe(_.y(b=>b.flatMap(c=>[...c.entries()].map(([d,e])=>({policy:e,selectedResourceId:d,selectedResourcePolicy:e})))))}};msc.\u0275fac=function(a){return new (a||msc)(_.k(_.Bv),_.k(_.UG),_.k(_.XE))};
msc.\u0275prov=_.h({token:msc,factory:msc.\u0275fac});var nsc=new _.Uk("45426098");var ssc,vsc,tsc,usc,wsc,ysc,rsc,zsc,Asc,Bsc,Csc,Dsc,Esc,osc;_.psc=function(a){const b=new Map;for(const c of a)osc(b,c.getResourceType(),[]),b.get(c.getResourceType()).push(c);return b};_.qsc=function(a,b,c=!1){const d=[];b=_.psc(b);for(const [e,f]of b){b=e;const g=f.map(l=>l.getResourceId());d.push(a.iamActionService.getPolicies(b,g,c))}return _.$d([...d]).pipe(_.y(e=>{const f=new Map;for(const g of e)for(const [l,p]of g)f.set(l,p);return f}))};
ssc=function(a,b,c={skipVisibilityCheck:!0}){const d=b.map(e=>ksc(a.iamActionService,e.getFullResourcePath()));c=a.rolesService.queryGrantableRoles(b,c);return _.$d([_.$d(d),c]).pipe(_.y(([e,f])=>{const g=new Map;e.forEach((l,p)=>{g.set(b[p].getResourceId(),l)});return rsc(g,f,b)}))};
vsc=function(a,b){const c=tsc(b),d=usc(c),e=Array.from(d.keys());return a.iamServiceAccountService.getAccountDescriptions(e,!1).pipe(_.y(f=>{for(const l of e){let p;if(null==(p=f.get(l))||!p.isApiServiceAgent)continue;var g=l.match(/^service-(\d+)@/)||l.match(/^(\d+)@/);g=g?Number(g[1]):void 0;const r=d.get(l);for(const t of r)t.serviceAccountInfo={isApiServiceAgent:!0,projectId:g}}return b}))};tsc=function(a){return Array.from(a.values()).flat().filter(b=>4===b.type)};
usc=function(a){const b=new Map;for(const c of a)if(a=c.iamMember.match(/^serviceAccount:(.+)/))a=a[1],b.has(a)||b.set(a,new Set),b.get(a).add(c);return b};
wsc=function(a,b){const c=a[0];a={iamMember:c.iamMember,type:c.type,displayName:c.displayName,roles:a.map(d=>({binding:d.binding,condition:d.condition,role:d.role,invitee:d.invitee,nonGrantable:d.nonGrantable,inheritedFrom:d.roleSourceMap?d.roleSourceMap.get(b.getResourceId())||[]:[]}))};c.serviceAccountInfo&&(a.serviceAccountInfo=c.serviceAccountInfo);return a};
_.xsc=function(a,b){return a.generateRoleMap([b],{skipVisibilityCheck:!0}).pipe(_.y(c=>{c=Array.from(c.values()).reduce((e,f)=>e.concat(f),[]);const d=new Map;c.forEach(e=>{d.has(e.iamMember)||d.set(e.iamMember,[]);d.get(e.iamMember).push(e)});return Array.from(d.values()).map(e=>wsc(e,b))}))};ysc=function({member:a,role:b,isRoleGrantable:c}){return{role:b,type:_.sF(a).principalType,iamMember:a,displayName:_.sF(a).displayName,resources:new Set,roleSourceMap:new Map,invitee:!1,nonGrantable:!c}};
rsc=function(a,b,c){const d=new Map;for(const [f,g]of a.entries()){const l=f;var e=g;const p=c.find(r=>r.getResourceId()===l);a=e.find(r=>{let t;return r.fullResourceName===(null==(t=p)?void 0:t.getFullResourcePath())});for(const r of e){e=c.find(v=>v.getFullResourcePath()===r.fullResourceName)||zsc(r.fullResourceName);let t;Asc(r.policy.bindings||[],b,d,l,e,null==(t=a)?void 0:t.policy)}}return Bsc(d)};
zsc=function(a){for(const [b,{resourceIdExtractor:c}]of _.Dq.entries())if(c&&c.test(a))return new _.Eq(c.exec(a)[1],b,void 0,a);return null};
Asc=function(a,b,c,d,e,f){for(const l of a){var g=l.role;"roles/resourcemanager.projectOwnerInvitee"===g&&(g="roles/owner");a=Csc(g,b);const p=!!a;if(!a){let t,v;if(null==(t=f)?0:null==(v=t.bindings)?0:v.some(x=>x.role===l.role))a={name:g};else continue}let r=void 0;l.condition&&(r=Dsc(l.condition),g=Esc(g,r));osc(c,g,new Map);g=c.get(g);for(const t of l.members||[]){osc(g,t,ysc({member:t,role:a,isRoleGrantable:p}));const v=g.get(t);v.resources.add(d);v.invitee="roles/resourcemanager.projectOwnerInvitee"===
l.role;v.binding=l;r&&(v.condition=r);e&&(osc(v.roleSourceMap,d,[]),v.roleSourceMap.get(d).push(e))}}};Bsc=function(a){const b=new Map;for(const [c,d]of a)b.set(c,Array.from(d.values()));return b};Csc=function(a,b){return b.find(c=>c.name===a)};Dsc=function(a){const b=$rc(a);return Object.assign({},{displayName:a.title?a.title:b.substring(0,5)},a)};Esc=function(a,b){b=$rc(b);return a+`+condition:${b}`};osc=function(a,b,c){a.has(b)||a.set(b,c)};
_.VG=class{constructor(a,b,c,d,e){this.iamActionService=a;this.iamPermissionsService=b;this.iamServiceAccountService=c;this.parallelRoleMemberMapService=d;this.rolesService=e}generateRoleMap(a,b={skipVisibilityCheck:!0}){if(_.zc(nsc))return this.parallelRoleMemberMapService.generateRoleMap(a,b);if(this.allResourcesSupportDetails(a))return ssc(this,a,b).pipe(_.de(d=>vsc(this,d)));const c=_.qsc(this,a);a=this.rolesService.queryGrantableRoles(a,b);return _.$d([c,a]).pipe(_.y(([d,e])=>{const f=new Map;
for(const [g,l]of d)d=l,Asc(d.bindings||[],e,f,g,void 0,d);return Bsc(f)}),_.de(d=>vsc(this,d)))}allResourcesSupportDetails(a){return a.every(b=>!!b.getFullResourcePath()&&2!==b.getResourceType())}};_.VG.\u0275fac=function(a){return new (a||_.VG)(_.k(_.Bv),_.k(_.Cv),_.k(_.UG),_.k(msc),_.k(_.XE))};_.VG.\u0275prov=_.h({token:_.VG,factory:_.VG.\u0275fac});var Fsc=[_.VG,msc];_.WG=class{};_.WG.\u0275fac=function(a){return new (a||_.WG)};_.WG.\u0275mod=_.ed({type:_.WG});_.WG.\u0275inj=_.Qc({providers:Fsc});
}catch(e){_._DumpException(e)}
try{
_.eqc=class{ngOnInit(){this.memberTip=_.dqc.get(this.type);this.iconType=_.cqc.get(this.type);void 0===this.iconType&&(this.memberTip=_.dqc.get(2),this.iconType=_.bqc)}};_.eqc.\u0275fac=function(a){return new (a||_.eqc)};
_.eqc.\u0275cmp=_.m({type:_.eqc,selectors:[["cfc-iam-member-type-icon"]],inputs:{type:"type"},decls:1,vars:3,consts:[["role","img",1,"cfctest-iam-member-type-icon","cm-icon--vertical-align-cap-middle",3,"icon","cfcTooltip"]],template:function(a,b){a&1&&_.J(0,"cm-icon",0);a&2&&(_.F("icon",b.iconType)("cfcTooltip",b.memberTip),_.Df("aria-label",b.memberTip))},dependencies:[_.Eo,_.uw,_.iw],encapsulation:2});_.OG=class{};_.OG.\u0275fac=function(a){return new (a||_.OG)};_.OG.\u0275mod=_.ed({type:_.OG});
_.OG.\u0275inj=_.Qc({imports:[_.Fo,_.ww]});
}catch(e){_._DumpException(e)}
try{
var gtc,htc,itc,ktc,ltc,mtc,hH,ntc,otc,ptc,qtc,rtc,iH,jH,stc,kH,ttc,utc,vtc,lH,mH,wtc,xtc,ytc,ztc,Atc,Btc,Ctc,Dtc,Etc,Ftc,Gtc,Htc,Itc,Jtc,Ktc,Mtc,Ntc,Otc,Ptc,Rtc,Stc,Ttc,Utc,Vtc,Wtc,Xtc,Ytc,Ztc,$tc,auc,buc,cuc,duc,euc,fuc,guc,Ltc,huc,iuc,kuc;
gtc=function(a){switch(a){case "REOPENABLE":return"REOPENABLE";case "ACCOUNT_NOT_CLOSED":return"ACCOUNT_NOT_CLOSED";case "ACCOUNT_NOT_IN_GOOD_STANDING":return"ACCOUNT_NOT_IN_GOOD_STANDING";case "FREE_TRIAL_EXPIRED":return"FREE_TRIAL_EXPIRED";case "INSTRUMENTLESS_ACCOUNT":return"INSTRUMENTLESS_ACCOUNT";case "INVOICED_ACCOUNT":return"INVOICED_ACCOUNT";case "MIGRATED_ACCOUNT":return"MIGRATED_ACCOUNT";case "NO_SIGNUP_DETAILS":return"NO_SIGNUP_DETAILS";case "CURRENCY_MISMATCH":return"CURRENCY_MISMATCH";
default:return"UNKNOWN"}};htc=function(a){return{reopenabilityStatus:gtc(a.billingAccountsQuery.checkBillingAccountReopenable.status)}};itc=function(){return a=>{if(!Array.isArray(a.value))return null;a=a.value;const b=[],c=new Set;for(let d=0;d<a.length;d++){let e=a[d];c.has(e)?b.push(d):c.add(e)}return 0<b.length?{noDuplicates:{invalidIndexes:b}}:null}};_.jtc=function(a){return a.map(b=>"custom"===b.groupName?"custom":b.name)};
ktc=function(a){switch(a){case "ACTIVE":return"ACTIVE";case "EXPIRED":return"EXPIRED";case "UPGRADED":return"UPGRADED";case "UNKNOWN_STATE":return"UNKNOWN_STATE";default:return _.rc(a,"Unexpected state")}};
ltc=function(a){switch(a){case "EXISTING_USER":return"EXISTING_USER";case "GOOGLER":return"GOOGLER";case "ORGANIZATION_PERMISSIONS":return"ORGANIZATION_PERMISSIONS";case "BLACKLISTED_DOMAIN":case "BLACKLISTED_USER":case "UNSUPPORTED_USER_IDENTIFIER":case "UNKNOWN_REASON":return"UNKNOWN_REASON";default:_.rc(a,void 0)}};
mtc=function({maxRetries:a=1,delayMillis:b=100}){return _.Od(_.Zla(c=>c.pipe(_.y(d=>({error:d,count:1})),_.bf((d,{error:e,count:f})=>({error:e,count:d.count+f})),_.y(({error:d,count:e})=>{if(e>a)throw d;return{error:d,count:e}}),_.Oe(b))))};
hH=function(a,b=!1){return{kind:"multiplechoice",text:b?"Based on your experience today, how satisfied or dissatisfied are you with "+a+"?":"Overall, how satisfied are you with "+a+"?",selections:["Very satisfied","Somewhat satisfied","Neither satisfied nor dissatisfied","Somewhat dissatisfied","Very dissatisfied"]}};
ntc=function(a){return{kind:"multiplechoice",text:"Based on your experience, how reliable would you say "+a+" is?",selections:["Extremely reliable","Very reliable","Moderately reliable","Slightly reliable","Not at all reliable"]}};otc=function(a){return{kind:"multiplechoice",text:"Based on your experience, how easy to use would you say "+a+" is?",selections:["Extremely easy","Very easy","Moderately easy","Slightly easy","Not easy at all"]}};
ptc=function(a){return{kind:"multiplechoice",text:"Based on your experience, how easy to use would you say "+a+" are?",selections:["Extremely easy","Very easy","Moderately easy","Slightly easy","Not easy at all"]}};qtc=function(a){return{kind:"multiplechoice",text:"Based on your experience, how trustworthy would you say "+a+" is?",selections:["Extremely trustworthy","Very trustworthy","Moderately trustworthy","Slightly trustworthy","Not at all trustworthy"]}};
rtc=function(a){return{kind:"multiplechoice",text:"Based on your experience, how useful would you say "+a+" is?",selections:["Extremely useful","Very useful","Moderately useful","Slightly useful","Not at all useful"]}};iH=function(a){return{kind:"nps",text:"How likely are you to recommend "+a+" to a friend or colleague?",scale:11}};jH=function(a){return{kind:"opentext",text:"What, if anything, do you most dislike about "+a+"?"}};
stc=function(a){return{kind:"opentext",text:"When you answered the previous question, what came to mind when you thought about "+a+" being easy (or not easy) to use?"}};kH=function(a){return{kind:"opentext",text:a}};ttc=function(a){return{kind:"opentext",text:"What, if anything, do you like most about "+a+"?"}};utc=function(a){return{kind:"opentext",text:"When you answered the previous question, what came to mind when you thought about recommending or not recommending "+a+"?"}};
vtc=function(a){return{kind:"opentext",text:"What do you currently most dislike about "+a+"? Please be as specific as possible."}};lH=function(a){return{kind:"epilogue",text:"Thank you for your feedback!",bodyText:"If you would like to sign up for a chance to participate in further user experience research and help us shape future products and features click below.",link:{text:"Sign up",url:"https://google.qualtrics.com/jfe/form/SV_4Me7SiMewdvVYhL?referral_code="+a}}};
mH=function(a,b,c,d){return{surveyName:a,surveyNameHuman:b,questions:[hH(c),iH(c),jH(c),ntc(c),otc(c),stc(c)],epilogue:lH(d)}};wtc=function(a,b,c,d){return{surveyName:a,surveyNameHuman:b,questions:[hH(c),iH(c),jH(c),{kind:"multiplechoice",text:"Based on your experience, how reliable would you say "+c+" are?",selections:["Extremely reliable","Very reliable","Moderately reliable","Slightly reliable","Not at all reliable"]},ptc(c),stc(c)],epilogue:lH(d)}};
xtc=function(a,b,c,d){return{surveyName:a,surveyNameHuman:b,questions:[hH(c),jH(c)],epilogue:lH(d)}};ytc=function(a,b,c,d){return{surveyName:a,surveyNameHuman:b,questions:[hH(c),iH(c),jH(c),ntc(c),otc(c),stc(c),qtc(c)],epilogue:lH(d)}};ztc=function(a,b,c,d){return{surveyName:a,surveyNameHuman:b,questions:[hH(c),jH(c),ttc(c)],epilogue:lH(d)}};
Atc=function(a,b,c,d){return{surveyName:a,surveyNameHuman:b,questions:[hH(c),iH(c),{kind:"opentext",text:"What do you want Google to improve on in "+c+"?"},otc(c),stc(c)],epilogue:lH(d)}};
Btc=function(a,b){return{surveyName:a,surveyNameHuman:b,questions:[hH("the Private Offers experience"),kH("Please tell us more about your satisfaction rating."),{kind:"multiplechoice",text:"How would you rate the ease of use for setting up a private offer?",selections:["Very easy","Somewhat easy","Neither easy nor difficult","Somewhat difficult","Very difficult"]},kH("Do you have any suggestions for improving the Private Offers experience?")],epilogue:lH("h_priv")}};
Ctc=function(a){return{surveyName:a,surveyNameHuman:"Connectivity Test",questions:[hH("the results provided by this Connectivity Test"),{kind:"multipleselect",text:"Which of the following statements would you agree with?",selections:["I believe the result is incorrect","I don't know how to fix the detected problem","Test result information is not precise enough","Scenario I am trying to analyze is not supported","None of the above"],randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},kH("What, if anything, can be done to improve the Connectivity Tests?")],
epilogue:lH("h_con")}};
Dtc=function(){return{surveyName:"marketplace-discovery-sentiment-custom",surveyNameHuman:"Marketplace Discovery Sentiment",questions:[{kind:"multiplechoice",text:"What is your main goal for visiting Google Cloud Marketplace today?",selections:"To browse products offered by the Marketplace;To assess it as a potential procurement channel;To find information about a specific product;To try out a specific product before purchasing;To purchase a product;To research and find solutions for my work;To view or accept a private offer;To use or manage a product I have purchased;Other".split(";"),randomizeResponseOptionOrder:!0,
preserveOtherAsLast:!0},{kind:"multiplechoice",text:"How satisfied are you with using Google Cloud Marketplace to achieve your goal today?",selections:["Very satisfied","Somewhat satisfied","Neither satisfied nor dissatisfied","Somewhat dissatisfied","Very dissatisfied"]},{kind:"opentext",text:"What came to mind when you thought about being satisfied (or dissatisfied) with Google Cloud Marketplace?"},{kind:"multiplechoice",text:"How easy or difficult is it to use Google Cloud Marketplace to achieve your goal today?",
selections:["Very easy","Somewhat easy","Neither easy nor difficult","Somewhat difficult","Very difficult"]},{kind:"opentext",text:"What came to mind when you thought about Google Cloud Marketplace being easy (or difficult) to use?"},{kind:"multiplechoice",text:"What job title, if any, best describes your role in your organization?",selections:"IT admin, Platform admin, or similar roles;Cloud architect, Solution architect, or similar roles;Software engineer, DevOps engineer, or similar roles;IT decision maker, Director of IT, or similar roles;IT procurement/sourcing specialist or similar roles;Google field salesperson or similar roles;Other".split(";"),
randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0}],epilogue:lH("h_lau")}};
Etc=function(){return{surveyName:"transfer-appliance-custom",surveyNameHuman:"Cloud Transfer Appliance",questions:[hH("Cloud Transfer Appliance"),iH("Cloud Transfer Appliance"),utc("Cloud Transfer Appliance"),vtc("Cloud Transfer Appliance"),{kind:"opentext",text:"What were you trying to accomplish using Transfer Appliance?"},{kind:"multiplechoice",text:"Which task did you find the most difficult to do using the Cloud console for Transfer Appliance:",selections:"Learn the products in the console;Place an order;Set up permissions;Check on status;Troubleshoot errors;Find relevant documentation;None of the above are difficult".split(";")}],
epilogue:lH("h_tap")}};Ftc=function(a,b){return{surveyName:a,surveyNameHuman:"Apigee Onboarding",questions:[hH("onboarding Apigee"),jH("onboarding Apigee")],epilogue:lH(b)}};Gtc=function(a){a&1&&(_.G(0,"li"),_.Of(1,5),_.J(2,"span",9),_.Pf(),_.I())};Htc=function(a){a&1&&(_.G(0,"li"),_.Of(1,6),_.J(2,"span",9),_.Pf(),_.I())};Itc=function(a){a&1&&(_.G(0,"li"),_.Of(1,7),_.J(2,"span",9),_.G(3,"ul"),_.J(4,"li")(5,"li")(6,"li"),_.I(),_.Pf(),_.I())};
Jtc=function(a){return Object.assign({},a,{displayValue:a.displayValue.trim(),value:a.value.trim()})};Ktc=function(a){return b=>{if(!b.value)return _.w(null);const c=b.value;return _.re(500).pipe(_.qf(()=>_.zrc(a,c)),_.y(d=>{d=d.filter(e=>0===e.type).map(e=>e.userValue);return d.length?{invalidContacts:d}:null}),_.Je(d=>{d.errorExperience=6;return _.w(null)}))}};Mtc=function(a){return b=>{if(!b.value)return null;b=Ltc(a,b.value);return b.length?{invalidContacts:b}:null}};
Ntc=function(a){if(!a.value)return null;a=(a.value||[]).filter(b=>"allUsers"===b||"allAuthenticatedUsers"===b);return a.length?{allUsersInvalid:a}:null};Otc=function(a){if(!a.value)return null;const b=/^ProjectOwner:|^ProjectEditor:|^ProjectViewer:/i;a=(a.value||[]).filter(c=>b.test(c));return a.length?{projectMembersInvalid:a}:null};Ptc=function(a){return a.value&&0!==a.value.length?null:{requireMember:!0}};
Rtc=function(a,b){if(a&1){const c=_.n();_.G(0,"mat-chip-row",21);_.O("removed",function(){const d=_.q(c).index,e=_.P();return _.u(e.remove(d))});_.Q(1);_.J(2,"cfc-chip-remove-icon",22);_.I()}a&2&&(a=b.$implicit,b=_.P(),_.F("color",Qtc(b,a))("removable",!0),_.Df("color",Qtc(b,a)),_.z(),_.R(" ",a," "),_.z(),_.F("chipLabel",a))};Stc=function(a){a&1&&_.J(0,"cfc-form-stack-field-label",23);a&2&&(a=_.P(),_.F("label",a.label))};Ttc=function(a){a&1&&_.Q(0);a&2&&(a=_.P(),_.R(" ",a.label," "))};
Utc=function(a){a&1&&(_.G(0,"cfc-help-button",24),_.J(1,"cfc-add-members-tooltip"),_.I())};Vtc=function(a){a&1&&(_.G(0,"mat-hint"),_.Q(1),_.I());a&2&&(a=_.P(),_.z(),_.R(" ",a.hint," "))};Wtc=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,5),_.I())};Xtc=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,6),_.I())};Ytc=function(a){a&1&&(_.K(0),_.N(1,7),_.L())};Ztc=function(a){a&1&&_.Q(0);a&2&&(a=_.P(2),_.R(" ",a.doesNotSupportAllUsersErrorMessage," "))};
$tc=function(a){a&1&&(_.G(0,"cm-error",25),_.E(1,Ytc,2,0,"ng-container",26)(2,Ztc,1,1,"ng-template",null,4,_.ig),_.I());if(a&2){a=_.ag(3);const b=_.P();_.z();_.F("ngIf",!b.doesNotSupportAllUsersErrorMessage)("ngIfElse",a)}};auc=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,8),_.I())};buc=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,9),_.I())};
cuc=function(a,b){if(a&1){const c=_.n();_.G(0,"mat-option",27);_.O("mousedown",function(d){_.q(c);return _.u(d.preventDefault())})("onSelectionChange",function(d){const e=_.q(c).$implicit,f=_.P();return _.u(f.changeSelection(d,e))});_.Q(1);_.I()}a&2&&(a=b.$implicit,_.F("value",a.value),_.z(),_.R(" ",a.displayValue," "))};
duc=function(a){a&1&&(_.K(0),_.J(1,"cfc-resource-icon",27),_.Q(2),_.S(3,"displayName"),_.L());a&2&&(a=_.P(),_.z(),_.F("resourceType",a.resources[0].getResourceType()),_.z(),_.R(" ",_.U(3,2,a.resources[0])," "))};euc=function(a,b){a&1&&(_.K(0),_.J(1,"cfc-resource-icon",27),_.K(2),_.Q(3,"\u00a0"),_.L(),_.G(4,"span",31),_.Q(5),_.S(6,"displayName"),_.I(),_.L());a&2&&(a=b.rowData,_.z(),_.F("resourceType",a.resource.getResourceType()),_.z(4),_.bg(_.U(6,2,a.resource)))};
fuc=function(a){a&1&&(_.G(0,"cfc-table",28),_.S(1,"resourcesTableManager"),_.G(2,"cfc-table-column",29),_.E(3,euc,7,4,"ng-container",30),_.I()());a&2&&(a=_.P(),_.F("tableManager",_.U(1,6,a.resources))("columnsConfig",a.resourcesTableColumnsConfig)("showFilter",!1)("pagination",!1)("tableRendererV2",!1),_.z(3),_.F("cfcTableTemplate","body"))};
guc=function(a){a&1&&(_.G(0,"p"),_.K(1),_.Of(2,10),_.J(3,"strong")(4,"strong"),_.Pf(),_.L(),_.G(5,"a",32),_.N(6,11),_.I()());a&2&&(a=_.P(),_.z(5),_.F("cfcDocLink",a.dl.CONSOLE__IAM_HELP_MEMBERS_ALLAUTHENTICATEDUSERS))};Ltc=function(a,b){return b.filter(c=>a.contactTypeCache.has(c)).filter(c=>{let d=null;a.contactTypeCache.get(c).subscribe(e=>{d=e}).unsubscribe();return 0===d})};
huc=function(a,b,c){const d=b?["allUsers","allAuthenticatedUsers"]:[];return c?a.purviewService.latestPurviewObservable.pipe(_.Se(1),_.y(e=>e.currentProject),_.y(e=>e?["projectViewer","projectEditor","projectOwner"].map(f=>`${f}:${e.id}`):[]),_.y(e=>e.concat(d))):_.w(d)};iuc=function(a,b,c,d){b=b.toLowerCase();return huc(a,c,d).pipe(_.y(e=>e.filter(f=>f.toLowerCase().includes(b))),_.y(e=>e.map(f=>({displayValue:f,value:f}))))};_.juc={type:1,path:"/iam/docs/overview#concepts_related_identity"};
kuc={type:1,path:"/iam/help/members/allauthenticatedusers"};_.luc={type:1,path:"/iam/help/roles/reference"};var muc={entity:"FREETRIAL_GRAPHQL",entityService:"FreetrialEntityService"};var nuc=function(a,b){return a.config.request("UpgradeFreeTrial",'mutation UpgradeFreeTrial($billingAccountName: String!) @Signature(bytes: "2/zJepMzfqQt14f3Is5mX3z7h6wkJsheogC4WMJLLxUWg=") { upgradeFreeTrial(billingAccountName: $billingAccountName) { _isPresent } }',b,void 0)},ouc=function(a,b){return a.config.request("GetAccountTrialStatus",'query GetAccountTrialStatus($billingAccountName: String!) @Signature(bytes: "2/yHKIDQZd14ge2f+G8MbPLewH/zRBhe5YxJd4yHWDYmc=") { getAccountTrialStatus(billingAccountName: $billingAccountName) { billingAccountTrialStatus { accountId startTime expirationTime endTime creditRemainingMicros creditRemainingCurrencyCode creditGrantedMicros state trialType } } }',
b,void 0)},puc=function(a,b){return a.config.request("GetFirstChargeDate",'query GetFirstChargeDate($firstChargeDateRequest: IN_google_internal_cloud_console_clientapi_freetrial_FirstChargeDateRequest!) @NullProto @Signature(bytes: "2/z51p8pV2l4Ggb0IKNsIaVGmaKfVEm5+6dg9HTIBgM6I=") { getFirstChargeDate(firstChargeDateRequest: $firstChargeDateRequest) { hasIncurredFreeTrialUsage firstChargeStartedDate firstChargeNetCost { ...money } } } fragment money on google_type_Money { currencyCode units nanos }',
b,void 0)},quc=class{constructor(a,b){this.DISABLE_PARTIAL_DATA=!1;this.disablePartialDataFlag="";this.disablePartialData=this.DISABLE_PARTIAL_DATA||!!this.disablePartialDataFlag&&_.Dc(this.disablePartialDataFlag);this.config=a.createConfig(muc,this.disablePartialData);this.operation=b.create(this.config)}};quc.\u0275fac=function(a){return new (a||quc)(_.k(_.Cq),_.k(_.Oq))};quc.\u0275prov=_.h({token:quc,factory:quc.\u0275fac,providedIn:"root"});var ruc=class extends _.Am{};ruc.\u0275fac=(()=>{let a;return function(b){return(a||(a=_.Id(ruc)))(b||ruc)}})();ruc.\u0275prov=_.h({token:ruc,factory:function(a){return a?new a:_.k(_.Km).create("globalFreeTrialBooleanStateId")},providedIn:"root"});var suc=class extends _.L$a{};suc.\u0275fac=(()=>{let a;return function(b){return(a||(a=_.Id(suc)))(b||suc)}})();suc.\u0275prov=_.h({token:suc,factory:function(a){return a?new a:_.k(_.Qq).get("freetrialservice-state-change")},providedIn:"root"});var tuc=function(a){var b=new Date;return _.ge(()=>{const c=b.toISOString().substring(0,10);_.etc(a.userStateService,"NEW_USER_LANDING").set("trial_start",c);return a.basicTypesService.update({key:{setting:"NEW_USER_LANDING_TRIAL_START_DATE"},value:{stringVal:c}}).pipe(_.G5b(2),_.af(),_.Je(()=>_.w(void 0)))})},uuc=class{constructor(a,b){this.basicTypesService=a;this.userStateService=b}};uuc.\u0275fac=function(a){return new (a||uuc)(_.k(_.tr),_.k(_.ftc))};
uuc.\u0275prov=_.h({token:uuc,factory:uuc.\u0275fac,providedIn:"root"});var vuc=new _.Uk("45413284",!0);var wuc=function(a){return a.booleanState.get("freetrialservice-began-in-current-session")||!1},xuc=function(a){return a.booleanState.get("freetrialservice-maps-in-current-session")||!1},yuc=class{constructor(a,b,c){this.booleanState=a;this.stateChangeNotification=b;this.newUserStateService=c;this.stateChanges=this.stateChangeNotification.onEmit}begin(){this.booleanState.set("freetrialservice-began-in-current-session",!0);_.zc(vuc)||tuc(this.newUserStateService).pipe(_.Je(a=>{a.errorExperience=2;
return _.w(void 0)})).subscribe();this.stateChangeNotification.emit()}};yuc.\u0275fac=function(a){return new (a||yuc)(_.k(ruc),_.k(suc),_.k(uuc))};yuc.\u0275prov=_.h({token:yuc,factory:yuc.\u0275fac,providedIn:"root"});var zuc=function(a,b,c,d,e){a.analyticsService.sendEvent({type:"freeTrial",name:b,metadata:{retryEnabled:c,attemptCount:d,requestSucceeded:e}})},Duc=function(a){let b=0;return(a.profileService.isAuthenticated?Auc(a):_.w(Buc)).pipe(_.qf(c=>{b++;const d=wuc(a.freeTrialSessionService)&&0<a.newAccountCacheService.newAccountCache.size,e=xuc(a.freeTrialSessionService);if(d&&(c.eligible||0===c.billingAccountFreeTrials.length)||e&&c.eligible)return _.Rd(Error("wi"));zuc(a,"getUserStatus",!0,b,!0);return _.w(c)}),
mtc({maxRetries:3,delayMillis:5E3}),_.Je(()=>{zuc(a,"getUserStatus",!0,b,!1);return _.w(Cuc)}),_.mf(1))},Fuc=function(a,b){return a.profileService.isAuthenticated?ouc(a.freeTrialGraphqlClient,{billingAccountName:`billingAccounts/${b}`}).pipe(_.y(({getAccountTrialStatus:c})=>{if(null==c||!c.billingAccountTrialStatus)return null;c=c.billingAccountTrialStatus;return{accountId:c.accountId,startTime:c.startTime,trialType:c.trialType||void 0,expirationTime:c.expirationTime,endTime:c.endTime,creditRemainingMicros:Number(c.creditRemainingMicros),
creditRemainingCurrencyCode:c.creditRemainingCurrencyCode,creditGrantedMicros:Number(c.creditGrantedMicros),state:ktc(c.state)}}),_.We(),_.Je(()=>_.w(Euc))):_.w(null)},Auc=function(a){return a.freeTrialGraphqlClient.config.request("GetUserFreeTrialStatus",'query GetUserFreeTrialStatus @NullProto @Signature(bytes: "2/hWIb94VFUEPmtOkCem9dn3ynbI/npoxOhYgtP8qdbrE=") { getUserFreeTrialStatus { eligible billingAccountFreeTrials { accountId startTime expirationTime endTime creditRemainingMicros creditRemainingCurrencyCode creditGrantedMicros state trialType } ineligibilityReason } }',
void 0,void 0).pipe(_.y(({getUserFreeTrialStatus:b})=>{if(!b)return Guc;const c=b.billingAccountFreeTrials||[];return{eligible:b.eligible,ineligibilityReason:b.ineligibilityReason?ltc(b.ineligibilityReason):"UNKNOWN_REASON",billingAccountFreeTrials:c.map(d=>({accountId:d.accountId,startTime:d.startTime,trialType:d.trialType||void 0,expirationTime:d.expirationTime,endTime:d.endTime||"",creditRemainingMicros:Number(d.creditRemainingMicros),creditRemainingCurrencyCode:d.creditRemainingCurrencyCode,creditGrantedMicros:Number(d.creditGrantedMicros),
state:ktc(d.state)}))}}),_.$e(),_.Je(()=>_.w(Guc)))},Huc=class{constructor(a,b,c,d,e,f){this.profileService=a;this.freeTrialGraphqlClient=b;this.freeTrialSessionService=c;this.newAccountCacheService=d;this.analyticsService=e;this.billingState=f.create("billing-state-cache")}getAccountTrialStatus(a,b=!0,c=3){let d=0;return Fuc(this,a).pipe(_.qf(e=>{d++;const f=wuc(this.freeTrialSessionService)&&0<this.newAccountCacheService.newAccountCache.size,g=xuc(this.freeTrialSessionService),l=!e||0===e.accountId.length||
"UNKNOWN_STATE"===e.state;if(f&&l||g&&l){if(b)return _.Rd(Error("xi"));zuc(this,"getAccountTrialStatus",b,d,!1);return _.w(null)}zuc(this,"getAccountTrialStatus",b,d,!0);return _.w(e)}),mtc({maxRetries:c,delayMillis:5E3}),_.Je(()=>{zuc(this,"getAccountTrialStatus",b,d,!1);return _.w(null)}),_.mf(1))}upgrade(a){return this.profileService.isAuthenticated?nuc(this.freeTrialGraphqlClient,{billingAccountName:`billingAccounts/${a}`}).pipe(_.y(()=>{this.freeTrialSessionService.stateChangeNotification.emit()})):
_.Rd("User must be authenticated to upgrade")}getAnalyticsMetadata(){return{daysRemaining:String(Math.round((_.hC((void 0).expirationTime).getTime()-_.Wi())/864E5)),creditRemaining:String(Math.round((void 0).creditRemainingMicros/1E6)),creditCurrency:(void 0).creditRemainingCurrencyCode}}getFirstChargeDate(a){return puc(this.freeTrialGraphqlClient,{firstChargeDateRequest:{billingAccountName:`billingAccounts/${a}`}}).pipe(_.y(b=>{var c;if(!b||!b.getFirstChargeDate)return{hasIncurredFreeTrialUsage:!1,
firstChargeStartedDate:"",firstChargeNetCost:0};var d=b.getFirstChargeDate,e;b=null!=(e=d.hasIncurredFreeTrialUsage)?e:!1;var f;e=null!=(f=d.firstChargeStartedDate)?f:"";f=d.firstChargeNetCost;d=0;if(f){var g;d=null!=(g=f.units)?g:"";g=null!=(c=f.nanos)?c:0;d=c=1E6*Number(null!=d?d:0)+Number(null!=g?g:0)/1E3}return{hasIncurredFreeTrialUsage:b,firstChargeStartedDate:e,firstChargeNetCost:d}}))}};Huc.\u0275fac=function(a){return new (a||Huc)(_.k(_.Fq),_.k(quc),_.k(yuc),_.k(_.lC),_.k(_.gn),_.k(_.Km))};
Huc.\u0275prov=_.h({token:Huc,factory:Huc.\u0275fac,providedIn:"root"});var Buc={billingAccountFreeTrials:[],eligible:!0},Guc={billingAccountFreeTrials:[],eligible:!1},Cuc={billingAccountFreeTrials:[],eligible:!1,ineligibilityReason:"EXISTING_USER"},Euc={accountId:"",startTime:"",expirationTime:"",creditRemainingMicros:0,creditRemainingCurrencyCode:"",creditGrantedMicros:0,state:"UNKNOWN_STATE"};_.Iuc=function(a){return a.every(b=>_.vdc.has(b.getResourceType()))||a.every(b=>_.wdc.has(b.getResourceType()))?!0:_.zc(_.tdc)};_.Juc=class{};_.Juc.\u0275fac=function(a){return new (a||_.Juc)};_.Juc.\u0275prov=_.h({token:_.Juc,factory:_.Juc.\u0275fac,providedIn:"root"});var Kuc=class{constructor(a,b,c,d,e,f,g,l){this.analyticsService=a;this.freeTrialSessionService=b;this.freeTrialBillingService=c;this.billingAccountService=d;this.billingProjectService=e;this.router=f;this.location=g;this.projectParamService=l;this.navigationEndEvent=this.router.events.pipe(_.oe(p=>p instanceof _.Dg));this.freeTrialStateChanges=this.freeTrialSessionService.stateChanges.pipe(_.pf(void 0));this.urlBillingAccountId=this.navigationEndEvent.pipe(_.y(()=>_.xVb(this.location)),_.pf(_.xVb(this.location)),
_.Qe());this.selectedProjectId=this.projectParamService.getCurrentProjectId().pipe(_.Qe());this.currentUserStatus=this.freeTrialStateChanges.pipe(_.qf(()=>Duc(this.freeTrialBillingService)),_.mf(1));this.currentUserStatus.pipe(_.y(p=>p.eligible));this.linkedBillingAccountId=_.$d([this.freeTrialStateChanges,this.selectedProjectId]).pipe(_.qf(([,p])=>p?_.LVb(this.billingProjectService,p).pipe(_.y(r=>r.billingAccountId||null),_.Je(()=>_.w(null))):_.w(null)));this.currentBillingAccountId=_.$d([this.urlBillingAccountId,
this.linkedBillingAccountId]).pipe(_.y(([p,r])=>p||r),_.Qe(),_.mf(1));_.$d([this.currentUserStatus,this.currentBillingAccountId]).pipe(_.y(([p,r])=>_.Baa(p.billingAccountFreeTrials,t=>t.accountId===r)));this.currentBillingAccountId.pipe(_.qf(p=>p?this.billingAccountService.get(p):_.w(null)));this.currentBillingAccountId.pipe(_.qf(p=>p?this.billingAccountService.billingAccountsGraphqlClient.config.request("CheckBillingAccountReopenable",'query CheckBillingAccountReopenable($name: String!) @Signature(bytes: "2/Wi97oRZKHoffeY7StVl/nnB9/6IzZpZmZKEcSxpdx4k=") { billingAccountsQuery { checkBillingAccountReopenable(name: $name) { status } } }',
{name:_.jWb(p)},void 0).pipe(_.$e(),_.y(htc)):_.w(null)));this.isEligibleAnalyticsSubject=new _.kf;this.isDestroyed=new _.kf;this.isEligibleAnalyticsSubject.pipe(_.Qe(),_.B(this.isDestroyed)).subscribe(p=>{this.analyticsService.sendEvent({type:"freeTrial",name:"freeTrialEligibility",metadata:{isEligible:p}})})}ngOnDestroy(){this.isDestroyed.next();this.isDestroyed.complete()}};Kuc.\u0275fac=function(a){return new (a||Kuc)(_.k(_.gn),_.k(yuc),_.k(Huc),_.k(_.oC),_.k(_.nC),_.k(_.jm),_.k(_.Ml),_.k(_.pq))};
Kuc.\u0275prov=_.h({token:Kuc,factory:Kuc.\u0275fac,providedIn:"root"});var Luc=class{constructor(a){this.currentVideoSpec=_.Hm(a,"companionVideoSpecSubjectId",null)}open(a){this.currentVideoSpec.next({demoId:a.demoId,demoTitle:a.title,dashManifestUrl:a.dashManifestUrl,hlsManifestUrl:a.hlsManifestUrl,largeThumbUrl:a.largeThumbUrl,smallThumbUrl:a.smallThumbUrl})}close(){this.currentVideoSpec.next(null)}};Luc.\u0275fac=function(a){return new (a||Luc)(_.k(_.Km))};Luc.\u0275prov=_.h({token:Luc,factory:Luc.\u0275fac,providedIn:"root"});var Muc={entity:"CONSOLE_DEMO_SERVICE_GQL_TRANSPORT",entityService:"ConsoleDemoService"};var Nuc=class{constructor(a,b){this.operation=b;this.config=_.bx(a,Muc)}};Nuc.\u0275fac=function(a){return new (a||Nuc)(_.k(_.Cq),_.k(_.dx))};Nuc.\u0275prov=_.h({token:Nuc,factory:Nuc.\u0275fac,providedIn:"root"});_.Ouc=[{demoId:"unboxing-gcp",projectId:"unboxing-gcp-demo-351321",pageHeadline:"Intro to Google Cloud Demo",title:"Intro to Google Cloud Demo",subHeading:"Explore Google Cloud through a guided tour of a web application in a free, read-only environment",summary:"Understand  the basics of Google Cloud while exploring a real project using a generic, multi-tier, scalable internet-facing application. Learn about load balancing, content delivery network (CDN), data analytics and AI/ML tools, security, and operations.",
estimatedMonthlyCostUsd:39,lessonBullets:["Navigating the Google Cloud console","Locating components needed to build any common application such as Compute, Storage, and databases"],featuredProducts:[{icon:"COMPUTE_SECTION",productName:"Compute Engine",description:"Run virtual machines in Google's data centers."},{icon:"LOAD_BALANCING_SECTION",productName:"Load Balancing",description:"Autoscale applications to manage traffic across multiple instances and regions."},{icon:"BIGQUERY_SECTION",productName:"BigQuery",
description:"Understand your data using a fully managed, highly scalable data warehouse with built-in ML."}],dashManifestUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/unboxing_gcp/unboxing_guidance_v1/manifest.mpd",hlsManifestUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/unboxing_gcp/unboxing_guidance_v1/manifest.m3u8",largeThumbUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/unboxing_gcp/unboxing_guidance_v1/large-thumb-1s0000000000.jpeg",
smallThumbUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/unboxing_gcp/unboxing_guidance_v1/small-thumb-1s0000000000.jpeg"},{demoId:"ecommerce-headless",projectId:"ecommerce-headless-demo-352100",pageHeadline:"eCommerce Demo",title:"eCommerce Demo",subHeading:"Explore a multi-tier, web-based microservices application in a free, read-only environment",summary:"Take a guided tour of a real ecommerce application running on Google Cloud. In this \u201cheadless commerce\u201d demo, the frontend is decoupled from the backend or commerce layer, providing flexibility to marketing teams to quickly alter frontend elements to run campaigns and promotions and create an advanced customer experience on any frontend device.",
estimatedMonthlyCostUsd:0,lessonBullets:["Deploying serverless containers that scale according to traffic patterns","Leveraging backend APIs from Google Cloud Marketplace","Integrating 3rd-party tools from Google Cloud Marketplace"],featuredProducts:[{icon:"CLOUD_RUN_SECTION",productName:"Cloud Run",description:"Develop and deploy highly scalable containerized applications on a fully managed serverless platform."},{icon:"MARKETPLACE_SECTION",productName:"commercetools Platform",description:"Employ a headless commerce platform for microservices architectures. 100% cloud-native, 100% API-first, and 100% global."}],
dashManifestUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/ecommerce_headless/ecommerce_guidance_v1/manifest.mpd",hlsManifestUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/ecommerce_headless/ecommerce_guidance_v1/manifest.m3u8",largeThumbUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/ecommerce_headless/ecommerce_guidance_v1/large-thumb-10s0000000000.jpeg",smallThumbUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/ecommerce_headless/ecommerce_guidance_v1/small-thumb-10s0000000000.jpeg"},
{demoId:"etl-pipeline",projectId:"etl-pipeline-batch-352153",pageHeadline:"Building a Data Pipeline Demo Project",title:"Data Pipeline Demo",subHeading:"Learn how to build a data pipeline with Google Cloud in a free, read-only environment",summary:"Take a guided tour of an architecture for a data pipeline approach called ETL\u2014or extract, transform, load\u2014which allows you to maximize flexibility in how you transform your data while also providing dynamic scaling to handle large amounts of incoming data and processing demands.",
estimatedMonthlyCostUsd:360,secondEstimatedMonthlyCostUsd:30,secondMonthlyCostCondition:"without continuously running Composer service",lessonBullets:["Using Cloud Storage for landing data","Using Dataflow as a managed service for processing data","Using BigQuery as a destination data warehouse","Using Cloud Composer as an orchestration tool for authoring, scheduling, and monitoring data pipelines"],featuredProducts:[{icon:"STORAGE_SECTION",productName:"Cloud Storage",description:"Store objects with global edge caching."},
{icon:"DATAFLOW_SECTION",productName:"Dataflow",description:"Develop real-time batch and stream data processing pipelines."},{icon:"BIGQUERY_SECTION",productName:"BigQuery",description:"Understand your data using a fully managed, highly scalable data warehouse with built-in ML."},{icon:"CLOUD_COMPOSER_SECTION",productName:"Cloud Composer",description:"Author, schedule, and monitor pipelines that span across hybrid and multi-cloud environments built on Apache Airflow."}],dashManifestUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/etl_pipeline/etl_guidance_v1/manifest.mpd",
hlsManifestUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/etl_pipeline/etl_guidance_v1/manifest.m3u8",largeThumbUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/etl_pipeline/etl_guidance_v1/large-thumb-1s0000000000.jpeg",smallThumbUrl:"https://storage.googleapis.com/demo_video_public_files/demo_public_videos/etl_pipeline/etl_guidance_v1/small-thumb-1s0000000000.jpeg"}];var Puc=new _.Uk("45403349");var Quc=new _.Uk("45403335");var Ruc=new _.jd("demo-templates",{factory:()=>_.Ouc}),Tuc=function(a){return a.projectParamService.getCurrentProjectId().pipe(_.y(b=>Suc(a,b)))},Uuc=function(a,b){return!!b&&a.demoTemplates.some(c=>c.projectId===b)},Vuc=function(a){return a.projectParamService.getCurrentProjectId().pipe(_.y(b=>Uuc(a,b)))},Suc=function(a,b){return a.demoTemplates.find(c=>c.projectId===b)},Wuc=class{constructor(a,b,c,d,e,f,g,l,p,r,t,v,x,C,D){this.router=b;this.route=c;this.analyticsService=d;this.recentResourceService=
f;this.projectParamService=g;this.purviewService=l;this.iamPermissionsService=p;this.dialogService=r;this.demoTemplates=t;this.companionVideoService=v;this.confirmDialogService=x;this.profileService=C;this.viewDemoErrorIdSubject=_.Hm(D,"ViewDemoErrorSubjectId",null);_.Bm(this.viewDemoErrorIdSubject);this.errorDemoTemplateSubject=_.Hm(D,"ViewDemoErrorTemplateSubjectId",null);_.Bm(this.errorDemoTemplateSubject);this.completedViewDemoIdSubject=_.Hm(D,"ViewDemoStatusSubjectId",null);_.Bm(this.completedViewDemoIdSubject);
!this.profileService.isAuthenticated||_.sh()||_.zc(Quc)||_.zc(Puc)||this.route.queryParams.pipe(_.y(H=>H.demoId),_.Se(1)).subscribe(H=>{H&&this.confirmDialogService.confirm({header:"Demo not available",body:"This demo is no longer available.",confirmOnly:!0,confirmButtonText:"OK",veId:156162,matDialogConfig:{width:"22vw"},confirmButtonVeId:156163})});Tuc(this).pipe(_.Qe(),_.nf(1),_.oe(H=>!H)).subscribe(()=>{this.companionVideoService.close()})}};
Wuc.\u0275fac=function(a){return new (a||Wuc)(_.k(Nuc),_.k(_.jm),_.k(_.yg),_.k(_.gn),_.k(Kuc),_.k(_.ur),_.k(_.pq),_.k(_.Uv),_.k(_.Cv),_.k(_.Wu),_.k(Ruc),_.k(Luc),_.k(_.iD),_.k(_.Fq),_.k(_.Km))};Wuc.\u0275prov=_.h({token:Wuc,factory:Wuc.\u0275fac,providedIn:"root"});_.Xuc=!1;_.nH=new Map;_.oH=new Map;_.nH.set("ai-platform",{surveys:[{surveyName:"ucaip-standard",surveyNameHuman:"Vertex AI",targetedFeature:"survey_ucaip_site",surveyData:mH("ucaip-standard","Vertex AI","Google Cloud Vertex AI","h_uca")}],exclude:[],pathSpecificConfigs:[]});_.nH.set("ANTHOS_SECTION",{surveys:[{surveyName:"anthos-mini-standard",surveyNameHuman:"Anthos",targetedFeature:"survey_anthos_site",surveyData:xtc("anthos-mini-standard","Anthos","Google Cloud Anthos","h_ant")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("API_SECTION",{surveys:[{surveyName:"apis-standard",surveyNameHuman:"Cloud APIs and Services",targetedFeature:"survey_apis_site",surveyData:mH("apis-standard","Cloud APIs and Services","Google Cloud APIs","h_api")}],exclude:[],pathSpecificConfigs:[{path:"^/apis/api/.*/quotas",surveys:[{surveyName:"quotas-standard",surveyNameHuman:"Cloud IAM Quotas pages",targetedFeature:"survey_quotas_site",surveyData:wtc("quotas-standard","Cloud IAM Quotas pages","the Quotas pages","h_quo")}]}]});
_.nH.set("APPENGINE_SECTION",{surveys:[{surveyName:"appengine-standard",surveyNameHuman:"App Engine",targetedFeature:"survey_appengine_site",surveyData:mH("appengine-standard","App Engine","Google Cloud App Engine","h_app")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("ARTIFACT_REGISTRY_SECTION",{surveys:[{surveyName:"artifacts-standard",surveyNameHuman:"Cloud Artifact Registry",targetedFeature:"survey_artifacts_site",surveyData:mH("artifacts-standard","Cloud Artifact Registry","Google Cloud Artifact Registry","h_art")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("BILLING_SECTION",{surveys:[{surveyName:"billing-v2-standard",surveyNameHuman:"Cloud Billing",targetedFeature:"survey_billing_site",surveyData:{surveyName:"billing-v2-standard",surveyNameHuman:"Cloud Billing",questions:[hH("Google Cloud Billing"),jH("Google Cloud Billing"),ntc("Google Cloud Billing"),otc("Google Cloud Billing"),stc("Google Cloud Billing"),qtc("Google Cloud Billing")],epilogue:lH("bil")}}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("BIGQUERY_SECTION",{surveys:[{surveyName:"bigquery-standard",surveyNameHuman:"BigQuery",targetedFeature:"survey_bigquery_site",surveyData:mH("bigquery-standard","BigQuery","Google Cloud BigQuery","h_gbq")}],exclude:[],pathSpecificConfigs:[{path:"^/bigquery/transfers",surveys:[{surveyName:"bqtransfers-standard",surveyNameHuman:"BigQuery Data Transfer Service",targetedFeature:"survey_bqtransfers_site",surveyData:mH("bqtransfers-standard","BigQuery Data Transfer Service","BigQuery Data Transfer Service",
"h_bqt")}]}]});_.nH.set("BIGTABLE_SECTION",{surveys:[{surveyName:"bigtable-standard",surveyNameHuman:"Cloud Bigtable",targetedFeature:"survey_bigtable_site",surveyData:mH("bigtable-standard","Cloud Bigtable","Google Cloud Bigtable","h_cbt")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("CLOUD_BUILD_SECTION",{surveys:[{surveyName:"build-standard",surveyNameHuman:"Cloud Build",targetedFeature:"survey_build_site",surveyData:mH("build-standard","Cloud Build","Google Cloud Build","h_bui")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("CLOUD_COMPOSER_SECTION",{surveys:[{surveyName:"composer-custom",surveyNameHuman:"Cloud Composer",targetedFeature:"survey_composer_site",surveyData:{surveyName:"composer-custom",surveyNameHuman:"Cloud Composer",questions:[hH("Composer"),{kind:"opentext",text:"What are the main reasons for the rating you gave?"}],epilogue:lH("h_cpo")}}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("SCHEDULER_SECTION",{surveys:[{surveyName:"cloudscheduler-standard",surveyNameHuman:"Cloud Scheduler",targetedFeature:"survey_cloudscheduler_site",surveyData:mH("cloudscheduler-standard","Cloud Scheduler","Google Cloud Scheduler","h_cse")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("TASKS_SECTION",{surveys:[{surveyName:"cloudtasks-mini-standard",surveyNameHuman:"Cloud Tasks",targetedFeature:"survey_cloudtasks_site",surveyData:xtc("cloudtasks-mini-standard","Cloud Tasks","Google Cloud Tasks","h_cta")}],exclude:[],pathSpecificConfigs:[]});_.nH.set("CRM_MANAGER_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[]});
_.nH.set("common_components_demo_nav",{surveys:[{surveyName:"demo1-custom",surveyNameHuman:"Pantheon Demos",targetedFeature:"survey_demo1_site",surveyData:{surveyName:"demo1-custom",surveyNameHuman:"Pantheon Demos",questions:[kH("Why are you using Pantheon demos today?"),{kind:"multiplechoice",text:"How easy or difficult is it to get what you wanted from Pantheon demos today?",selections:["Very easy","Somewhat easy","Neither easy nor difficult","Somewhat difficult","Very difficult"]}]}},{surveyName:"demo2-custom",
surveyNameHuman:"Pantheon Demos",targetedFeature:"survey_demo2_site",surveyData:{surveyName:"demo2-custom",surveyNameHuman:"Pantheon Demos",questions:[hH("Pantheon demos"),kH("What, if anything, about Pantheon demos has not met your expectations today?")]}},{surveyName:"demo3-custom",surveyNameHuman:"Pantheon Demos",targetedFeature:"survey_demo3_site",surveyData:{surveyName:"demo3-custom",surveyNameHuman:"Pantheon Demos",questions:[kH("Have you experienced any issues with understanding Pantheon requirements and implementation practices on Pantheon demos?"),
{kind:"multiplechoice",text:"How helpful is Pantheon demos in understanding Pantheon requirements and implementation practices?",selections:["Extremely helpful","Very helpful","Somewhat helpful","Slightly helpful","Not at all helpful"]}]}}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("COMPUTE_SECTION",{surveys:[{surveyName:"compute-standard",surveyNameHuman:"Compute Engine",targetedFeature:"survey_compute_site",surveyData:ytc("compute-standard","Compute Engine","Google Cloud Compute Engine","gce")}],exclude:[],pathSpecificConfigs:[{path:"^/compute/disks",surveys:[{surveyName:"persistentdisk-standard",surveyNameHuman:"Persistent Disk (PD)",targetedFeature:"survey_persistentdisk_site",surveyData:mH("persistentdisk-standard","Persistent Disk (PD)","Google Cloud Persistent Disk",
"h_cpd")}]},{path:"^/compute/instancesAdd",surveys:[{surveyName:"vmcreation-custom",surveyNameHuman:"VM Instance Creation Form",targetedFeature:"survey_vmcreation_site",surveyData:{surveyName:"vmcreation-custom",surveyNameHuman:"VM Instance Creation Form",questions:[{kind:"multiplechoice",text:"Which of the following best describes your intentions for visiting the VM creation form?",selections:["Configure and create VM here","Review configuration options to inform a script","Learn and explore instance creation in GCP",
"None of the above"]},{kind:"opentext",text:"Please provide additional information about why you are visiting the VM creation form"}],epilogue:lH("h_vm2")}}]},{path:"^/compute/instanceGroups",surveys:[{surveyName:"mig-standard",surveyNameHuman:"Managed Instance Groups",targetedFeature:"survey_mig_site",surveyData:{surveyName:"mig-standard",surveyNameHuman:"Managed Instance Groups",questions:[hH("Instance Groups"),iH("Instance Groups"),ptc("Instance Groups"),jH("Instance Groups")],epilogue:lH("h_mig")}}]}]});
_.nH.set("CRASH_SECTION",{surveys:[{surveyName:"errors-standard",surveyNameHuman:"Error Reporting",targetedFeature:"survey_errors_site",surveyData:mH("errors-standard","Error Reporting","Google Cloud Error Reporting","h_err")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("CLOUDPUBSUB_SECTION",{surveys:[{surveyName:"cloudpubsub-v2-standard",surveyNameHuman:"Cloud Pub/Sub",targetedFeature:"survey_cloudpubsub_site",surveyData:mH("cloudpubsub-v2-standard","Cloud Pub/Sub","Google Cloud PubSub","h_pub")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DATAHUB_SECTION",{surveys:[{surveyName:"datacatalog-custom",surveyNameHuman:"Data Catalog",targetedFeature:"survey_datacatalog_site",surveyData:{surveyName:"datacatalog-custom",surveyNameHuman:"Data Catalog",questions:[hH("Data Catalog"),jH("Data Catalog"),{kind:"opentext",text:"What functionality, if any, do you miss in Data Catalog?"}],epilogue:lH("h_dca")}}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DATASTORE_SECTION",{surveys:[{surveyName:"datastore-standard",surveyNameHuman:"Cloud Datastore",targetedFeature:"survey_datastore_site",surveyData:ytc("datastore-standard","Cloud Datastore","Google Cloud Datastore","h_sto")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DEPLOYMENT_MANAGER_SECTION",{surveys:[{surveyName:"dm-standard",surveyNameHuman:"Cloud Deployment Manager",targetedFeature:"survey_dm_site",surveyData:mH("dm-standard","Cloud Deployment Manager","Google Cloud Deployment Manager","h_dm")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DATAFLOW_SECTION",{surveys:[{surveyName:"dataflow-standard",surveyNameHuman:"Cloud Dataflow",targetedFeature:"survey_dataflow_site",surveyData:mH("dataflow-standard","Cloud Dataflow","Google Cloud Dataflow","h_flo")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("datafusion_topnav",{surveys:[{surveyName:"datafusion-standard",surveyNameHuman:"Data Fusion",targetedFeature:"survey_datafusion_site",surveyData:mH("datafusion-standard","Data Fusion","Google Cloud Data Fusion","h_cdf")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DATAPROC_SECTION",{surveys:[{surveyName:"dataproc-standard",surveyNameHuman:"Cloud Dataproc",targetedFeature:"survey_dataproc_site",surveyData:mH("dataproc-standard","Cloud Dataproc","Google Cloud Dataproc","h_pro")}],exclude:[],pathSpecificConfigs:[]});_.nH.set("DEBUG_SECTION",{surveys:[{surveyName:"debug-standard",surveyNameHuman:"Debugger",targetedFeature:"survey_debug_site",surveyData:mH("debug-standard","Debugger","Google Cloud Debug","h_deb")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("document-ai",{surveys:[{surveyName:"documentai-standard",surveyNameHuman:"Document AI",targetedFeature:"survey_documentai_site",surveyData:mH("documentai-standard","Document AI","Google Cloud Document AI","h_doc")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("ENDPOINTS_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/endpoints/v2/api/.*/quotas",surveys:[{surveyName:"quotas-standard",surveyNameHuman:"Cloud IAM Quotas pages",targetedFeature:"survey_quotas_site",surveyData:wtc("quotas-standard","Cloud IAM Quotas pages","the Quotas pages","h_quo")}]}]});
_.nH.set("FILESTORE_SECTION",{surveys:[{surveyName:"filestore-standard",surveyNameHuman:"Cloud Filestore",targetedFeature:"survey_filestore_site",surveyData:mH("filestore-standard","Cloud Filestore","Google Cloud Filestore","h_cfs")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("FIRESTORE_SECTION",{surveys:[{surveyName:"firestore-standard",surveyNameHuman:"Cloud Firestore",targetedFeature:"survey_firestore_site",surveyData:ytc("firestore-standard","Cloud Firestore","Google Cloud Firestore","h_fir")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("FUNCTIONS_SECTION",{surveys:[{surveyName:"functions-standard",surveyNameHuman:"Cloud Functions",targetedFeature:"survey_functions_site",surveyData:mH("functions-standard","Cloud Functions","Google Cloud Functions","h_fun")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("KUBERNETES_SECTION",{surveys:[{surveyName:"kubernetes-standard",surveyNameHuman:"Kubernetes Engine",targetedFeature:"survey_kubernetes_site",surveyData:{surveyName:"kubernetes-standard",surveyNameHuman:"Kubernetes Engine",questions:[hH("Google Cloud Kubernetes"),iH("Google Cloud Kubernetes"),jH("Google Cloud Kubernetes"),ntc("Google Cloud Kubernetes"),otc("Google Cloud Kubernetes"),stc("Google Cloud Kubernetes"),{kind:"multiplechoice",text:"Specifically, how satisfied are you with the user interface of the GKE console (console.cloud.google.com/kubernetes)?",
selections:["Very satisfied","Somewhat satisfied","Neither satisfied nor dissatisfied","Somewhat dissatisfied","Very dissatisfied"]}],epilogue:lH("h_gke")}}],exclude:[],pathSpecificConfigs:[{path:"^/kubernetes/backups",surveys:[{surveyName:"gke-backups-standard",surveyNameHuman:"GKE Backup and Restore",targetedFeature:"survey_gke_backups_site",surveyData:mH("gke-backups-standard","GKE Backup and Restore","Backup for GKE","h_gkb")}]}]});
_.nH.set("HOME_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/home/recommendations",surveys:[{surveyName:"recommendations-standard",surveyNameHuman:"Recommendation Hub",targetedFeature:"survey_recommendations_site",surveyData:mH("recommendations-standard","Recommendation Hub","the recommendation hub","h_rec")}]}]});
_.nH.set("INTERCONNECT_SECTION",{surveys:[{surveyName:"hybrid-standard",surveyNameHuman:"Hybrid Connectivity",targetedFeature:"survey_hybrid_site",surveyData:mH("hybrid-standard","Hybrid Connectivity","Google Cloud Hybrid Connectivity","h_hyb")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("IAM_ADMIN_SECTION",{surveys:[{surveyName:"iam-admin-standard",surveyNameHuman:"Cloud Identity and Access Management (IAM)",targetedFeature:"survey_iam_site",surveyData:{surveyName:"iam-admin-standard",surveyNameHuman:"Cloud Identity and Access Management (IAM)",questions:[hH("Google Cloud IAM & Admin"),jH("Google Cloud IAM & Admin"),ntc("Google Cloud IAM & Admin"),otc("Google Cloud IAM & Admin"),stc("Google Cloud IAM & Admin")],epilogue:lH("h_iam")}}],exclude:[],pathSpecificConfigs:[{path:"^/iam-admin/analyzer",
surveys:[{surveyName:"policyanalyzer-custom",surveyNameHuman:"Cloud IAM Policy Analyzer",targetedFeature:"survey_policyanalyzer_site",surveyData:Atc("policyanalyzer-custom","Cloud IAM Policy Analyzer","the Policy Analyzer","h_pol")}]},{path:"^/iam-admin/asset-inventory",surveys:[{surveyName:"assetinventory-custom",surveyNameHuman:"Cloud IAM Asset Inventory",targetedFeature:"survey_assetinventory_site",surveyData:Atc("assetinventory-custom","Cloud IAM Asset Inventory","the Asset Inventory","h_ass")}]},
{path:"^/iam-admin/simulator",surveys:[{surveyName:"simulator-standard",surveyNameHuman:"Cloud IAM Simulator",targetedFeature:"survey_simulator_site",surveyData:Atc("simulator-standard","Cloud IAM Simulator","the Simulator","h_sim")}]},{path:"^/iam-admin/troubleshooter",surveys:[{surveyName:"troubleshooter-standard",surveyNameHuman:"Cloud IAM Troubleshooter",targetedFeature:"survey_troubleshooter_site",surveyData:Atc("troubleshooter-standard","Cloud IAM Troubleshooter","the Troubleshooter","h_tru")}]},
{path:"^/iam-admin/quotas",surveys:[{surveyName:"quotas-standard",surveyNameHuman:"Cloud IAM Quotas pages",targetedFeature:"survey_quotas_site",surveyData:wtc("quotas-standard","Cloud IAM Quotas pages","the Quotas pages","h_quo")}]}]});
_.nH.set("MARKETPLACE_SECTION",{surveys:[{surveyName:"marketplace-standard",surveyNameHuman:"Cloud Commerce and Marketplace",targetedFeature:"survey_launcher_site",surveyData:mH("marketplace-standard","Cloud Commerce and Marketplace","Google Cloud Marketplace","h_lau")}],exclude:[],pathSpecificConfigs:[{path:"^/marketplace/browse",surveys:[{surveyName:"marketplace-discovery-sentiment-custom",surveyNameHuman:"Marketplace Discovery Sentiment",targetedFeature:"survey_marketplace_site",surveyData:Dtc()}]},
{path:"^/marketplace/product",surveys:[{surveyName:"marketplace-discovery-sentiment-custom",surveyNameHuman:"Marketplace Discovery Sentiment",targetedFeature:"survey_marketplace_site",surveyData:Dtc()}]}]});_.nH.set("CACHE_SECTION",{surveys:[{surveyName:"memorystore-standard",surveyNameHuman:"Cloud Memorystore",targetedFeature:"survey_memorystore_site",surveyData:mH("memorystore-standard","Cloud Memorystore","Google Cloud Memorystore","h_mem")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("MONITORING_SECTION",{surveys:[{surveyName:"monitoring-standard",surveyNameHuman:"Monitoring",targetedFeature:"survey_monitoring_site",surveyData:mH("monitoring-standard","Monitoring","Google Cloud Monitoring","h_mon")}],exclude:[],pathSpecificConfigs:[{path:"^/monitoring/alerting",surveys:[{surveyName:"alerting-standard",surveyNameHuman:"Monitoring",targetedFeature:"survey_alerting_site",surveyData:mH("alerting-standard","Monitoring","Google Cloud Monitoring","h_ale")}]}]});
_.nH.set("LOGS_SECTION",{surveys:[{surveyName:"logs-standard",surveyNameHuman:"Logging",targetedFeature:"survey_logs_site",surveyData:mH("logs-standard","Logging","Google Cloud Logging","h_log")}],exclude:[],pathSpecificConfigs:[{path:"^/logs/query",surveys:[{surveyName:"logsquery-standard",surveyNameHuman:"Logging",targetedFeature:"survey_logsquery_site",surveyData:mH("logsquery-standard","Logging","Google Cloud Logging","h_lqy")}]}]});
_.nH.set("MAPS_SECTION",{surveys:[{surveyName:"maps-v3-custom",surveyNameHuman:"Google Maps Platform",targetedFeature:"survey_maps_site",surveyData:{surveyName:"maps-v3-custom",surveyNameHuman:"Google Maps Platform",questions:[hH("Google Maps Platform",!0),{kind:"multiplechoice",text:"What is the main reason you are visiting the Google Maps Platform console today?",selections:["I'm exploring or learning about Google Maps Platform","I'm working on a project for work","I'm working on a project for personal use or class",
"Other"]},{kind:"multiplechoice",text:"What is your role?",selections:"Technical contributor (e.g., Developer, Analyst);Technical leadership (e.g., CTO, Director);Business contributor (e.g., Product management, Finance);Business leadership (e.g., Owner, CEO);Marketing specialist;Student or Educator;Other".split(";")},kH("What are you hoping to do today within the Google Maps Platform console, specifically?")],epilogue:{kind:"epilogue",text:"Thank you for your feedback!",bodyText:"If you'd like to be contacted for future feedback opportunities with Google Maps Platform, please click the link below to sign up.",
link:{text:"Sign up",url:"https://google.qualtrics.com/jfe/form/SV_2rvdg968pUeQXAi?source=ConHat"}}}}],exclude:[],pathSpecificConfigs:[]});_.nH.set("CLOUD_ML_SECTION",{surveys:[{surveyName:"mlengine-standard",surveyNameHuman:"Cloud Machine Learning Engine",targetedFeature:"survey_mlengine_site",surveyData:mH("mlengine-standard","Cloud Machine Learning Engine","Google Cloud AI Platform","h_mle")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("VIRTUAL_NETWORK_SECTION",{surveys:[{surveyName:"networking-standard",surveyNameHuman:"Cloud VPC Network",targetedFeature:"survey_vpcnetwork_site",surveyData:mH("networking-standard","Cloud VPC Network","Google Cloud VPC Network","h_vpc")}],exclude:[],pathSpecificConfigs:[{path:"^/networking/firewalls/list",surveys:[{surveyName:"firewalls-standard",surveyNameHuman:"Cloud Network Firewalls",targetedFeature:"survey_firewalls_site",surveyData:mH("firewalls-standard","Cloud Network Firewalls",
"Google Cloud Firewall","h_fwa")}]}]});
_.nH.set("NETWORK_INTELLIGENCE_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/net-intelligence/performance",surveys:[{surveyName:"performancedashboard-custom",surveyNameHuman:"Network Performance Dashboard",targetedFeature:"survey_performancedashboard_site",surveyData:{surveyName:"performancedashboard-custom",surveyNameHuman:"Network Performance Dashboard",questions:[hH("the Performance Dashboard"),{kind:"multiplechoice",text:"Based on your experience, how accurate do you feel the Performance Dashboard is?",selections:["Extremely accurate",
"Very accurate","Moderately accurate","Slightly accurate","Not at all accurate"]},rtc("the Performance Dashboard"),{kind:"multipleselect",text:"Which factors influenced your answer about the Performance Dashboard being useful (or not useful)?",selections:"Highlighting performance issues;Actionability;Data quality;Data completeness;Ease of use;None of the above".split(";"),randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},kH("What, if anything, can be done to improve the Performance Dashboard?")],
epilogue:lH("h_per")}}]},{path:"^/net-intelligence/firewalls",surveys:[{surveyName:"firewall-insights-mini-standard",surveyNameHuman:"Firewall Insights",targetedFeature:"survey_firewallinsights_site",surveyData:{surveyName:"firewall-insights-mini-standard",surveyNameHuman:"Firewall Insights",questions:[hH("the Firewall Insights"),jH("the Firewall Insights"),ttc("the Firewall Insights")],epilogue:lH("h_fwi")}}]}]});
_.nH.set("LOAD_BALANCING_SECTION",{surveys:[{surveyName:"net-services-standard",surveyNameHuman:"Cloud Network services",targetedFeature:"survey_networking_site",surveyData:mH("net-services-standard","Cloud Network services","Google Cloud Network Services","h_net")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("NETWORK_SECURITY_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/net-security/securitypolicies",surveys:[{surveyName:"securitypolicies-mini-standard",surveyNameHuman:"Cloud Armor",targetedFeature:"survey_securitypolicies_site",surveyData:ztc("securitypolicies-mini-standard","Cloud Armor","the Cloud Armor","h_arm")}]},{path:"^/net-security/ids/list",surveys:[{surveyName:"ids-mini-standard",surveyNameHuman:"Cloud IDS",targetedFeature:"survey_ids_site",surveyData:ztc("ids-mini-standard",
"Cloud IDS","the Cloud IDS","h_ids")}]}]});_.nH.set("PRODUCER_PORTAL",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/producer-portal/private-offers",surveys:[{surveyName:"privateoffers-custom",surveyNameHuman:"Producer Private Offers",targetedFeature:"survey_privateoffers_site",surveyData:Btc("privateoffers-custom","Producer Private Offers")}]}]});
_.nH.set("SERVERLESS_SECTION",{surveys:[{surveyName:"run-standard",surveyNameHuman:"Cloud Run",targetedFeature:"survey_serverless_site",surveyData:mH("run-standard","Cloud Run","Google Cloud Run","h_run")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("SECURITY_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/security/secret-manager",surveys:[{surveyName:"secretmanager-standard",surveyNameHuman:"Secret Manager",targetedFeature:"survey_secretmanager_site",surveyData:mH("secretmanager-standard","Secret Manager","Secret Manager","h_sem")}]},{path:"^/security/kms",surveys:[{surveyName:"kms-standard",surveyNameHuman:"Cloud KMS",targetedFeature:"survey_kms_site",surveyData:mH("kms-standard","Cloud KMS","Google Cloud KMS","h_kms")}]},
{path:"^/security/advisorynotifications",surveys:[{surveyName:"advisory-notifications-standard",surveyNameHuman:"Advisory Notifications",targetedFeature:"survey_advisory_notifications_site",surveyData:mH("advisory-notifications-standard","Advisory Notifications","Advisory Notifications","h_adn")}]},{path:"^/security/command-center",surveys:[{surveyName:"security-command-center-standard",surveyNameHuman:"SCC GCP HaTS",targetedFeature:"survey_scc_site",surveyData:mH("security-command-center-standard",
"Security Command Center","Security Command Center","h_scc")}]}]});_.nH.set("SPANNER_SECTION",{surveys:[{surveyName:"spanner-standard",surveyNameHuman:"Cloud Spanner",targetedFeature:"survey_spanner_site",surveyData:mH("spanner-standard","Cloud Spanner","Google Cloud Spanner","h_spa")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("speech-studio",{surveys:[{surveyName:"speech-custom",surveyNameHuman:"Speech Studio",targetedFeature:"survey_speech_site",surveyData:{surveyName:"speech-custom",surveyNameHuman:"Speech Studio",questions:[hH("Google Cloud Speech Studio"),iH("Google Cloud Speech Studio"),jH("Google Cloud Speech Studio"),{kind:"multiplechoice",text:"Whay are you using Speech Studio today?",selections:"Learn about the product;Make a single transcription;Check quality of transcription;Use model adaptation phrase sets/custom classes;Integrate with an application;Other".split(";")}],
epilogue:lH("h_spe")}}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("SQL_SECTION",{surveys:[{surveyName:"sql-standard",surveyNameHuman:"Cloud SQL",targetedFeature:"survey_sql_site",surveyData:ytc("sql-standard","Cloud SQL","Google Cloud SQL","h_sql")}],exclude:[],pathSpecificConfigs:[{path:"^/sql/instances/.*/insights",surveys:[{surveyName:"sqlinsights-standard",surveyNameHuman:"Cloud SQL Database Insights",targetedFeature:"survey_sqlinsights_site",surveyData:ytc("sqlinsights-standard","Cloud SQL Database Insights","Google Cloud SQL Database Insights","h_sqi")}]}]});
_.nH.set("STORAGE_SECTION",{surveys:[{surveyName:"storage-standard",surveyNameHuman:"Cloud Storage",targetedFeature:"survey_storage_site",surveyData:{surveyName:"storage-standard",surveyNameHuman:"Cloud Storage",questions:[hH("Google Cloud Storage"),iH("Google Cloud Storage"),kH("What do you currently most dislike about Google Cloud Storage? Please be as specific as possible."),{kind:"multiplechoice",text:"How would you describe your overall level of familiarity with using Google Cloud Storage?",
selections:["Extremely familiar","Very familiar","Moderately familiar","Slightly familiar","Not at all familiar"]},{kind:"multiplechoice",text:"Based on your experience, how easy or difficult is it to use Google Cloud Storage?",selections:["Extremely easy","Moderately easy","Neither easy nor difficult","Moderately difficult","Extremely difficult"]},kH("When you answered the previous question, what came to mind when you thought about Google Cloud Storage being easy or difficult to use?")],epilogue:lH("h_gcs")}}],
exclude:[],pathSpecificConfigs:[]});_.nH.set("TRACES_SECTION",{surveys:[{surveyName:"traces-standard",surveyNameHuman:"Trace",targetedFeature:"survey_traces_site",surveyData:mH("traces-standard","Trace","Google Cloud Trace","h_tcs")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("APPLIANCES_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/appliances",surveys:[{surveyName:"transfer-appliance-custom",surveyNameHuman:"Cloud Transfer Appliance",targetedFeature:"survey_transfer_appliance_site",surveyData:Etc()}]}]});
_.nH.set("TRANSFER_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/transfer/cloud",surveys:[{surveyName:"transfercloud-standard",surveyNameHuman:"Cloud Transfer Service",targetedFeature:"survey_transfercloud_site",surveyData:mH("transfercloud-standard","Cloud Transfer Service","Google Cloud Transfer Service","h_trc")}]},{path:"^/transfer/on-premises",surveys:[{surveyName:"transferonprem-standard",surveyNameHuman:"Cloud Transfer Service for On-Prem",targetedFeature:"survey_transferonprem_site",
surveyData:mH("transferonprem-standard","Cloud Transfer Service for On-Prem","Google Cloud Transfer Service","h_tro")}]},{path:"^/transfer/appliance",surveys:[{surveyName:"transfer-appliance-custom",surveyNameHuman:"Cloud Transfer Appliance",targetedFeature:"survey_transfer_appliance_site",surveyData:Etc()}]},{path:"^/transfer/jobs",surveys:[{surveyName:"transfer-service-custom",surveyNameHuman:"Storage Transfer Service",targetedFeature:"survey_transfer_service_site",surveyData:{surveyName:"transfer-service-custom",
surveyNameHuman:"Storage Transfer Service",questions:[hH("Storage Transfer Service"),iH("Storage Transfer Service"),utc("Storage Transfer Service"),vtc("Storage Transfer Service"),{kind:"multiplechoice",text:"Which data source did you move the most of your data from in the past 6 months?",selections:"Amazon S3;Azure Blob Storage or Data Lake Storage Gen2;Google Cloud Storage;POSIX filesystem on-premises;S3-compatible object storage;URL list".split(";")},{kind:"multiplechoice",text:"What aligns the most with your goal for using Storage Transfer Service?",
selections:"Data management;Analytics;Migration;Archival;Data backup;Other".split(";")},{kind:"multiplechoice",text:"Which task did you find the most difficult to do using the Cloud console for Storage Transfer Service:",selections:"Learn the tool in the console;Create a transfer job;Set up permissions;Set up agents to my on-prem source;Check on progress;Troubleshoot errors;Find relevant documentation;None of the above are difficult".split(";")}],epilogue:lH("h_trs")}}]}]});
_.nH.set("rif_ucp_hub",{surveys:[{surveyName:"ucp-custom",surveyNameHuman:"Cloud Management Console",targetedFeature:"survey_ucp_custom_site",surveyData:{surveyName:"ucp-custom",surveyNameHuman:"Cloud Management Console",questions:[{kind:"multiplechoice",text:"How would you rate your familiarity with Cloud Management Console?",selections:["Extremely familiar","Very familiar","Moderately familiar","Slightly familiar","Not familiar at all"]},hH("Cloud Management Console"),iH("Cloud Management Console"),
{kind:"multiplechoice",text:"Overall, how easy is it for you to accomplish your goals using Cloud Management Console?",selections:["Extremely easy","Very easy","Moderately easy","Slightly easy","Not easy at all"]},{kind:"multiplechoice",text:"How satisfied are you with the documentation for Cloud Management Console?",selections:"Very satisfied;Somewhat satisfied;Neither satisfied nor dissatisfied;Somewhat dissatisfied;Very dissatisfied;Not applicable".split(";")},{kind:"multiplechoice",text:"How satisfied are you with the available support for Cloud Management Console?",
selections:"Very satisfied;Somewhat satisfied;Neither satisfied nor dissatisfied;Somewhat dissatisfied;Very dissatisfied;Not applicable".split(";")},{kind:"opentext",text:"Please explain any ratings you provided or make any suggestions for improving your UCP experience."}],epilogue:lH("h_ucpc")}}],exclude:["^/ucp-hub/welcome"],pathSpecificConfigs:[]});
_.nH.set("CLOUD_WORKFLOWS",{surveys:[{surveyName:"workflows-mini-standard",surveyNameHuman:"Workflows",targetedFeature:"survey_workflows_site",surveyData:xtc("workflows-mini-standard","Workflows","Google Cloud Workflows","h_wor")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("PRODUCER_PORTAL_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/producer-portal/private-offers",surveys:[{surveyName:"privateoffers-v1-site",surveyNameHuman:"Private Offers Experience",targetedFeature:"survey_privateoffers_v1_site",surveyData:Btc("privateoffers-v1-custom","Private Offers Experience")}]}]});
_.nH.set("ALLOYDB_SECTION",{surveys:[{surveyName:"alloydb-standard",surveyNameHuman:"AlloyDB",targetedFeature:"survey_alloydb_site",surveyData:ytc("alloydb-standard","AlloyDB","AlloyDB","h_adb")}],exclude:[],pathSpecificConfigs:[]});_.nH.set("CLOUD_DEPLOY_SECTION",{surveys:[{surveyName:"cloud-deploy-standard",surveyNameHuman:"Cloud Deploy",targetedFeature:"survey_cloud_deploy_site",surveyData:mH("cloud-deploy-standard","Cloud Deploy","Cloud Deploy","h_cdp")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DATAPLEX_SECTION",{surveys:[{surveyName:"dataplex-standard",surveyNameHuman:"Dataplex",targetedFeature:"survey_dataplex_site",surveyData:mH("dataplex-standard","Dataplex","Dataplex","h_dtp")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("EVENTARC_SECTION",{surveys:[],exclude:[],pathSpecificConfigs:[{path:"^/eventarc/triggers",surveys:[{surveyName:"eventarc-custom",surveyNameHuman:"Eventarc",targetedFeature:"survey_eventarc_site",surveyData:{surveyName:"eventarc-custom",surveyNameHuman:"Eventarc",questions:[hH("Eventarc"),jH("Eventarc")],epilogue:lH("h_eva")}}]}]});
_.nH.set("CLOUDWORKSTATIONS_SECTION",{surveys:[{surveyName:"workstations-standard",surveyNameHuman:"Cloud Workstations",targetedFeature:"survey_workstations_site",surveyData:mH("workstations-standard","Cloud Workstations","Cloud Workstations","h_ws")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DATASTREAM_SECTION",{surveys:[{surveyName:"datastream-standard",surveyNameHuman:"Datastream",targetedFeature:"survey_datastream_site",surveyData:mH("datastream-standard","Datastream","Datastream","h_dts")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("RETAIL_SECTION",{surveys:[{surveyName:"retail-standard",surveyNameHuman:"Retail",targetedFeature:"survey_retail_site",surveyData:{surveyName:"retail-standard",surveyNameHuman:"Retail",questions:[hH("Retail"),iH("Retail"),jH("Retail"),otc("Retail")],epilogue:lH("h_rtl")}}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("DBMIGRATION_SECTION",{surveys:[{surveyName:"dms-standard",surveyNameHuman:"Database Migration Service",targetedFeature:"survey_dms_site",surveyData:mH("dms-standard","Database Migration Service","Database Migration Service","h_dms")}],exclude:[],pathSpecificConfigs:[]});
_.nH.set("RECAPTCHA_ENTERPRISE_SECTION",{surveys:[{surveyName:"recaptcha-standard",surveyNameHuman:"reCAPTCHA Enterprise Survey",targetedFeature:"survey_recaptcha_site",surveyData:mH("recaptcha-standard","reCAPTCHA Enterprise Survey","reCAPTCHA Enterprise","h_rcp")}],exclude:[],pathSpecificConfigs:[]});
_.oH.set("CLOUDSHELL",{surveys:[{surveyName:"cloudshell-custom",surveyNameHuman:"Cloud Shell",targetedFeature:"survey_cloudshell_site",surveyData:{surveyName:"cloudshell-custom",surveyNameHuman:"Cloud Shell",questions:[hH("Google Cloud Shell"),iH("Google Cloud Shell"),jH("Google Cloud Shell"),{kind:"multipleselect",text:"What are the main tasks for which you typically use Cloud Shell?",selections:"Managing GCP resources from command line (via gcloud, gsutil, kubectl, etc.);Playing and exploring GCP features to build my own understanding of the technologies (APIs, new products, etc.);Structured learning activities: self-paced tutorials, online courses, etc.;Software development;Data analysis;Other".split(";")},
{kind:"multiplechoice",text:"How easy or difficult is it for you to perform those tasks?",selections:["Very easy","Somewhat easy","Neither easy nor difficult","Somewhat difficult","Very difficult"]},{kind:"multiplechoice",text:"How would you describe the speed of Google Cloud Shell?",selections:["Very fast","Somewhat fast","Neither slow nor fast","Somewhat slow","Very slow"]}],epilogue:lH("h_she")}}]});
_.oH.set("RECOMMENDER1",{surveys:[{surveyName:"recommender1-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender1_site",surveyData:mH("recommender1-standard","Active Assist Recommenders","Dataflow manageability recommendations","h_re2")}]});
_.oH.set("RECOMMENDER2",{surveys:[{surveyName:"recommender2-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender2_site",surveyData:mH("recommender2-standard","Active Assist Recommenders","VPN tunnel recommendations","h_re2")}]});
_.oH.set("RECOMMENDER3",{surveys:[{surveyName:"recommender3-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender3_site",surveyData:mH("recommender3-standard","Active Assist Recommenders","Dataflow cost recommendations","h_re2")}]});
_.oH.set("RECOMMENDER4",{surveys:[{surveyName:"recommender4-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender4_site",surveyData:mH("recommender4-standard","Active Assist Recommenders","Firewall recommendations","h_re2")}]});
_.oH.set("RECOMMENDER5",{surveys:[{surveyName:"recommender5-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender5_site",surveyData:mH("recommender5-standard","Active Assist Recommenders","Shadowed firewall rule recommendations","h_re2")}]});
_.oH.set("RECOMMENDER6",{surveys:[{surveyName:"recommender6-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender6_site",surveyData:mH("recommender6-standard","Active Assist Recommenders","Bigquery commitment recommendations","h_re2")}]});
_.oH.set("RECOMMENDER7",{surveys:[{surveyName:"recommender7-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender7_site",surveyData:mH("recommender7-standard","Active Assist Recommenders","Bigquery commitment recommendations","h_re2")}]});
_.oH.set("RECOMMENDER8",{surveys:[{surveyName:"recommender8-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender8_site",surveyData:mH("recommender8-standard","Active Assist Recommenders","VM performance recommendations","h_re2")}]});
_.oH.set("RECOMMENDER9",{surveys:[{surveyName:"recommender9-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender9_site",surveyData:mH("recommender9-standard","Active Assist Recommenders","Committed use discount recommendations","h_re2")}]});
_.oH.set("RECOMMENDER10",{surveys:[{surveyName:"recommender10-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender10_site",surveyData:mH("recommender10-standard","Active Assist Recommenders","Committed use discount recommendations","h_re2")}]});
_.oH.set("RECOMMENDER11",{surveys:[{surveyName:"recommender11-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender11_site",surveyData:mH("recommender11-standard","Active Assist Recommenders","VM cost recommendations","h_re2")}]});
_.oH.set("RECOMMENDER12",{surveys:[{surveyName:"recommender12-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender12_site",surveyData:mH("recommender12-standard","Active Assist Recommenders","Compute idle resource recommendations","h_re2")}]});
_.oH.set("RECOMMENDER13",{surveys:[{surveyName:"recommender13-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender13_site",surveyData:mH("recommender13-standard","Active Assist Recommenders","IAM role recommendations","h_re2")}]});
_.oH.set("RECOMMENDER14",{surveys:[{surveyName:"recommender14-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender14_site",surveyData:mH("recommender14-standard","Active Assist Recommenders","IAM recommendations","h_re2")}]});
_.oH.set("RECOMMENDER15",{surveys:[{surveyName:"recommender15-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender15_site",surveyData:mH("recommender15-standard","Active Assist Recommenders","Google Maps secure account recommendations","h_re2")}]});
_.oH.set("RECOMMENDER16",{surveys:[{surveyName:"recommender16-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender16_site",surveyData:mH("recommender16-standard","Active Assist Recommenders","SQL recommendations","h_re2")}]});
_.oH.set("RECOMMENDER17",{surveys:[{surveyName:"recommender17-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender17_site",surveyData:mH("recommender17-standard","Active Assist Recommenders","Dataflow job performance recommendations","h_re2")}]});
_.oH.set("RECOMMENDER18",{surveys:[{surveyName:"recommender18-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender18_site",surveyData:mH("recommender18-standard","Active Assist Recommenders","Cloud Run service security recommendations","h_re2")}]});
_.oH.set("RECOMMENDER19",{surveys:[{surveyName:"recommender19-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender19_site",surveyData:mH("recommender19-standard","Active Assist Recommenders","Committed use discount recommendations","h_re2")}]});
_.oH.set("RECOMMENDER20",{surveys:[{surveyName:"recommender20-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender20_site",surveyData:mH("recommender20-standard","Active Assist Recommenders","IAM role recommendations","h_re2")}]});
_.oH.set("RECOMMENDER21",{surveys:[{surveyName:"recommender21-standard",surveyNameHuman:"Active Assist Recommenders",targetedFeature:"survey_recommender21_site",surveyData:mH("recommender21-standard","Active Assist Recommenders","IAM role recommendations","h_re2")}]});_.oH.set("RECPRODUCTS",{surveys:[{surveyName:"recproducts-standard",surveyNameHuman:"Recommendation Hub",targetedFeature:"survey_recproducts_site",surveyData:mH("recproducts-standard","Recommendation Hub","the recommendation hub","h_rep")}]});
_.oH.set("PRODUCER",{surveys:[{surveyName:"producerportal-custom",surveyNameHuman:"Producer Portal",targetedFeature:"survey_producerportal_site",surveyData:{surveyName:"producerportal-custom",surveyNameHuman:"Producer Portal",questions:[{kind:"multiplechoice",text:"Overall, how satisfied are you with the Cloud Marketplace product onboarding process?",selections:["Very satisfied","Somewhat satisfied","Neither satisfied nor dissatisfied","Somewhat dissatisfied","Very dissatisfied"]},{kind:"multiplechoice",
text:"How easy or difficult was it for you to use the Producer Portal?",selections:["Very easy","Somewhat easy","Neither easy nor difficult","Somewhat difficult","Very difficult"]},kH("Do you have any suggestions for improving the Producer Portal?")],epilogue:lH("h_por")}}]});
_.oH.set("NET_TOPOLOGY",{surveys:[{surveyName:"nettopology-custom",surveyNameHuman:"Network Topology",targetedFeature:"survey_nettopology_site",surveyData:{surveyName:"nettopology-custom",surveyNameHuman:"Network Topology",questions:[hH("Network Topology"),rtc("Network Topology"),{kind:"multipleselect",text:"Choose any aspects of Network Topology that have not met your expectations",selections:"UI performance;Actionability;Data quality;Data completeness;Ease of use;Filtering capability;None of the above".split(";"),
randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},kH("What, if anything, can be done to improve the Network Topology?")],epilogue:lH("h_top")}}]});_.oH.set("CONNECTIVITY_TEST",{surveys:[{surveyName:"connectivitytest2-custom",surveyNameHuman:"Connectivity Test",targetedFeature:"survey_connectivitytest2_site",surveyData:Ctc("connectivitytest2-custom")}]});
_.oH.set("GKE_AUTOPILOT",{surveys:[{surveyName:"autopilot-custom",surveyNameHuman:"GKE Autopilot",targetedFeature:"survey_autopilot_site",surveyData:{surveyName:"autopilot-custom",surveyNameHuman:"GKE Autopilot",questions:[{kind:"multipleselect",text:"Why did you not create a GKE Autopilot cluster? Select all that apply",selections:"I do not need a cluster right now;Limited or missing functionality;Too expensive;Too difficult to use;Not sure if it is the right type of cluster for me;Poor documentation;Prefer GKE Standard;Prefer to create clusters with a different tool;Other".split(";"),
randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},{kind:"multipleselect",text:"What are the primary ways you\u2019ve learned about GKE Autopilot? Select all that apply",selections:["Google Cloud console UI","Google Cloud documentation","Google Cloud blog or other marketing material","Third party blog or website","Other"],randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},{kind:"multipleselect",text:"Which additional features would make you more likely to use GKE Autopilot? Select all that apply ",
selections:"Different types of VMs;GPU support;Anthos Service Mesh integration;Anthos Config Management integration;More advanced networking;Other;None of the above".split(";"),randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},{kind:"multiplechoice",text:"Do you plan to create a GKE cluster in the next 30 days?",selections:["Yes, I will create an Autopilot cluster","Yes, I will create a Standard cluster","Yes, both Autopilot and Standard clusters","No, I will not create a cluster","I don\u2019t know"]}],
epilogue:lH("h_aut")}}]});_.oH.set("CONNECTIVITY_DROPPED",{surveys:[{surveyName:"connectivitytest-custom",surveyNameHuman:"Connectivity Test",targetedFeature:"survey_connectivitytest_site",surveyData:Ctc("connectivitytest-custom")}]});
_.oH.set("MARKETPLACE_PO",{surveys:[{surveyName:"marketplace-po-mini-standard",surveyNameHuman:"Private Offer",targetedFeature:"survey_marketplace_po_site",surveyData:{surveyName:"marketplace-po-mini-standard",surveyNameHuman:"Private Offer",questions:[hH("your latest experience transacting a private offer on the Google Cloud Marketplace"),kH("What, if anything, could the Google Cloud Marketplace team do to improve the experience?")],epilogue:lH("h_poc")}}]});
_.oH.set("PRIVATE_OFFERS_V2",{surveys:[{surveyName:"privateoffers-v2-custom",surveyNameHuman:"Private Offers Experience",targetedFeature:"survey_privateoffers_v2_site",surveyData:Btc("privateoffers-v2-custom","Private Offers Experience")}]});
_.oH.set("CLOUD_FUNCTIONS_GEN2",{surveys:[{surveyName:"cloud-functions-gen2-custom",surveyNameHuman:"Cloud Functions 2nd gen",targetedFeature:"survey_cloud_functions_gen2_site",surveyData:{surveyName:"cloud-functions-gen2-custom",surveyNameHuman:"Cloud Functions 2nd gen",questions:[hH("Cloud Functions 2nd gen"),{kind:"multiplechoice",text:"Based on your experience, how would you rate the ease of use of Cloud Functions 2nd gen?",selections:["Extremely easy","Very easy","Moderately easy","Slightly easy",
"Not easy at all"]},{kind:"opentext",text:" What, if anything, do you like or dislike most about Cloud Functions 2nd gen?"}],epilogue:lH("h_gen")}}]});
_.oH.set("XPP_HELP_ASSISTANT",{surveys:[{surveyName:"xpp-help-assistant-custom",surveyNameHuman:"XPP-in-SIP Help Assistant",targetedFeature:"survey_xpp_help_assistant_site",surveyData:{surveyName:"xpp-help-assistant-custom",surveyNameHuman:"XPP-in-SIP Help Assistant",questions:[{kind:"multipleselect",text:"Indicate any aspects of the Help Assistant that have NOT met your expectations today:",selections:"Did not identify my issue;Content was not relevant;Options were difficult to understand;Content or solutions were repetitive;Content was inaccurate;Too slow;Everything is ok today".split(";"),
randomizeResponseOptionOrder:!0,preserveOtherAsLast:!0},{kind:"opentext",text:"What, if anything, do you like or dislike most about the Help Assistant?"}],epilogue:lH("h_xpp")}}]});
_.oH.set("DATAFLOW_RECOMMENDATIONS",{surveys:[{surveyName:"dataflow-recommendations-custom",surveyNameHuman:"Dataflow Recommendations",targetedFeature:"survey_dataflow_recommendations_site",surveyData:{surveyName:"dataflow-recommendations-custom",surveyNameHuman:"Dataflow Recommendations",questions:[hH("Dataflow Recommendations"),jH("Dataflow Recommendations")],epilogue:lH("h_dfr")}}]});
_.oH.set("CLOUD_DNS_CONFIGURATION_PROCESS",{surveys:[{surveyName:"cloud-dns-configuration-process-custom",surveyNameHuman:"Cloud DNS Configuration Process",targetedFeature:"survey_cloud_dns_configuration_process_site",surveyData:{surveyName:"cloud-dns-configuration-process-custom",surveyNameHuman:"Cloud DNS Configuration Process",questions:[hH("Cloud DNS Configuration Process"),{kind:"opentext",text:"What, if anything, would you want to see improved about the Cloud DNS configuration process?"},{kind:"multiplechoice",
text:"Based on your experience, how easy is it to CREATE A RECORD SET",selections:["Extremely easy","Very easy","Moderately easy","Slightly easy","Not easy at all"]},{kind:"opentext",text:"Considering this CREATE RECORD SET page, what could be improved about the experience?"}],epilogue:lH("h_dns")}}]});
_.oH.set("CLOUD_AD",{surveys:[{surveyName:"cloud-ad-custom",surveyNameHuman:"Cloud Active Directory",targetedFeature:"survey_cloud_active_directory_site",surveyData:{surveyName:"cloud-ad-custom",surveyNameHuman:"Cloud Active Directory",questions:[{kind:"multiplechoice",text:"We're sorry to see you go. Would you tell us why?",selections:"Missing feature(s);Difficult to setup;Too expensive;Switching to another identity provider;Finished evaluating the product;Other".split(";")},kH("Any feedback or suggestions?")],
epilogue:lH("h_adr")}}]});_.oH.set("APIGEE_ONBOARDING_PAYG",{surveys:[{surveyName:"apigee-onboarding-payg-custom",surveyNameHuman:"Apigee Onboarding",targetedFeature:"survey_apigee_onboarding_payg_site",surveyData:Ftc("apigee-onboarding-payg-custom","h_apo")}]});
_.oH.set("APIGEE_ONBOARDING_SUBSCRIPTION",{surveys:[{surveyName:"apigee-onboarding-subscription-custom",surveyNameHuman:"Apigee Onboarding",targetedFeature:"survey_apigee_onboarding_subscription_site",surveyData:Ftc("apigee-onboarding-subscription-custom","h_aps")}]});
_.oH.set("IAM_ACCESS",{surveys:[{surveyName:"iam-access-custom",surveyNameHuman:"Assigning access in IAM via role picker",targetedFeature:"iam_access_hats_survey",surveyData:{surveyName:"iam-access-custom",surveyNameHuman:"Assigning access in IAM via role picker",questions:[{kind:"multiplechoice",text:"How was your experience of assigning access today?",selections:["Completely satisfied","Very satisfied","Moderately satisfied","Somewhat satisfied","Not at all satisfied"]},{kind:"multiplechoice",text:"How confident are you that you assigned the access you intended?",
selections:["Completely confident","Very confident","Moderately confident","Somewhat confident","Not at all confident"]},{kind:"opentext",text:"What can we do to make it better?"}],epilogue:lH("h_iama")}}]});
_.oH.set("WINDOWS_WORKLOADS_COMPUTE",{surveys:[{surveyName:"windows-workloads-compute-standard",surveyNameHuman:"Windows Workloads on Compute Engine",targetedFeature:"survey_windows_workloads_compute_site",surveyData:wtc("windows-workloads-compute-standard","Windows Workloads on Compute Engine","Windows workloads hosted on Compute Engine","h_wwc")}]});var Yuc=function(a,b,c){if(!(1>b.surveys.length||a.disableSurveys))for(var d of b.surveys)if(c.includes(d.targetedFeature)){b=d.surveyData;(d=d.targetedFeature)&&b&&(_.Xyb(a.targetingService,d),a.currentSurveyCache.set("currentSurveyCacheKey",{survey:b,debugMode:!1}));break}},Zuc=class{constructor(a,b,c,d,e,f,g){this.router=a;this.route=b;this.targetingService=e;this.routeParser=f;this.inDemoProject=!1;this.currentSurveyCache=g.create("globalCurrentSurveyCacheId","Global cache that holds the current survey state.");
this.currentTestSurveyCache=g.create("globalCurrentTestSurveyCacheId","Global cache that holds the current test survey state.");this.currentSurvey=_.le(this.currentSurveyCache.onChange.pipe(_.y(l=>l.value),_.Oe(5E3)),this.currentTestSurveyCache.onChange.pipe(_.y(l=>l.value))).pipe(_.mf(1));this.disableSurveys||"en"!==_.zi.substr(0,2)||_.mi()||(this.currentSurvey.subscribe(),Vuc(d).subscribe(l=>{(this.inDemoProject=l)&&this.currentTestSurveyCache.set("currentTestSurveyCacheKey",null)}),_.$d([a.events.pipe(_.oe(l=>
l instanceof _.Dg),_.y(l=>l.urlAfterRedirects),_.pf(a.url),_.qf(l=>_.u3a(f,l).pipe(_.y(p=>({section:p,path:_.PJa(_.vh(5,l))})))),_.Qe((l,p)=>l.section===p.section&&l.path===p.path)),this.targetingService.latestFeaturesObs]).subscribe(([l,p])=>{a:if(l.section&&!this.disableSurveys){var r=l.path;if(l=_.nH.get(l.section)){for(const t of l.pathSpecificConfigs)if(t&&r&&RegExp(t.path).test(r)){Yuc(this,t,p);break a}if(r)for(const t of l.exclude)if(RegExp(t).test(r))break a;Yuc(this,l,p)}}}))}get disableSurveys(){return _.Dc("pantheon_disableHatsSurvey")&&
!_.Xuc||this.inDemoProject}triggerSurveyIfTargeted(a){if(!this.disableSurveys){var b=_.oH.get(a);b&&this.targetingService.latestFeaturesObs.pipe(_.Se(1)).subscribe(c=>{Yuc(this,b,c)})}}};Zuc.\u0275fac=function(a){return new (a||Zuc)(_.k(_.jm),_.k(_.yg),_.k(_.fr),_.k(Wuc),_.k(_.Vw),_.k(_.Cp),_.k(_.nm))};Zuc.\u0275prov=_.h({token:Zuc,factory:Zuc.\u0275fac,providedIn:"root"});_.$uc=class{constructor(a){this.surveyService=a}triggerSurveyIfTargeted(){this.surveyService.triggerSurveyIfTargeted("IAM_ACCESS")}};_.$uc.\u0275fac=function(a){return new (a||_.$uc)(_.k(Zuc))};_.$uc.\u0275prov=_.h({token:_.$uc,factory:_.$uc.\u0275fac,providedIn:"root"});var avc=class{constructor(a){this.showAllUsers=a.supportsAllUsers;this.projectMembersEnabled=a.supportsProjectMembers}};avc.\u0275fac=function(a){return new (a||avc)(_.A(_.PG))};
avc.\u0275cmp=_.m({type:avc,selectors:[["cfc-add-members-tooltip"]],decls:18,vars:3,consts:()=>[" Add one or more of the following:\n","\ufffd#5\ufffdGoogle Account email\ufffd/#5\ufffd: user@gmail.com ","\ufffd#8\ufffdGoogle Group\ufffd/#8\ufffd: admins@googlegroups.com ","\ufffd#11\ufffdService account\ufffd/#11\ufffd: server@example.gserviceaccount.com ","\ufffd#14\ufffdGoogle Workspace domain\ufffd/#14\ufffd: example.com ",'\ufffd#2\ufffdanybody\ufffd/#2\ufffd: enter "allUsers" to grant all users access ',
'\ufffd#2\ufffdall Google Accounts\ufffd/#2\ufffd: enter "allAuthenticatedUsers" to grant access to any user signed in to a Google Account ',_.ft("\ufffd#2\ufffdPrincipals with project-level basic roles\ufffd/#2\ufffd: specify a project-level basic role and project; all principals with the specified basic role for the specified project will get the additional role you select: \ufffd#3\ufffd[\ufffd#4\ufffd|\ufffd#5\ufffd|\ufffd#6\ufffd]- projectOwner:my-project-id[\ufffd/#4\ufffd|\ufffd/#5\ufffd|\ufffd/#6\ufffd][\ufffd#4\ufffd|\ufffd#5\ufffd|\ufffd#6\ufffd]- projectEditor:my-project-id[\ufffd/#4\ufffd|\ufffd/#5\ufffd|\ufffd/#6\ufffd][\ufffd#4\ufffd|\ufffd#5\ufffd|\ufffd#6\ufffd]- projectViewer:my-project-id[\ufffd/#4\ufffd|\ufffd/#5\ufffd|\ufffd/#6\ufffd]\ufffd/#3\ufffd"),
["cfc-list",""],[1,"cfc-text-body-strong"],[4,"ngIf"]],template:function(a,b){a&1&&(_.G(0,"p"),_.N(1,0),_.I(),_.G(2,"ul",8)(3,"li"),_.Of(4,1),_.J(5,"span",9),_.Pf(),_.I(),_.G(6,"li"),_.Of(7,2),_.J(8,"span",9),_.Pf(),_.I(),_.G(9,"li"),_.Of(10,3),_.J(11,"span",9),_.Pf(),_.I(),_.G(12,"li"),_.Of(13,4),_.J(14,"span",9),_.Pf(),_.I(),_.E(15,Gtc,3,0,"li",10)(16,Htc,3,0,"li",10)(17,Itc,7,0,"li",10),_.I());a&2&&(_.z(15),_.F("ngIf",b.showAllUsers),_.z(),_.F("ngIf",b.showAllUsers),_.z(),_.F("ngIf",b.projectMembersEnabled))},
dependencies:[_.Bl,_.bv],encapsulation:2});var bvc=class{constructor(a,b,c="",d=""){this.email=a;this.short=b;this.long=c;this.moreInfoUrl=d}};var cvc,dvc,fvc,evc,hvc;cvc=/^[0-9]+@cloudservices(\.[^.]+\.iam)?\.gserviceaccount\.com/;dvc=_.gt(_.jD.CONSOLE__IAM_HELP_SERVICE_ACCOUNTS_GOOGLE_MANAGED);_.gvc=function(a,b,c){const d=1===c.length?evc(a,c[0]):_.w([]);c=1===c.length?fvc(a,c[0]):_.w("");return _.he([d,c]).pipe(_.qf(([e,f])=>a.getAccountDescriptions(b,f,e)),_.mf(1))};fvc=function(a,b){return a.hasPermission("resourcemanager.projects.get",b)?a.projectService.getProject(b,!0).pipe(_.y(c=>c.numericProjectId.toString())):_.w("")};
evc=function(a,b){return a.hasPermission("iam.serviceAccounts.list",b)?a.iamServiceAccountService.listAccounts(b,!1).pipe(_.y(c=>c),_.Je(c=>{c.errorExperience=2;return _.w([])})):_.w([])};hvc=function(a,b){var c=a.email;var d=a.displayName;b&&(b=` for Project ${b}`,d.endsWith(b)&&(d=d.replace(b,"")));return new bvc(c,d,a.isApiServiceAgent?"Google-managed service account used to access the APIs of Google Cloud Platform services.":"",a.isApiServiceAgent?dvc:"")};
_.pH=class{constructor(a,b,c){this.iamPermissionsService=a;this.iamServiceAccountService=b;this.projectService=c}hasPermission(a,b){return this.iamPermissionsService.can(a,new _.Eq(b,0))||!1}getAccountDescriptions(a,b,c){return this.iamServiceAccountService.getAccountDescriptions(a).pipe(_.y(d=>{const e=new Map;for(const f of a){const g=d.has(f)?hvc(d.get(f),b):f.startsWith("491336106354-")&&f.endsWith("@developer.gserviceaccount.com")?new bvc(f,"Stackdriver service account","Account used by Stackdriver to gather monitoring data.",
dvc):cvc.test(f)?new bvc(f,"Google APIs Service Agent","Google-managed service account used to access the APIs of Google Cloud Platform services.",dvc):"509219875288-kscf0cheafmf4f6tp1auij5me8qakbin@developer.gserviceaccount.com"===f?new bvc(f,"Billing Exports Service Agent","Account used to access the APIs of Google Cloud Platform services.",dvc):null;g&&e.set(f,g)}for(const f of c)d=hvc(new _.Jrc(f.email,f.displayName||"",!1),b),e.set(f.email,d);return e}))}};
_.pH.\u0275fac=function(a){return new (a||_.pH)(_.k(_.Cv),_.k(_.UG),_.k(_.Tq))};_.pH.\u0275prov=_.h({token:_.pH,factory:_.pH.\u0275fac,providedIn:"root"});var ivc=function(a,b){return a.policyService.generateRoleMap(b).pipe(_.We(),_.y(c=>{c=Array.from(c.values()).flat().filter(d=>4===d.type).map(d=>d.displayName);_.za(c);return c}),_.qf(c=>{const d=b.filter(e=>0===e.getResourceType()).map(e=>e.getResourceId());return _.gvc(a.serviceAccountDescriptor,c,d).pipe(_.y(e=>{const f=c.filter(g=>!e.has(g)).map(g=>({value:g,displayValue:g}));return Array.from(e.entries()).map(([g,l])=>(null==l?0:l.short)?{value:g,description:l.short,displayValue:`${g} - ${l.short}`}:
{value:g,displayValue:g}).concat(f)}))}))},jvc=class{constructor(a,b){this.policyService=a;this.serviceAccountDescriptor=b}};jvc.\u0275fac=function(a){return new (a||jvc)(_.k(_.VG),_.k(_.pH))};jvc.\u0275prov=_.h({token:jvc,factory:jvc.\u0275fac});var kvc=class{};kvc.\u0275fac=function(a){return new (a||kvc)};kvc.\u0275mod=_.ed({type:kvc});kvc.\u0275inj=_.Qc({providers:[jvc],imports:[_.WG]});var lvc,mvc,nvc;lvc=new _.jd("API_VERSION");mvc=new _.jd("REQUEST_SERVICE");
_.qH={$Xgafv:"$.xgafv",access_token:"access_token",affinityType:"affinityType",alt:"alt",authDelegationContextContactsEncryptedOwnerId:"authDelegationContext.contacts.encryptedOwnerId",authDelegationContextDelegationType:"authDelegationContext.delegationType",authDelegationContextGriffinObfuscatedOwnerId:"authDelegationContext.griffin.obfuscatedOwnerId",authDelegationContextMadisonMadisonGaiaId:"authDelegationContext.madison.madisonGaiaId",authDelegationContextMadisonObfuscatedMadisonId:"authDelegationContext.madison.obfuscatedMadisonId",
authDelegationContextObfuscatedOwnerId:"authDelegationContext.obfuscatedOwnerId",authDelegationContextUnicornObfuscatedOwnerId:"authDelegationContext.unicorn.obfuscatedOwnerId",blockDirection:"blockDirection",callback:"callback",client:"client",clientId:"client.id",clientVersionClientAgent:"clientVersion.clientAgent",clientVersionClientType:"clientVersion.clientType",clientVersionClientVersion:"clientVersion.clientVersion",clientVersionGmsCoreContextAppManagementContext:"clientVersion.gmsCoreContext.appManagementContext",
clientVersionGmsCoreContextIsFirstParty:"clientVersion.gmsCoreContext.isFirstParty",clientVersionGmsCoreContextPackageName:"clientVersion.gmsCoreContext.packageName",clientVersionGmsCoreContextPackageSignature:"clientVersion.gmsCoreContext.packageSignature",consentOptionsStrategy:"consentOptions.strategy",consistencyOptionsConsistentReadOverrideType:"consistencyOptions.consistentReadOverrideType",consistencyOptionsLevel:"consistencyOptions.level",consistencyOptionsLevelOptionsBoundedConsistencyMaxAllowedStaleness:"consistencyOptions.levelOptions.boundedConsistency.maxAllowedStaleness",
consistencyOptionsLevelOptionsExactTimestamp:"consistencyOptions.levelOptions.exactTimestamp",consistencyOptionsLevelOptionsStaleConsistencyConsistencyRequirement:"consistencyOptions.levelOptions.staleConsistency.consistencyRequirement",contactId:"contactId",contactListType:"contactListType",contactLookupOptionsEmailLookupType:"contactLookupOptions.emailLookupType",container:"container",containerId:"containerId",containerIds:"containerIds",contextAllowedRequesterState:"context.allowedRequesterState",
contextAuthDelegationContextContactsEncryptedOwnerId:"context.authDelegationContext.contacts.encryptedOwnerId",contextAuthDelegationContextDelegationType:"context.authDelegationContext.delegationType",contextAuthDelegationContextGriffinObfuscatedOwnerId:"context.authDelegationContext.griffin.obfuscatedOwnerId",contextAuthDelegationContextMadisonMadisonGaiaId:"context.authDelegationContext.madison.madisonGaiaId",contextAuthDelegationContextMadisonObfuscatedMadisonId:"context.authDelegationContext.madison.obfuscatedMadisonId",
contextAuthDelegationContextObfuscatedOwnerId:"context.authDelegationContext.obfuscatedOwnerId",contextAuthDelegationContextUnicornObfuscatedOwnerId:"context.authDelegationContext.unicorn.obfuscatedOwnerId",contextClientType:"context.clientType",contextClientVersionClientAgent:"context.clientVersion.clientAgent",contextClientVersionClientType:"context.clientVersion.clientType",contextClientVersionClientVersion:"context.clientVersion.clientVersion",contextClientVersionGmsCoreContextAppManagementContext:"context.clientVersion.gmsCoreContext.appManagementContext",
contextClientVersionGmsCoreContextIsFirstParty:"context.clientVersion.gmsCoreContext.isFirstParty",contextClientVersionGmsCoreContextPackageName:"context.clientVersion.gmsCoreContext.packageName",contextClientVersionGmsCoreContextPackageSignature:"context.clientVersion.gmsCoreContext.packageSignature",contextConsistencyContextBase64EncodedZookie:"context.consistencyContext.base64EncodedZookie",contextConsistencyContextDirectoryVersionToken:"context.consistencyContext.directoryVersionToken",contextConsistencyContextFbsRequireAllImportantWritesUpToTime:"context.consistencyContext.fbsRequireAllImportantWritesUpToTime",
contextConsistencyContextFbsVersionInfo:"context.consistencyContext.fbsVersionInfo",contextConsistencyOptionsConsistentReadOverrideType:"context.consistencyOptions.consistentReadOverrideType",contextConsistencyOptionsLevel:"context.consistencyOptions.level",contextConsistencyOptionsLevelOptionsBoundedConsistencyMaxAllowedStaleness:"context.consistencyOptions.levelOptions.boundedConsistency.maxAllowedStaleness",contextConsistencyOptionsLevelOptionsExactTimestamp:"context.consistencyOptions.levelOptions.exactTimestamp",
contextConsistencyOptionsLevelOptionsStaleConsistencyConsistencyRequirement:"context.consistencyOptions.levelOptions.staleConsistency.consistencyRequirement",contextMigrationOptionsUseClusterBased:"context.migrationOptions.useClusterBased",contextMigrationOptionsUseLegacyRequestMaskBehavior:"context.migrationOptions.useLegacyRequestMaskBehavior",contextMigrationOptionsUseNewRequestMaskBehavior:"context.migrationOptions.useNewRequestMaskBehavior",contextRequestGroupLoggingId:"context.requestGroupLoggingId",
contextRightOfPublicityContext:"context.rightOfPublicityContext",coreIdParamsCheckIdentityAcl:"coreIdParams.checkIdentityAcl",coreIdParamsEnablePrivateAccountEmails:"coreIdParams.enablePrivateAccountEmails",coreIdParamsEnablePrivateNames:"coreIdParams.enablePrivateNames",coreIdParamsEnforceEdsConditionEnforceEdsType:"coreIdParams.enforceEdsCondition.enforceEdsType",coreIdParamsIdentityAclOptionsContextConfigName:"coreIdParams.identityAclOptions.context.configName",coreIdParamsIdentityAclOptionsContextObjectId:"coreIdParams.identityAclOptions.context.objectId",
coreIdParamsIdentityAclOptionsContextObjectPart:"coreIdParams.identityAclOptions.context.objectPart",coreIdParamsIdentityAclOptionsMode:"coreIdParams.identityAclOptions.mode",coreIdParamsIgnoreAclConditionIgnoreAclConditionType:"coreIdParams.ignoreAclCondition.ignoreAclConditionType",coreIdParamsUseRealtimeNotificationExpandedAcls:"coreIdParams.useRealtimeNotificationExpandedAcls",coreNameCoreProfileFirstName:"coreName.coreProfileFirstName",coreNameCoreProfileLastName:"coreName.coreProfileLastName",
customLookupType:"customLookupType",dataFormatsAffinityFormatsScoreFormat:"dataFormats.affinityFormats.scoreFormat",dataFormatsProfilePhotoOptionsCorpHeaderPreference:"dataFormats.profilePhotoOptions.corpHeaderPreference",dataFormatsProfilePhotoOptionsPrivateUrlFormat:"dataFormats.profilePhotoOptions.privateUrlFormat",dataJoinParamsProfileJoinType:"dataJoinParams.profileJoinType",dedupeOption:"dedupeOption",delayFullSync:"delayFullSync",delegatedGroupIdDelegatedGroupId:"delegatedGroupId.delegatedGroupId",
deleteContacts:"deleteContacts",deleteTrashedContacts:"deleteTrashedContacts",deletionContextMutationContextAndroidDeviceInfoId:"deletionContext.mutationContext.androidDeviceInfo.id",deletionContextMutationContextHostAppInfoHostAppName:"deletionContext.mutationContext.hostAppInfo.hostAppName",deletionContextMutationContextSource:"deletionContext.mutationContext.source",deletionContextMutationContextThirdPartyInfoClientName:"deletionContext.mutationContext.thirdPartyInfo.clientName",deletionContextMutationContextThirdPartyInfoProjectNumber:"deletionContext.mutationContext.thirdPartyInfo.projectNumber",
deletionContextMutationContextTimestamp:"deletionContext.mutationContext.timestamp",deviceId:"deviceId",deviceIdentifierClientInstanceId:"deviceIdentifier.clientInstanceId",deviceIdentityDeviceId:"deviceIdentity.deviceId",extensionSetExtendedRequestDataPeopleBackendExtensionApplication:"extensionSet.extendedRequestData.peopleBackendExtension.application",extensionSetExtensionNames:"extensionSet.extensionNames",fieldFilterField:"fieldFilter.field",fieldMask:"fieldMask",fieldValueFilterAdminAssistants:"fieldValueFilter.adminAssistants",
fieldValueFilterDottedLineManagers:"fieldValueFilter.dottedLineManagers",fieldValueFilterExecAssistants:"fieldValueFilter.execAssistants",fieldValueFilterIndirectManagers:"fieldValueFilter.indirectManagers",fieldValueFilterIndirectManagersWithMaxNumHops:"fieldValueFilter.indirectManagersWithMaxNumHops",fieldValueFilterManagers:"fieldValueFilter.managers",fieldValueFilterProfileExternalIdCustomTag:"fieldValueFilter.profileExternalId.customTag",fieldValueFilterProfileExternalIdStandardTag:"fieldValueFilter.profileExternalId.standardTag",
fieldValueFilterProfileExternalIdValue:"fieldValueFilter.profileExternalId.value",fields:"fields",getPeopleRequestContextAllowedRequesterState:"getPeopleRequest.context.allowedRequesterState",getPeopleRequestContextAuthDelegationContextContactsEncryptedOwnerId:"getPeopleRequest.context.authDelegationContext.contacts.encryptedOwnerId",getPeopleRequestContextAuthDelegationContextDelegationType:"getPeopleRequest.context.authDelegationContext.delegationType",getPeopleRequestContextAuthDelegationContextGriffinObfuscatedOwnerId:"getPeopleRequest.context.authDelegationContext.griffin.obfuscatedOwnerId",
getPeopleRequestContextAuthDelegationContextMadisonMadisonGaiaId:"getPeopleRequest.context.authDelegationContext.madison.madisonGaiaId",getPeopleRequestContextAuthDelegationContextMadisonObfuscatedMadisonId:"getPeopleRequest.context.authDelegationContext.madison.obfuscatedMadisonId",getPeopleRequestContextAuthDelegationContextObfuscatedOwnerId:"getPeopleRequest.context.authDelegationContext.obfuscatedOwnerId",getPeopleRequestContextAuthDelegationContextUnicornObfuscatedOwnerId:"getPeopleRequest.context.authDelegationContext.unicorn.obfuscatedOwnerId",
getPeopleRequestContextClientType:"getPeopleRequest.context.clientType",getPeopleRequestContextClientVersionClientAgent:"getPeopleRequest.context.clientVersion.clientAgent",getPeopleRequestContextClientVersionClientType:"getPeopleRequest.context.clientVersion.clientType",getPeopleRequestContextClientVersionClientVersion:"getPeopleRequest.context.clientVersion.clientVersion",getPeopleRequestContextClientVersionGmsCoreContextAppManagementContext:"getPeopleRequest.context.clientVersion.gmsCoreContext.appManagementContext",
getPeopleRequestContextClientVersionGmsCoreContextIsFirstParty:"getPeopleRequest.context.clientVersion.gmsCoreContext.isFirstParty",getPeopleRequestContextClientVersionGmsCoreContextPackageName:"getPeopleRequest.context.clientVersion.gmsCoreContext.packageName",getPeopleRequestContextClientVersionGmsCoreContextPackageSignature:"getPeopleRequest.context.clientVersion.gmsCoreContext.packageSignature",getPeopleRequestContextConsistencyContextDirectoryVersionToken:"getPeopleRequest.context.consistencyContext.directoryVersionToken",
getPeopleRequestContextConsistencyOptionsConsistentReadOverrideType:"getPeopleRequest.context.consistencyOptions.consistentReadOverrideType",getPeopleRequestContextConsistencyOptionsLevel:"getPeopleRequest.context.consistencyOptions.level",getPeopleRequestContextConsistencyOptionsLevelOptionsBoundedConsistencyMaxAllowedStaleness:"getPeopleRequest.context.consistencyOptions.levelOptions.boundedConsistency.maxAllowedStaleness",getPeopleRequestContextConsistencyOptionsLevelOptionsExactTimestamp:"getPeopleRequest.context.consistencyOptions.levelOptions.exactTimestamp",
getPeopleRequestContextConsistencyOptionsLevelOptionsStaleConsistencyConsistencyRequirement:"getPeopleRequest.context.consistencyOptions.levelOptions.staleConsistency.consistencyRequirement",getPeopleRequestContextMigrationOptionsUseClusterBased:"getPeopleRequest.context.migrationOptions.useClusterBased",getPeopleRequestContextMigrationOptionsUseLegacyRequestMaskBehavior:"getPeopleRequest.context.migrationOptions.useLegacyRequestMaskBehavior",getPeopleRequestContextMigrationOptionsUseNewRequestMaskBehavior:"getPeopleRequest.context.migrationOptions.useNewRequestMaskBehavior",
getPeopleRequestContextRequestGroupLoggingId:"getPeopleRequest.context.requestGroupLoggingId",getPeopleRequestContextRightOfPublicityContext:"getPeopleRequest.context.rightOfPublicityContext",getPeopleRequestCoreIdParamsCheckIdentityAcl:"getPeopleRequest.coreIdParams.checkIdentityAcl",getPeopleRequestCoreIdParamsEnablePrivateAccountEmails:"getPeopleRequest.coreIdParams.enablePrivateAccountEmails",getPeopleRequestCoreIdParamsEnablePrivateNames:"getPeopleRequest.coreIdParams.enablePrivateNames",getPeopleRequestCoreIdParamsEnforceEdsConditionEnforceEdsType:"getPeopleRequest.coreIdParams.enforceEdsCondition.enforceEdsType",
getPeopleRequestCoreIdParamsIdentityAclOptionsContextConfigName:"getPeopleRequest.coreIdParams.identityAclOptions.context.configName",getPeopleRequestCoreIdParamsIdentityAclOptionsContextObjectId:"getPeopleRequest.coreIdParams.identityAclOptions.context.objectId",getPeopleRequestCoreIdParamsIdentityAclOptionsContextObjectPart:"getPeopleRequest.coreIdParams.identityAclOptions.context.objectPart",getPeopleRequestCoreIdParamsIdentityAclOptionsMode:"getPeopleRequest.coreIdParams.identityAclOptions.mode",
getPeopleRequestCoreIdParamsIgnoreAclConditionIgnoreAclConditionType:"getPeopleRequest.coreIdParams.ignoreAclCondition.ignoreAclConditionType",getPeopleRequestCoreIdParamsUseRealtimeNotificationExpandedAcls:"getPeopleRequest.coreIdParams.useRealtimeNotificationExpandedAcls",getPeopleRequestDataFormatsAffinityFormatsScoreFormat:"getPeopleRequest.dataFormats.affinityFormats.scoreFormat",getPeopleRequestDataFormatsProfilePhotoOptionsCorpHeaderPreference:"getPeopleRequest.dataFormats.profilePhotoOptions.corpHeaderPreference",
getPeopleRequestDataFormatsProfilePhotoOptionsPrivateUrlFormat:"getPeopleRequest.dataFormats.profilePhotoOptions.privateUrlFormat",getPeopleRequestDedupeOption:"getPeopleRequest.dedupeOption",getPeopleRequestExtensionSetExtendedRequestDataPeopleBackendExtensionApplication:"getPeopleRequest.extensionSet.extendedRequestData.peopleBackendExtension.application",getPeopleRequestExtensionSetExtensionNames:"getPeopleRequest.extensionSet.extensionNames",getPeopleRequestIncludeFieldAcl:"getPeopleRequest.includeFieldAcl",
getPeopleRequestIncludedProfileStates:"getPeopleRequest.includedProfileStates",getPeopleRequestMergedPersonSourceOptionsCertificateParamsRequestCertificates:"getPeopleRequest.mergedPersonSourceOptions.certificateParams.requestCertificates",getPeopleRequestMergedPersonSourceOptionsDataJoinParamsProfileJoinType:"getPeopleRequest.mergedPersonSourceOptions.dataJoinParams.profileJoinType",getPeopleRequestMergedPersonSourceOptionsDeviceContactFilterDeviceIdentifierClientInstanceId:"getPeopleRequest.mergedPersonSourceOptions.deviceContactFilter.deviceIdentifier.clientInstanceId",
getPeopleRequestMergedPersonSourceOptionsDeviceContactFilterFilterType:"getPeopleRequest.mergedPersonSourceOptions.deviceContactFilter.filterType",getPeopleRequestMergedPersonSourceOptionsIncludeAccountLocale:"getPeopleRequest.mergedPersonSourceOptions.includeAccountLocale",getPeopleRequestMergedPersonSourceOptionsIncludeAffinity:"getPeopleRequest.mergedPersonSourceOptions.includeAffinity",getPeopleRequestMergedPersonSourceOptionsIncludedContactDeletionStates:"getPeopleRequest.mergedPersonSourceOptions.includedContactDeletionStates",
getPeopleRequestMergedPersonSourceOptionsIncludedProfileStates:"getPeopleRequest.mergedPersonSourceOptions.includedProfileStates",getPeopleRequestMergedPersonSourceOptionsPersonModelParamsPersonModel:"getPeopleRequest.mergedPersonSourceOptions.personModelParams.personModel",getPeopleRequestMergedPersonSourceOptionsPlaceParamsRequestPhotoTypes:"getPeopleRequest.mergedPersonSourceOptions.placeParams.requestPhotoTypes",getPeopleRequestMergedPersonSourceOptionsPlaceParamsRequestPlaces:"getPeopleRequest.mergedPersonSourceOptions.placeParams.requestPlaces",
getPeopleRequestMergedPersonSourceOptionsReplaceIantWithGiant:"getPeopleRequest.mergedPersonSourceOptions.replaceIantWithGiant",getPeopleRequestPersonId:"getPeopleRequest.personId",getPeopleRequestRequestConfigContextConfigKey:"getPeopleRequest.requestConfigContext.configKey",getPeopleRequestRequestConfigContextVersion:"getPeopleRequest.requestConfigContext.version",getPeopleRequestRequestMaskCustomRequestMask:"getPeopleRequest.requestMask.customRequestMask",getPeopleRequestRequestMaskImageUrlType:"getPeopleRequest.requestMask.imageUrlType",
getPeopleRequestRequestMaskIncludeContainer:"getPeopleRequest.requestMask.includeContainer",getPeopleRequestRequestMaskIncludeField:"getPeopleRequest.requestMask.includeField",getPeopleRequestRequestMaskIncludePeopleInCommon:"getPeopleRequest.requestMask.includePeopleInCommon",getPeopleRequestRequestMaskPersonAttribute:"getPeopleRequest.requestMask.personAttribute",getPeopleRequestRequestMaskPhotoOptionsPrivateUrlFormat:"getPeopleRequest.requestMask.photoOptions.privateUrlFormat",graphRestricts:"graphRestricts",
groupExtensionSetExtensionNames:"groupExtensionSet.extensionNames",groupId:"groupId",id:"id",includeAllAvailableSources:"includeAllAvailableSources",includeAllReachablePeople:"includeAllReachablePeople",includeBlocks:"includeBlocks",includeContent:"includeContent",includeFieldAcl:"includeFieldAcl",includeLinkedPeople:"includeLinkedPeople",includeOthers:"includeOthers",includedProfileStates:"includedProfileStates",key:"key",listFilterParamsContainer:"listFilterParams.container",listFilterParamsExcludeUnreachablePeople:"listFilterParams.excludeUnreachablePeople",
matchType:"matchType",maxContacts:"maxContacts",mergedPersonSourceOptionsCertificateParamsRequestCertificates:"mergedPersonSourceOptions.certificateParams.requestCertificates",mergedPersonSourceOptionsDataJoinParamsProfileJoinType:"mergedPersonSourceOptions.dataJoinParams.profileJoinType",mergedPersonSourceOptionsDeviceContactFilterDeviceIdentifierClientInstanceId:"mergedPersonSourceOptions.deviceContactFilter.deviceIdentifier.clientInstanceId",mergedPersonSourceOptionsDeviceContactFilterFilterType:"mergedPersonSourceOptions.deviceContactFilter.filterType",
mergedPersonSourceOptionsIncludeAccountLocale:"mergedPersonSourceOptions.includeAccountLocale",mergedPersonSourceOptionsIncludeAffinity:"mergedPersonSourceOptions.includeAffinity",mergedPersonSourceOptionsIncludedContactDeletionStates:"mergedPersonSourceOptions.includedContactDeletionStates",mergedPersonSourceOptionsIncludedProfileStates:"mergedPersonSourceOptions.includedProfileStates",mergedPersonSourceOptionsPersonModelParamsPersonModel:"mergedPersonSourceOptions.personModelParams.personModel",
mergedPersonSourceOptionsPlaceParamsRequestPhotoTypes:"mergedPersonSourceOptions.placeParams.requestPhotoTypes",mergedPersonSourceOptionsPlaceParamsRequestPlaces:"mergedPersonSourceOptions.placeParams.requestPlaces",mergedPersonSourceOptionsReplaceIantWithGiant:"mergedPersonSourceOptions.replaceIantWithGiant",oauth_token:"oauth_token",objectTypesRestricts:"objectTypesRestricts",options:"options",orderBy:"orderBy",pageSize:"pageSize",pageToken:"pageToken",pagingOptionsPageSize:"pagingOptions.pageSize",
pagingOptionsPageToken:"pagingOptions.pageToken",peopleType:"peopleType",personAttribute:"personAttribute",personExpansion:"personExpansion",personId:"personId",phoneLookupQuotaOptionsQuotaBypassTokenOptions:"phoneLookupQuotaOptions.quotaBypassTokenOptions",phoneLookupQuotaOptionsQuotaBypassTokens:"phoneLookupQuotaOptions.quotaBypassTokens",phoneLookupQuotaOptionsQuotaLimitBehavior:"phoneLookupQuotaOptions.quotaLimitBehavior",phones:"phones",photoOptionsMaxHeight:"photoOptions.maxHeight",photoOptionsMaxWidth:"photoOptions.maxWidth",
placeParamsRequestPlaces:"placeParams.requestPlaces",postPhotoMutateReadOption:"postPhotoMutateReadOption",prefixQuery:"prefixQuery",prettyPrint:"prettyPrint",profileId:"profileId",profileLookupOptionsEmailLookupOption:"profileLookupOptions.emailLookupOption",profileLookupOptionsExcludeGaiaAccountTypes:"profileLookupOptions.excludeGaiaAccountTypes",profileLookupOptionsUseTrustedClientPhoneLookupQuota:"profileLookupOptions.useTrustedClientPhoneLookupQuota",query:"query",quotaFilterType:"quotaFilterType",
quotaUser:"quotaUser",requestConfigContextConfigKey:"requestConfigContext.configKey",requestConfigContextVersion:"requestConfigContext.version",requestMask:"requestMask",requestMaskCustomRequestMask:"requestMask.customRequestMask",requestMaskImageUrlType:"requestMask.imageUrlType",requestMaskIncludeContainer:"requestMask.includeContainer",requestMaskIncludeField:"requestMask.includeField",requestMaskIncludePeopleInCommon:"requestMask.includePeopleInCommon",requestMaskPersonAttribute:"requestMask.personAttribute",
requestMaskPhotoOptionsPrivateUrlFormat:"requestMask.photoOptions.privateUrlFormat",requestOptionsRequireConsistency:"requestOptions.requireConsistency",requestOptionsTreatRestrictsAsFilter:"requestOptions.treatRestrictsAsFilter",requireCompleteResults:"requireCompleteResults",returnedFieldAcl:"returnedFieldAcl",searchSettingsMinTotalItemsAccuracy:"searchSettings.minTotalItemsAccuracy",searchSettingsNumToScore:"searchSettings.numToScore",searchSettingsScoringType:"searchSettings.scoringType",skipPostMutateGet:"skipPostMutateGet",
sortOptionsSortField:"sortOptions.sortField",sortOptionsSortOrder:"sortOptions.sortOrder",source:"source",sources:"sources",squery:"squery",stFieldSpecExpressionsExpressionNames:"stFieldSpecExpressions.expressionNames",stFieldSpecExpressionsExpressions:"stFieldSpecExpressions.expressions",startIndex:"startIndex",stquery:"stquery",syncParametersFullSyncOption:"syncParameters.fullSyncOption",syncParametersSyncToken:"syncParameters.syncToken",syncToken:"syncToken",type:"type",uploadType:"uploadType",
upload_protocol:"upload_protocol",useBytes:"useBytes"};
nvc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v2":a;this.$apiClient=new _.nr(b,c)}batchGet(a){return _.mr(this.$apiClient,{body:a,httpMethod:"POST",methodId:"people_pa.people.batchGet",path:`/${this.gapiVersion}/people:batchGet`,queryParams:_.ki({},_.qH,{})})}block(a,b={},c={}){return _.mr(this.$apiClient,{body:a,httpMethod:"POST",methodId:"people_pa.people.block",path:`/${this.gapiVersion}/people/block`,queryParams:_.ki(b,_.qH,c)})}create(a,b={},c={}){return _.mr(this.$apiClient,
{body:a,httpMethod:"POST",methodId:"people_pa.people.create",path:`/${this.gapiVersion}/people`,queryParams:_.ki(b,_.qH,c)})}report(a,b,c={},d={}){return _.mr(this.$apiClient,{body:b,httpMethod:"POST",methodId:"people_pa.people.report",path:`/${this.gapiVersion}/people/${a}/report`,queryParams:_.ki(c,_.qH,d)})}star(a,b,c={},d={}){return _.mr(this.$apiClient,{body:b,httpMethod:"POST",methodId:"people_pa.people.star",path:`/${this.gapiVersion}/people/${a}/star`,queryParams:_.ki(c,_.qH,d)})}sync(a={},
b={}){return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"people_pa.people.sync",path:`/${this.gapiVersion}/people/sync`,queryParams:_.ki(a,_.qH,b)})}unblock(a,b={},c={}){return _.mr(this.$apiClient,{body:a,httpMethod:"POST",methodId:"people_pa.people.unblock",path:`/${this.gapiVersion}/people/unblock`,queryParams:_.ki(b,_.qH,c)})}update(a,b,c={},d={}){return _.mr(this.$apiClient,{body:b,httpMethod:"PUT",methodId:"people_pa.people.update",path:`/${this.gapiVersion}/people/${a}`,queryParams:_.ki(c,
_.qH,d)})}};nvc.\u0275fac=function(a){return new (a||nvc)(_.k(lvc,8),_.k(mvc),_.k(_.Mq,8))};nvc.\u0275prov=_.h({token:nvc,factory:nvc.\u0275fac});var ovc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v2":a;this.$apiClient=new _.nr(b,c)}list(a={},b={}){return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"people_pa.people.autocomplete.list",path:`/${this.gapiVersion}/people/autocomplete`,queryParams:_.ki(a,_.qH,b)})}};
ovc.\u0275fac=function(a){return new (a||ovc)(_.k(lvc,8),_.k(mvc),_.k(_.Mq,8))};ovc.\u0275prov=_.h({token:ovc,factory:ovc.\u0275fac});var pvc;pvc=new _.Wp("{email} - {name}");
_.qvc=class{constructor(a){a=a.create({host:_.Bc("pantheon_peopleApiHost"),version:"v2"});this.peopleAutocompleteApiClient=a.init(ovc);this.peopleApiClient=a.init(nvc)}autocomplete(a,b=10){return a?this.peopleAutocompleteApiClient.list({client:"EMAIL_CENTRIC",pageSize:b,query:a}).pipe(_.y(c=>c.results?c.results.filter(d=>!!d.person).map(d=>{var e=d.person;d=e.email&&e.email.length&&e.email[0].value||"";e=e.name&&e.name.length&&e.name[0].displayName;return{displayValue:e?pvc.format({name:e,email:d}):
d,value:d,fullName:e||""}}):[])):_.w([])}};_.qvc.\u0275fac=function(a){return new (a||_.qvc)(_.k(_.Nq))};_.qvc.\u0275prov=_.h({token:_.qvc,factory:_.qvc.\u0275fac,providedIn:"root"});var rvc=["inputEl"],svc=0,tvc=[66,58,76,64,63,102,89,90,104,105,106,1,3,42],Qtc=function(a,b){return a.proxiedErrors?Object.values(a.proxiedErrors).find(c=>Array.isArray(c)&&c.includes(b))?"warn":"default":"default"},uvc=function(a,b){return!b||a.peopleOnly||a.filterOutServiceAgents?_.w([]):a.allServiceAccounts.pipe(_.y(c=>c.filter(d=>d.displayValue.includes(b))))},vvc=function(a,b){return b&&!a.peopleOnly&&a.filterOutServiceAgents?a.resources.map(c=>a.iamServiceAccountService.listAccounts(c.getResourceId()).pipe(_.y(d=>
d.map(e=>({value:e.email,displayValue:`${e.email} - ${e.displayName}`,description:e.displayName}))),_.y(d=>d.filter(e=>e.displayValue.includes(b))))):[]},wvc=function(a,b){a.ctrl.setValidators(()=>a.proxiedErrors);b.statusChanges.pipe(_.pf({}),_.B(a.destroyed$)).subscribe(()=>{b.untouched&&a.ctrl.markAsUntouched();a.proxiedErrors=b.errors;_.Jt(b._rawValidators,Ptc)?a.ctrl.addValidators(_.fu):_.Q6b(a.ctrl,_.fu);a.ctrl.setErrors(a.proxiedErrors);a.ctrl.updateValueAndValidity()})},xvc=class{set resources(a){this.resources$.next(a)}get resources(){return this.resources$.getValue()}get doesNotSupportAllUsersErrorMessage(){return this.resourceConfig.doesNotSupportAllUsersErrorMessage}constructor(a,
b,c,d,e,f,g,l,p){this.iamServiceAccountService=a;this.liveAnnouncer=b;this.autosuggestionLiveAnnouncer=c;this.memberService=d;this.ngControl=e;this.peopleService=f;this.resourceConfig=g;this.serviceAccountAutocomplete=l;this.zoneHelper=p;this.destroyed$=new _.hf;this.resources$=new _.zg;this.label="New principals";this.hint="";this.filterOutServiceAgents=this.peopleOnly=this.serviceAccountsOnly=!1;this.showTooltip=!0;this.isInFormStack=!1;this.selections=[];this.inputCtrl=new _.nu("");this.ctrl=new _.nu("");
this.uid=svc++;this.ve={IamMemberBar:62834,IamMemberBarAutocomplete:62835};this.allServiceAccounts=this.resources$.pipe(_.oe(_.Yw),_.qf(r=>ivc(this.serviceAccountAutocomplete,r)),_.pf([]),_.B(this.destroyed$),_.mf(1));this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){this.suggestions=this.inputCtrl.valueChanges.pipe(_.Me(250),_.Qe(),_.qf(a=>{var b=iuc(this.memberService,a||"",this.supportsAllUsers(),this.resourceConfig.supportsProjectMembers);var c=!a||this.serviceAccountsOnly?_.w([]):
this.peopleService.autocomplete(a);return _.$d([b,c,uvc(this,a),vvc(this,a)].flat())}),_.y(a=>a.flat()),_.y(a=>a.map(Jtc)),_.tf(a=>{a.length?_.xGb(this.autosuggestionLiveAnnouncer,a.length):_.yGb(this.autosuggestionLiveAnnouncer,this.inputCtrl.value)}))}ngAfterViewInit(){let a;(null==(a=this.ngControl)?0:a.control)&&this.zoneHelper.whenStable(()=>{wvc(this,this.ngControl.control);var b=this.ngControl.control;const c=[Mtc(this.memberService),itc()];this.supportsAllUsers()||c.push(Ntc);this.resourceConfig.supportsProjectMembers||
c.push(Otc);b.addValidators(c);_.wac(b,Ktc(this.memberService));b.updateValueAndValidity()})}ngOnDestroy(){this.destroyed$.next()}get gridAriaLabel(){return(new _.Wp("{LABEL}, Principals added so far")).format({LABEL:this.label})}get inputAriaLabel(){return(new _.Wp("{LABEL}, Add a principal")).format({LABEL:this.label})}supportsAllUsers(){var a=this.resources;if(0===a.length)return this.resourceConfig.supportsAllUsers;a=a[0].getResourceType();return this.resourceConfig.supportsAllUsers||tvc.includes(a)}remove(a){this.selections.splice(a,
1);if(this.onChange)this.onChange(this.selections);if(this.onTouched)this.onTouched();this.liveAnnouncer.announce("Removed")}add(a){a=a.value.split(/[,  \n\t]+/).filter(b=>""!==b&&!this.selections.includes(b));a.forEach(b=>{this.addItem(b)});0<a.length&&(a=_.Jy("{NUM_MEMBERS, plural, =1 {1 principal added}other {# principals added}}",{NUM_MEMBERS:a.length}),this.liveAnnouncer.announce(a))}changeSelection(a,b){this.addItem(b.value);a=_.Jy("{NUM_MEMBERS, plural, =1 {1 principal added}other {# principals added}}",
{NUM_MEMBERS:1});this.liveAnnouncer.announce(a)}writeValue(a){a||(a=[]);this.selections=a}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){a?this.ctrl.disable():this.ctrl.enable()}onBlur(a,b){this.add({chipInput:b,value:a.target.value})}addItem(a){this.selections.push(a);if(this.onChange)this.onChange(this.selections);this.ctrl.setValue(this.selections);this.inputEl.nativeElement.value="";this.ctrl.markAsTouched();if(this.onTouched)this.onTouched()}};
xvc.\u0275fac=function(a){return new (a||xvc)(_.A(_.UG),_.A(_.Qn),_.A(_.Vy),_.A(_.Brc),_.A(_.gu,10),_.A(_.qvc),_.A(_.PG),_.A(jvc),_.A(_.Mu))};
xvc.\u0275cmp=_.m({type:xvc,selectors:[["cfc-iam-member-bar"]],viewQuery:function(a,b){a&1&&_.Xf(rvc,5);if(a&2){let c;_.Zf(c=_.$f())&&(b.inputEl=c.first)}},inputs:{resources:"resources",label:"label",hint:"hint",serviceAccountsOnly:"serviceAccountsOnly",peopleOnly:"peopleOnly",filterOutServiceAgents:"filterOutServiceAgents",showTooltip:"showTooltip",isInFormStack:"isInFormStack"},decls:24,vars:34,consts:()=>[["chipList",""],["inputEl","","chipInput","matChipInput"],["standardLabelTemplate",""],["auto",
"matAutocomplete"],["customDoesNotSupportAllUsersMessage",""]," Email addresses and domains must be associated with an active Google Account, Google Workspace account, or Cloud Identity account. "," Duplicate principals are not allowed. "," Principals of type allUsers and allAuthenticatedUsers cannot be added to this resource "," Project-level basic roles cannot be treated as principals for this resource "," Enter at least one principal ",[3,"ve","veClick"],[1,"cm-chip-grid-edit-area"],["cfcMarkInvalidChips",
"",3,"formControl","id"],[3,"color","removable","removed",4,"ngFor","ngForOf"],["type","text",3,"blur","matChipInputTokenEnd","id","formControl","matChipInputFor","matAutocomplete","cmChipsAnnouncements"],[3,"id"],[3,"label",4,"ngIf","ngIfElse"],["matSuffix","","ariaLabel","Help with specifying principals","dialogAriaLabel","Example principals to add",4,"ngIf"],[4,"ngIf"],["matError","",4,"cfcDebounceErrorFor"],[3,"value","mousedown","onSelectionChange",4,"ngFor","ngForOf"],[3,"removed","color","removable"],
["matChipRemove","",3,"chipLabel"],[3,"label"],"matSuffix;;ariaLabel;Help with specifying principals;dialogAriaLabel;Example principals to add".split(";"),["matError",""],[4,"ngIf","ngIfElse"],[3,"mousedown","onSelectionChange","value"]],template:function(a,b){if(a&1){const c=_.n();_.G(0,"div",10)(1,"mat-form-field")(2,"div",11)(3,"mat-chip-grid",12,0);_.E(5,Rtc,3,5,"mat-chip-row",13);_.I();_.G(6,"input",14,1);_.O("blur",function(d){_.q(c);const e=_.ag(8);return _.u(b.onBlur(d,e))})("matChipInputTokenEnd",
function(d){_.q(c);return _.u(b.add(d))});_.I()();_.G(9,"mat-label",15);_.E(10,Stc,1,1,"cfc-form-stack-field-label",16)(11,Ttc,1,1,"ng-template",null,2,_.ig);_.I();_.E(13,Utc,2,0,"cfc-help-button",17)(14,Vtc,2,1,"mat-hint",18)(15,Wtc,2,0,"cm-error",19)(16,Xtc,2,0,"cm-error",19)(17,$tc,4,2,"cm-error",19)(18,auc,2,0,"cm-error",19)(19,buc,2,0,"cm-error",19);_.G(20,"mat-autocomplete",10,3);_.E(22,cuc,2,2,"mat-option",20);_.S(23,"async");_.I()()()}if(a&2){a=_.ag(4);const c=_.ag(12),d=_.ag(21);_.F("ve",
b.ve.IamMemberBar)("veClick",!0);_.z(3);_.Ff("cfc-hidden",0==b.selections.length);_.Us("id","add-member-bar-grid-",b.uid,"");_.F("formControl",b.ctrl);_.Df("aria-label",b.gridAriaLabel);_.z(2);_.F("ngForOf",b.selections);_.z();_.Ff("chip-grid-empty-input-offset",0==b.selections.length);_.Us("id","add-member-bar-input-",b.uid,"");_.F("formControl",b.inputCtrl)("matChipInputFor",a)("matAutocomplete",d)("cmChipsAnnouncements",!1);_.Df("aria-label",b.inputAriaLabel);_.z(3);_.Us("id","iam-member-bar-mat-label-",
b.uid,"");_.z();_.F("ngIf",b.isInFormStack)("ngIfElse",c);_.z(3);_.F("ngIf",b.showTooltip);_.z();_.F("ngIf",b.hint);_.z();_.F("cfcDebounceErrorFor","invalidContacts");_.z();_.F("cfcDebounceErrorFor","noDuplicates");_.z();_.F("cfcDebounceErrorFor","allUsersInvalid");_.z();_.F("cfcDebounceErrorFor","projectMembersInvalid");_.z();_.F("cfcDebounceErrorFor","requireMember");_.z();_.F("ve",b.ve.IamMemberBarAutocomplete)("veClick",!0);_.z(2);_.F("ngForOf",_.U(23,32,b.suggestions))}},dependencies:[_.dt,_.at,
_.YG,_.mD,_.nD,_.oD,_.Xt,_.pD,_.pz,_.XG,_.qz,_.rz,_.mz,_.nz,_.ux,_.lz,_.oy,_.OD,_.py,_.iy,_.hy,_.gy,_.ND,_.Qz,_.Al,_.Bl,_.PD,_.bA,_.VE,_.Lt,_.ly,_.qu,avc,_.Gl],encapsulation:2});var yvc=["ConfirmAddPublicMembers"],zvc=["messageTextarea"],Avc=["allUsers","allAuthenticatedUsers"],rH=class{transform(a){return a?a.getDisplayName()||a.getResourceId():""}},Evc,Gvc,Fvc;rH.\u0275fac=function(a){return new (a||rH)};rH.\u0275pipe=_.hd({name:"displayName",type:rH,pure:!0});rH.\u0275prov=_.h({token:rH,factory:rH.\u0275fac,providedIn:"root"});
var Bvc=class{constructor(a){this.displayNamePipe=a}transform(a){return _.Jy('{NUM_RESOURCES, plural, =0 {No resources selected}=1 {Grant access to "{RESOURCE_NAME}"}other {Grant access to {NUM_RESOURCES} resources}}',{NUM_RESOURCES:a.length,RESOURCE_NAME:this.displayNamePipe.transform(a[0])})}};Bvc.\u0275fac=function(a){return new (a||Bvc)(_.A(rH,16))};Bvc.\u0275pipe=_.hd({name:"title",type:Bvc,pure:!0});
var Cvc=function(a){return{rowID:a.getResourceId(),resource:a}},Dvc=class{constructor(a){this.clientTableFactory=a}transform(a){return this.clientTableFactory.createTableManager(a.map(Cvc))}};Dvc.\u0275fac=function(a){return new (a||Dvc)(_.A(_.DA,16))};Dvc.\u0275pipe=_.hd({name:"resourcesTableManager",type:Dvc,pure:!0});
Evc=function(a){a.analyticsService.sendEvent({type:"iamCommon",name:"addPublicMembersConfirmationOpened"});return a.confirmDialogService.confirmation({header:"Are you sure you want to make this resource public?",body:a.confirmAddPublicMembersDialogBody,confirmButtonText:"Allow Public Access"}).pipe(_.tf(({confirmed:b})=>{a.analyticsService.sendEvent({type:"iamCommon",name:b?"addPublicMembersConfirmed":"addPublicMembersCanceled"})}))};
Gvc=function(a){if(a.addForm.valid){a.analyticsService.sendEvent({type:"iamCommon",name:"addMembers"});var b=a.addForm.get("members").value,c=Fvc(a),d=_.mv(()=>!!b.find(e=>Avc.includes(e)),Evc(a).pipe(_.oe(({confirmed:e})=>e),_.af()),_.w(void 0)).pipe(_.qf(()=>_.Erc(a.iamUIService,a.resources,b,c,{propagateEtagMismatchFlow:!0})),_.mf());a.disableClosingSubtask=!0;d.subscribe(()=>{const e=c.map(({role:l})=>l),f=e.map(l=>l.name),g=_.Qbc(a.resources);a.analyticsService.sendEvent({type:"iamCommon",name:"addMembersSuccess",
metadata:{resourceType:g?String(g):"MultipleTypes",roles:_.jtc(e).join(",")}});a.subtaskRef.accept({update:d.pipe(_.af()),addedRoles:f})},()=>{a.disableClosingSubtask=!1})}};Fvc=function(a){return a.formRolesArray.value.filter(({role:b})=>!!b).map(({role:b,condition:c})=>({role:b,condition:c||void 0}))};
_.Hvc=class{accept(){}constructor(a,b,c,d,e,f,g,l,p){this.analyticsService=a;this.iamUIService=b;this.confirmDialogService=c;this.subtaskRef=d;this.dl={CONSOLE__IAM_DOCS_CONDITIONS_OVERVIEW:_.Tcc,CONSOLE__IAM_DOCS_OVERVIEW_CONCEPTS_RELATED_IDENTITY:_.juc,CONSOLE__IAM_HELP_MEMBERS_ALLAUTHENTICATEDUSERS:kuc,CONSOLE__IAM_HELP_ROLES_REFERENCE:_.luc};this.resources=[];this.preselectedRoles=[];this.ve={IamAddMembersSubtask:62823,IamAddMemberSave:62822,IamAddMemberCancel:62818};this.disableClosingSubtask=
!1;this.resourcesTableColumnsConfig=[{id:"resource",accessor:({resource:r})=>r.getDisplayName()}];this.hasRolePickerBeenOpened=!1;this.addForm=f.group({members:[[],Ptc],roles:f.array([])});this.resources=l.resources;l.roles&&(this.preselectedRoles=l.roles);this.editConditionsEnabled=_.Iuc(l.resources);this.conditionsDisabledTooltip=l.conditionsDisabledTooltip;this.roles=e.queryGrantableRoles(l.resources);d.afterClosed.subscribe(()=>{this.hasRolePickerBeenOpened&&p.triggerSurveyIfTargeted()})}get formRolesArray(){return this.addForm.get("roles")}save(){"PENDING"===
this.addForm.status?this.addForm.statusChanges.pipe(_.Se(1)).subscribe(()=>{Gvc(this)}):Gvc(this)}};_.Hvc.\u0275fac=function(a){return new (a||_.Hvc)(_.A(_.gn),_.A(_.TG),_.A(_.iD),_.A(_.JD),_.A(_.eF),_.A(_.Gu),_.A(_.Juc),_.A(_.KD,8),_.A(_.$uc))};
_.Hvc.\u0275cmp=_.m({type:_.Hvc,selectors:[["ng-component"]],viewQuery:function(a,b){a&1&&(_.Xf(yvc,5),_.Xf(zvc,5));if(a&2){let c;_.Zf(c=_.$f())&&(b.confirmAddPublicMembersDialogBody=c.first);_.Zf(c=_.$f())&&(b.messageTextarea=c.first)}},decls:33,vars:27,consts:()=>{let a;a=" "+_.ft("{VAR_PLURAL, plural, =1 {Grant principals access to this resource\n        and add roles to specify what actions the principals can take. Optionally, add conditions to\n        grant access to principals only when a specific criteria is met.\n      } other {Grant principals access to\n        {NUMBER_OF_RESOURCES} resources\n        and add roles to specify what actions the principals can take. Optionally, add conditions to\n        grant access to principals only when a specific criteria is met.\n      }}",
{NUMBER_OF_RESOURCES:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"})+" \ufffd#5\ufffdLearn more about IAM conditions\ufffd/#5\ufffd";let b;b=" "+_.ft("{VAR_PLURAL, plural, =1 {Resource} other {Resources}}",{VAR_PLURAL:"\ufffd0\ufffd"})+" ";let c;c=" Roles are composed of sets of permissions and determine what the principal can do with "+_.ft("{VAR_PLURAL, plural, =1 {this resource} other {these resources}}",{VAR_PLURAL:"\ufffd0\ufffd"})+". \ufffd#24\ufffd Learn more \ufffd/#24\ufffd";let d;d=_.ft(" Adding [\ufffd#3\ufffd|\ufffd#4\ufffd]allUsers[\ufffd/#3\ufffd|\ufffd/#4\ufffd] or [\ufffd#3\ufffd|\ufffd#4\ufffd]allAuthenticatedUsers[\ufffd/#3\ufffd|\ufffd/#4\ufffd] to this resource will make it publicly accessible to anyone on the internet. If this resource contains data that should not be made public to everyone, cancel this action to prevent public access. ");
return[["multipleResources",""],["ConfirmAddPublicMembers",""],a,b," Add principals "," Principals are users, groups, domains, or service accounts. \ufffd#18\ufffd Learn more about principals in IAM \ufffd/#18\ufffd"," Assign roles ",c," Save "," Cancel ",d," Learn more ",["id","action-bar-add-members",3,"cfcTitle"],[3,"ve","veImpression"],["id","add-members-subtask-main-paragraph"],[3,"cfcDocLink"],["id","add-members-subtask-resources-header",1,"cfc-text-title-4"],["id","add-members-subtask-resources"],
[4,"ngIf","ngIfElse"],["id","addRoleForm",3,"ngSubmit","formGroup"],[1,"cfc-text-title-2"],["formControlName","members",3,"resources"],["aria-label","Learn more about IAM roles, opens in new window","cfcTrackedLink","","track-type","iamAddMembers","track-name","rolesLearnMore",3,"cfcDocLink"],["rolesFormArrayName","roles",3,"onOpen","resources","editConditionsEnabled","conditionsDisabledTooltip","preselectedRoles"],[3,"ve"],["cfcFormSubmit","addRoleForm","type","submit","color","primary","mat-raised-button",
"",3,"ve","veClick","cmNativeDisabled"],["type","button","mat-raised-button","",3,"click","ve","veClick","cmNativeDisabled"],[3,"resourceType"],["externalTableCaptionId","add-members-subtask-resources-header",1,"resource-table",3,"tableManager","columnsConfig","showFilter","pagination","tableRendererV2"],"id resource header Resource type string".split(" "),[4,"cfcTableTemplate"],[1,"cfc-pre-wrap"],["aria-label","Learn more about granting public access, opens in new window","target","_blank",3,"cfcDocLink"]]},
template:function(a,b){if(a&1){const c=_.n();_.J(0,"cfc-action-bar",12);_.S(1,"title");_.G(2,"cfc-panel-body",13)(3,"p",14);_.Of(4,2);_.J(5,"a",15);_.Pf();_.I();_.G(6,"h2",16);_.N(7,3);_.I();_.G(8,"p",17);_.E(9,duc,4,4,"ng-container",18)(10,fuc,4,8,"ng-template",null,0,_.ig);_.I();_.G(12,"form",19);_.O("ngSubmit",function(){_.q(c);return _.u(b.save())});_.J(13,"cfc-form-submission-error");_.G(14,"h2",20);_.N(15,4);_.I();_.G(16,"p");_.Of(17,5);_.J(18,"a",15);_.Pf();_.I();_.J(19,"cfc-iam-member-bar",
21);_.G(20,"h2",20);_.N(21,6);_.I();_.G(22,"p");_.Of(23,7);_.J(24,"a",22);_.Pf();_.I();_.G(25,"cfc-iam-roles-selector-list",23);_.O("onOpen",function(){_.q(c);return _.u(b.hasRolePickerBeenOpened=!0)});_.I()()();_.G(26,"cfc-panel-footer",24)(27,"button",25);_.N(28,8);_.I();_.G(29,"button",26);_.O("click",function(){_.q(c);return _.u(b.subtaskRef.cancel())});_.N(30,9);_.I()();_.E(31,guc,7,1,"ng-template",null,1,_.ig)}a&2&&(a=_.ag(11),_.F("cfcTitle",_.U(1,25,b.resources)),_.z(2),_.F("ve",b.ve.IamAddMembersSubtask)("veImpression",
!0),_.z(3),_.F("cfcDocLink",b.dl.CONSOLE__IAM_DOCS_CONDITIONS_OVERVIEW),_.Qf(b.resources.length)(b.resources.length),_.Rf(4),_.z(2),_.Qf(b.resources.length),_.Rf(7),_.z(2),_.F("ngIf",1===b.resources.length)("ngIfElse",a),_.z(3),_.F("formGroup",b.addForm),_.z(6),_.F("cfcDocLink",b.dl.CONSOLE__IAM_DOCS_OVERVIEW_CONCEPTS_RELATED_IDENTITY),_.z(),_.F("resources",b.resources),_.z(5),_.F("cfcDocLink",b.dl.CONSOLE__IAM_HELP_ROLES_REFERENCE),_.Qf(b.resources.length),_.Rf(23),_.z(),_.F("resources",b.resources)("editConditionsEnabled",
b.editConditionsEnabled)("conditionsDisabledTooltip",b.conditionsDisabledTooltip)("preselectedRoles",b.preselectedRoles),_.z(),_.F("ve",b.ve.IamAddMembersSubtask),_.z(),_.F("ve",b.ve.IamAddMemberSave)("veClick",!0)("cmNativeDisabled",b.disableClosingSubtask),_.z(2),_.F("ve",b.ve.IamAddMemberCancel)("veClick",!0)("cmNativeDisabled",b.disableClosingSubtask))},dependencies:[_.Yo,_.GD,_.ZC,_.dt,_.at,_.Qu,_.Lp,_.Pu,_.Bl,_.vt,_.cH,_.eH,_.$G,xvc,_.Ly,_.ly,_.Ky,_.ru,_.uu,_.gA,_.hF,_.NB,_.sB,_.tB,_.PB,rH,
Dvc,Bvc],styles:[".resource-table[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto}"]});var Ivc=class{};Ivc.\u0275fac=function(a){return new (a||Ivc)};Ivc.\u0275mod=_.ed({type:Ivc});Ivc.\u0275inj=_.Qc({imports:[_.et,_.fH,_.qD,_.tz,_.ry,_.yy,_.Hl,_.QD,_.dA,_.dp,_.WE,_.dv,_.Iu,kvc,_.ww]});var Jvc;Jvc=[_.aD,_.et,_.Uu,_.Hl,_.iA,_.wE,_.dH,_.gH,_.aH,Ivc,_.yD,_.Iu,_.hA,_.iF,_.SB];_.sH=class{};_.sH.\u0275fac=function(a){return new (a||_.sH)};_.sH.\u0275mod=_.ed({type:_.sH,id:"pm_iam_add_members_subtask"});_.sH.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{SubtaskService:_.LD,AddMembers:_.Hvc}}],imports:[_.rF,Jvc]});_.xf(_.sH,"pm_iam_add_members_subtask");
}catch(e){_._DumpException(e)}
try{
var Qvc,Rvc,Svc,Tvc,Vvc,Wvc;
_.Pvc=function(a,b,c){var d=_.xv(b,c),e=d.removes;d=d.adds.filter(H=>H.member===a).filter(H=>!_.jbc.includes(H.role));e=e.filter(H=>H.member===a).filter(H=>!_.jbc.includes(H.role));var f,g;const l=null!=(g=null==(f=b.bindings)?void 0:f.filter(H=>{let T;return null==(T=H.members)?void 0:T.includes(a)}).filter(H=>!_.jbc.includes(H.role)))?g:[];var p,r;const t=null!=(r=null==(p=c.bindings)?void 0:p.filter(H=>{let T;return null==(T=H.members)?void 0:T.includes(a)}).filter(H=>!_.jbc.includes(H.role)))?
r:[],v=new Set(d.map(H=>H.role).filter(H=>!l.find(T=>T.role===H))),x=new Set(e.map(H=>H.role).filter(H=>!t.find(T=>T.role===H)));var C,D;b=null!=(D=null==(C=b.bindings)?void 0:C.filter(H=>{let T,da;return null!=(da=null==(T=H.members)?void 0:T.includes(a))?da:!1}).map(H=>H.role).filter(_.Yw))?D:[];C=new Set(b.filter(H=>!_.jbc.includes(H)&&!v.has(H)&&!x.has(H)));d=[...d.filter(H=>_.Yw(H.condition)).filter(H=>!v.has(H.role)).map(H=>({roleName:H.role,newCondition:H.condition})),...e.filter(H=>_.Yw(H.condition)).filter(H=>
!x.has(H.role)).map(H=>({roleName:H.role,oldCondition:H.condition}))];D=new Set(d);b=Array(d.length);for(c=0;c<d.length;++c)if(!b[c]){e=d[c];f=e.roleName;g=[];for(p=c+1;p<d.length;++p)b[p]||(r=d[p],f===r.roleName&&g.push([r,p]));if(1===g.length){const [H,T]=g[0];g=H;p=T;let da;r=null!=(da=e.oldCondition)?da:g.oldCondition;let Z;const X=null!=(Z=e.newCondition)?Z:g.newCondition;r&&X&&(b[c]=!0,b[p]=!0,D.delete(e),D.delete(g),D.add({roleName:f,oldCondition:r,newCondition:X}))}}return{addedRoleNames:v,
removedRoleNames:x,unaffectedRoleNames:C,changedConditions:D}};Qvc=function(a){return new Map([...a].map(([b,c])=>[b,_.xv(c.baseline,c.simulated)]))};Rvc=function(a){a&1&&_.Lf(0)};
Svc=function(a){if(a&1){const b=_.n();_.G(0,"button",7);_.S(1,"async");_.O("cfcIamCheckResult",function(c){_.q(b);const d=_.P();return _.u(d.handleIamCheckResult(c))});_.E(2,Rvc,1,0,"ng-container",8);_.I()}if(a&2){a=_.P();const b=_.ag(6);_.Ef("margin-right",0,"px");_.F("cfcIamCheck",a.REQUIRED_SIMULATOR_PERMISSIONS)("cfcIamDisableDuringPermissionFetch",!0)("cfcIamOperator",a.iamCheckAndOperator)("cfcIamResource",_.U(1,7,a.purviewResource$));_.z(2);_.F("ngTemplateOutlet",b)}};
Tvc=function(a){a&1&&_.Lf(0)};Vvc=function(a){if(a&1){const b=_.n();_.G(0,"button",9);_.S(1,"purviewResourceDisableTooltip");_.O("click",function(){_.q(b);const c=_.P();return _.u(Uvc(c))});_.E(2,Tvc,1,0,"ng-container",8);_.I()}if(a&2){a=_.P();const b=_.ag(6);_.Ef("margin-right",0,"px");_.F("cfcDisable",a.isDisabled())("cfcDisableTooltip",_.U(1,8,a.purviewResourceExists))("ve",a.ve.IamEditPermissionsSimulateButton)("veClick",!0)("veImpression",!0);_.z(2);_.F("ngTemplateOutlet",b)}};
Wvc=function(a){a&1&&(_.K(0),_.N(1,1),_.L())};var Xvc=class{constructor(a){this.resourceService=a}};Xvc.\u0275fac=function(a){return new (a||Xvc)(_.k(_.Ov))};Xvc.\u0275prov=_.h({token:Xvc,factory:Xvc.\u0275fac,providedIn:"root"});var tH=new _.jd("API_VERSION"),uH=new _.jd("REQUEST_SERVICE"),vH={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",callback:"callback",fields:"fields",filter:"filter",key:"key",oauth_token:"oauth_token",orgPolicyViolationsPreviewId:"orgPolicyViolationsPreviewId",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",quotaUser:"quotaUser",uploadType:"uploadType",upload_protocol:"upload_protocol"},Yvc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=
new _.nr(b,c)}create(a,b,c={},d={}){_.lr(a,RegExp("^folders/[^/]+/locations/[^/]+$"));return _.mr(this.$apiClient,{body:b,httpMethod:"POST",methodId:"policysimulator.folders.locations.replays.create",path:`/${this.gapiVersion}/${a}/replays`,queryParams:_.ki(c,vH,d)})}get(a,b={},c={}){_.lr(a,RegExp("^folders/[^/]+/locations/[^/]+/replays/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.folders.locations.replays.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,
vH,c)})}};Yvc.\u0275fac=function(a){return new (a||Yvc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};Yvc.\u0275prov=_.h({token:Yvc,factory:Yvc.\u0275fac});
var Zvc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}get(a,b={},c={}){_.lr(a,RegExp("^folders/[^/]+/locations/[^/]+/replays/[^/]+/operations/.*$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.folders.locations.replays.operations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}list(a,b={},c={}){_.lr(a,RegExp("^folders/[^/]+/locations/[^/]+/replays/[^/]+/operations$"));return _.mr(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"policysimulator.folders.locations.replays.operations.list",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}};Zvc.\u0275fac=function(a){return new (a||Zvc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};Zvc.\u0275prov=_.h({token:Zvc,factory:Zvc.\u0275fac});
var $vc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}list(a,b={},c={}){_.lr(a,RegExp("^folders/[^/]+/locations/[^/]+/replays/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.folders.locations.replays.results.list",path:`/${this.gapiVersion}/${a}/results`,queryParams:_.ki(b,vH,c)})}};$vc.\u0275fac=function(a){return new (a||$vc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};$vc.\u0275prov=_.h({token:$vc,factory:$vc.\u0275fac});
var awc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}get(a,b={},c={}){_.lr(a,RegExp("^operations/.*$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.operations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}list(a,b={},c={}){_.lr(a,RegExp("^operations$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.operations.list",path:`/${this.gapiVersion}/${a}`,
queryParams:_.ki(b,vH,c)})}};awc.\u0275fac=function(a){return new (a||awc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};awc.\u0275prov=_.h({token:awc,factory:awc.\u0275fac});
var bwc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}create(a,b,c={},d={}){_.lr(a,RegExp("^organizations/[^/]+/locations/[^/]+$"));return _.mr(this.$apiClient,{body:b,httpMethod:"POST",methodId:"policysimulator.organizations.locations.replays.create",path:`/${this.gapiVersion}/${a}/replays`,queryParams:_.ki(c,vH,d)})}get(a,b={},c={}){_.lr(a,RegExp("^organizations/[^/]+/locations/[^/]+/replays/[^/]+$"));return _.mr(this.$apiClient,{body:null,
httpMethod:"GET",methodId:"policysimulator.organizations.locations.replays.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}};bwc.\u0275fac=function(a){return new (a||bwc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};bwc.\u0275prov=_.h({token:bwc,factory:bwc.\u0275fac});
var cwc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}get(a,b={},c={}){_.lr(a,RegExp("^organizations/[^/]+/locations/[^/]+/replays/[^/]+/operations/.*$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.organizations.locations.replays.operations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}list(a,b={},c={}){_.lr(a,RegExp("^organizations/[^/]+/locations/[^/]+/replays/[^/]+/operations$"));
return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.organizations.locations.replays.operations.list",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}};cwc.\u0275fac=function(a){return new (a||cwc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};cwc.\u0275prov=_.h({token:cwc,factory:cwc.\u0275fac});
var dwc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}list(a,b={},c={}){_.lr(a,RegExp("^organizations/[^/]+/locations/[^/]+/replays/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.organizations.locations.replays.results.list",path:`/${this.gapiVersion}/${a}/results`,queryParams:_.ki(b,vH,c)})}};dwc.\u0275fac=function(a){return new (a||dwc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};
dwc.\u0275prov=_.h({token:dwc,factory:dwc.\u0275fac});
var ewc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}create(a,b,c={},d={}){_.lr(a,RegExp("^projects/[^/]+/locations/[^/]+$"));return _.mr(this.$apiClient,{body:b,httpMethod:"POST",methodId:"policysimulator.projects.locations.replays.create",path:`/${this.gapiVersion}/${a}/replays`,queryParams:_.ki(c,vH,d)})}get(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/locations/[^/]+/replays/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",
methodId:"policysimulator.projects.locations.replays.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}};ewc.\u0275fac=function(a){return new (a||ewc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};ewc.\u0275prov=_.h({token:ewc,factory:ewc.\u0275fac});
var fwc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}get(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/locations/[^/]+/replays/[^/]+/operations/.*$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.projects.locations.replays.operations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}list(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/locations/[^/]+/replays/[^/]+/operations$"));return _.mr(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"policysimulator.projects.locations.replays.operations.list",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,vH,c)})}};fwc.\u0275fac=function(a){return new (a||fwc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};fwc.\u0275prov=_.h({token:fwc,factory:fwc.\u0275fac});
var gwc=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}list(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/locations/[^/]+/replays/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"policysimulator.projects.locations.replays.results.list",path:`/${this.gapiVersion}/${a}/results`,queryParams:_.ki(b,vH,c)})}};gwc.\u0275fac=function(a){return new (a||gwc)(_.k(tH,8),_.k(uH),_.k(_.Mq,8))};gwc.\u0275prov=_.h({token:gwc,factory:gwc.\u0275fac});var hwc=function(a,b,c){a:{var d=b.getResourceId();switch(b.getResourceType()){case 2:d=`organizations/${d}`;break a;case 43:d=`folders/${d}`;break a;case 0:d=`projects/${d}`;break a;default:b.getResourceType()}d=void 0}d=`${d}/locations/global`;switch(b.getResourceType()){case 2:return a.organizationReplaysClient.create(d,c);case 43:return a.folderReplaysClient.create(d,c);case 0:return a.projectReplaysClient.create(d,c)}},iwc=class{constructor(a){a=a.create({host:_.Bc("pantheon_policysimulatorApiUrl"),
shouldStrictEncodeParams:!0,version:"v1"});this.organizationReplaysClient=a.init(bwc);this.folderReplaysClient=a.init(Yvc);this.projectReplaysClient=a.init(ewc);a.init(awc);a.init(cwc);a.init(Zvc);a.init(fwc);a.init(dwc);a.init($vc);a.init(gwc)}};iwc.\u0275fac=function(a){return new (a||iwc)(_.k(_.Nq))};iwc.\u0275prov=_.h({token:iwc,factory:iwc.\u0275fac,providedIn:"root"});var jwc=function(a,b){a.resourceTypesForAnalytics=[...(new Set(b.map(c=>c.getResourceType())))].sort().join(",");_.Og().startGenericStopwatch();a.analyticsService.sendEvent({type:"simulationResults",name:"simulationButtonClicked",metadata:{resourceTypes:a.resourceTypesForAnalytics}})},kwc=class{constructor(a){this.analyticsService=a;this.replayIdForAnalytics=this.resourceTypesForAnalytics=""}};kwc.\u0275fac=function(a){return new (a||kwc)(_.k(_.gn))};
kwc.\u0275prov=_.h({token:kwc,factory:kwc.\u0275fac,providedIn:"root"});var lwc=["cloudasset.assets.searchAllResources","policysimulator.replayResults.list","policysimulator.replays.create","policysimulator.replays.run"],pwc=function(a,b,c){const d=new Map([...c].map(([f,g])=>[f,g.baseline])),e=[...c.keys()];return mwc(a,e).pipe(_.qf(f=>{a:{for(const [l,p]of f){var g=p;if(d.get(l).etag!==g.etag){g=!0;break a}}g=!1}return g?nwc(a,b,c,f):owc(a,b,c)}))},qwc=function(a,b,c){return c.pipe(_.Se(1),_.qf(d=>{const e=[...d.keys()];jwc(a.simulatorAnalyticsService,e);return pwc(a,
b,d)}),_.mf({bufferSize:1,refCount:!0}))},mwc=function(a,b){return _.qsc(a.policyService,b,!0).pipe(_.Se(1),_.y(c=>{const d=new Map;for(const e of b){const f=c.get(e.getResourceId());d.set(e,f)}return d}))},nwc=function(a,b,c,d){return a.dialogService.open({moduleId:"pm_iam_policy_simulator_etag_mismatch",className:"SimulatorEtagMismatch"},{data:{resourceToPolicyPairs:c,upToDateBaselinePolicyMap:d}}).pipe(_.qf(e=>e.afterClosed()),_.qf(e=>{if(e){e=Qvc(c);const g=new Map;for(const [l,p]of d){const r=
l,t=p;var f=e.get(r);[f]=_.yv(f,t);g.set(r,{baseline:t,simulated:f})}return pwc(a,b,g)}return _.w(void 0)}),_.Se(1))},owc=function(a,b,c){const d={};for(const [e,f]of c){const g=f,l=e.getFullResourcePath();d[l]=g.simulated}return hwc(a.iamSimulatorApiClient,b,{config:{policyOverlay:d}}).pipe(_.y(e=>{const f={policyChanges:c};return{purviewId:b.getResourceId(),purviewType:b.getResourceType(),input:f,operation:e}}))},rwc=class{constructor(a,b,c,d,e,f,g,l){this.cacheService=a;this.dialogService=b;this.iamSimulatorApiClient=
c;this.policyService=d;this.polling=e;this.resourceService=f;this.router=g;this.simulatorAnalyticsService=l;this.simulationStartedResponseCache=this.cacheService.create("iamPolicySimulatorServiceSimulationStartedResponseCacheId","Global cache for the IAM Simulator simulation started response");this.previousPageUrlCache=this.cacheService.create("iamPolicySimulatorServicePreviousPageUrlCacheId","Global cache for the IAM Simulator previous page url")}};
rwc.\u0275fac=function(a){return new (a||rwc)(_.k(_.nm),_.k(_.Wu),_.k(iwc),_.k(_.VG),_.k(_.Aq),_.k(Xvc),_.k(_.jm),_.k(kwc))};rwc.\u0275prov=_.h({token:rwc,factory:rwc.\u0275fac});var swc=class{};swc.\u0275fac=function(a){return new (a||swc)};swc.\u0275mod=_.ed({type:swc});swc.\u0275inj=_.Qc({providers:[rwc],imports:[_.WG]});var twc={matcherFn:a=>503===a.errorCode,errorMessage:"IAM Policy Simulator was temporarily unavailable, please try again.",errorExperience:4,presentationFormat:2},uwc={errorMessage:"Failed to start the simulation.",errorExperience:5,presentationFormat:1},vwc=class{transform(a){return a?"You must make a change to the policy to run a simulation.":"An organization, folder, or project must be selected to run a simulation."}},Uvc,wwc;vwc.\u0275fac=function(a){return new (a||vwc)};
vwc.\u0275pipe=_.hd({name:"purviewResourceDisableTooltip",type:vwc,pure:!0});
Uvc=function(a){if(a.didPolicyChange&&!a.startingSimulation){a.startingSimulation=!0;a.cdr.markForCheck();var b=a.policyPair$.pipe(_.Se(1),_.y(c=>new Map([[a.resource,c]])));a.purviewResource$.pipe(_.Se(1),_.B(a.destroyed$)).subscribe(c=>{qwc(a.simulatorService,c,b).pipe(_.Se(1),_.Ue(()=>{a.startingSimulation=!1;a.cdr.markForCheck()}),_.B(a.destroyed$)).subscribe(d=>{if(void 0!==d){var e=a.simulatorService;e.simulationStartedResponseCache.set("value",d);const l=e.router.url;var f=e.router.parseUrl(l);
const p=Object.assign({},f.queryParams);f.queryParams={};f=_.gm(e.router,f);e.previousPageUrlCache.set("value",{rawUrl:l,rootUrl:f,queryParams:p});var g;if(d=null==(g=d.operation.name)?void 0:g.replace(/^(.+\/)?operations\//,""))g=e.simulatorAnalyticsService,g.replayIdForAnalytics=d,g.analyticsService.sendEvent({type:"simulationResults",name:"simulationPollingStarted",insightId:g.replayIdForAnalytics,metadata:{resourceTypes:g.resourceTypesForAnalytics}});g=e.router.parseUrl("iam-admin/simulator/simulation/results");
e.router.navigateByUrl(g,{replaceUrl:!1})}},d=>{a.errorService.handleError(d,uwc,[twc])})})}};wwc=function(a){return 0===a.iamCheckState?0:2===a.iamCheckState?1:a.purviewResourceExists?a.didPolicyChange?4:2:3};
_.xwc=class{constructor(a,b,c,d,e){this.cdr=a;this.errorService=b;this.policyService=c;this.purviewService=d;this.simulatorService=e;this.destroyed$=new _.kf;this.purviewResource$=this.purviewService.latestPurviewObservable.pipe(_.tf(f=>{this.purviewResourceExists=!!f.reference}),_.y(f=>f.reference));this.iamCheckState=0;this.startingSimulation=this.purviewResourceExists=this.didPolicyChange=!1;this.REQUIRED_SIMULATOR_PERMISSIONS=lwc;this.iamCheckAndOperator=1;this.ve={IamEditPermissionsSimulateButton:158302}}ngOnInit(){const a=
_.qsc(this.policyService,[this.resource]).pipe(_.Se(1),_.y(b=>b.get(this.resource.getResourceId())));this.policyPair$=_.$d([a,this.policyBuilder$]).pipe(_.y(([b,c])=>{[c]=_.yv(c,b);return{baseline:b,simulated:c}}));this.policyPair$.pipe(_.y(b=>{b=_.Pvc(this.multiRoleMember.iamMember,b.baseline,b.simulated);const c=b.removedRoleNames,d=b.changedConditions;return 0<b.addedRoleNames.size||0<c.size||0<d.size}),_.B(this.destroyed$)).subscribe(b=>{this.didPolicyChange=b;this.cdr.markForCheck()})}ngOnDestroy(){this.destroyed$.next();
this.destroyed$.complete()}handleIamCheckResult(a){this.iamCheckState=a.hasPermission?1:2}isDisabled(){return 4!==wwc(this)}};_.xwc.\u0275fac=function(a){return new (a||_.xwc)(_.A(_.rl),_.A(_.lv),_.A(_.VG),_.A(_.Uv),_.A(rwc))};
_.xwc.\u0275cmp=_.m({type:_.xwc,selectors:[["iam-simulate-button"]],inputs:{resource:"resource",multiRoleMember:"multiRoleMember",policyBuilder$:"policyBuilder$"},decls:7,vars:3,consts:()=>[["buttonLabel",""]," Test changes ",[3,"inProgress"],["cfcDisable","","cfcIamNoPermissionTooltip","You don't have permission to run IAM Policy Simulator","mat-raised-button","","class","iam-simulator-simulate-button",3,"cfcIamCheck","cfcIamDisableDuringPermissionFetch","cfcIamOperator","cfcIamResource","marginRight",
"cfcIamCheckResult",4,"ngIf"],["mat-raised-button","","class","iam-simulator-simulate-button",3,"cfcDisable","cfcDisableTooltip","ve","veClick","veImpression","marginRight","click",4,"ngIf"],["mat-icon-button","","cfcTooltip","See how any change you make might affect access to the resource, and replay logs\n                    to see how the changes would have affected the principal's access over the past\n                    90 days.","cfcTooltipPosition","right","type","button",1,"iam-simulator-simulate-info-button"],
["icon","info","size","small"],["cfcDisable","","cfcIamNoPermissionTooltip","You don't have permission to run IAM Policy Simulator","mat-raised-button","",1,"iam-simulator-simulate-button",3,"cfcIamCheckResult","cfcIamCheck","cfcIamDisableDuringPermissionFetch","cfcIamOperator","cfcIamResource"],[4,"ngTemplateOutlet"],["mat-raised-button","",1,"iam-simulator-simulate-button",3,"click","cfcDisable","cfcDisableTooltip","ve","veClick","veImpression"]],template:function(a,b){a&1&&(_.G(0,"cfc-progress-button",
2),_.E(1,Svc,3,9,"button",3)(2,Vvc,3,10,"button",4),_.I(),_.G(3,"button",5),_.J(4,"cfc-icon",6),_.I(),_.E(5,Wvc,2,0,"ng-template",null,0,_.ig));a&2&&(_.F("inProgress",b.startingSimulation),_.z(),_.F("ngIf",0===wwc(b)||1===wwc(b)),_.z(),_.F("ngIf",!(0===wwc(b)||1===wwc(b))))},dependencies:[_.dt,_.at,_.Bl,_.Fl,_.Gz,_.FC,_.Uo,_.Qu,_.Lp,_.$t,_.Pu,_.Dx,_.uw,_.Gl,vwc],encapsulation:2,changeDetection:0});_.wH=class{};_.wH.\u0275fac=function(a){return new (a||_.wH)};_.wH.\u0275mod=_.ed({type:_.wH,id:"pm_iam_policy_simulator_simulate_button"});
_.wH.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{SimulateButton:_.xwc}}],imports:[_.et,_.Hl,_.Pz,_.iA,_.dA,_.GC,swc,_.dp,_.Uu,_.WG,_.Rz,_.ww]});_.xf(_.wH,"pm_iam_policy_simulator_simulate_button");
}catch(e){_._DumpException(e)}
try{
var jxc,lxc,mxc,nxc,oxc,pxc,qxc,rxc,sxc,txc,uxc,vxc,wxc,xxc,yxc,zxc,Axc,Bxc,Cxc,Dxc,Exc,Fxc,Gxc,Hxc,Ixc,Kxc,Mxc,Nxc,Oxc,Qxc,Rxc,Sxc,Txc;_.hxc=function(a){return 0===a?"Project":43===a?"Folder":2===a?"Organization":"Resource"};
jxc=function(a){if(a&1){const b=_.n();_.G(0,"div");_.J(1,"cm-icon",4);_.G(2,"strong");_.Q(3," \u00a0Warning ");_.I();_.J(4,"br")(5,"br");_.Q(6," Removing this role is likely to cause interruptions, because it was used in the past 90 days. We recommend you don't remove it. ");_.J(7,"br")(8,"br");_.G(9,"a",6);_.S(10,"detailAssessmentLink");_.N(11,1);_.I();_.G(12,"div",7)(13,"button",8);_.O("click",function(){_.q(b);const c=_.P(3);return _.u(ixc(c,c.removedRoleLabel))});_.Q(14," Keep Role ");_.I()()()}a&
2&&(a=_.P(3),_.z(),_.F("icon",a.icons.statusErrorIcon),_.z(8),_.F("cfcRouterLink",_.U(10,2,a.detailedAssistObjects)))};
lxc=function(a){if(a&1){const b=_.n();_.G(0,"div");_.J(1,"cm-icon",4);_.G(2,"strong");_.Q(3," \u00a0Warning ");_.I();_.J(4,"br")(5,"br");_.Q(6," Removing this role is likely to cause interruptions, because some of its permissions were used in the last 90 days. We recommend replacing the ");_.G(7,"strong");_.Q(8);_.I();_.Q(9," role with ");_.G(10,"strong");_.Q(11);_.I();_.Q(12," to remove unused permissions and preserve used ones. ");_.J(13,"br")(14,"br");_.G(15,"a",6);_.S(16,"detailAssessmentLink");
_.N(17,2);_.I();_.G(18,"div",7)(19,"button",8);_.O("click",function(){_.q(b);const c=_.P(3);return _.u(kxc(c,c.removedRoleLabel))});_.Q(20," Replace Role ");_.I();_.G(21,"button",9);_.O("click",function(){_.q(b);const c=_.P(3);return _.u(ixc(c,c.removedRoleLabel))});_.Q(22," Keep Role ");_.I()()()}a&2&&(a=_.P(3),_.z(),_.F("icon",a.icons.statusErrorIcon),_.z(7),_.R(" ",a.removedRoleLabel," "),_.z(3),_.R(" ",a.joinedMinimalRoles," "),_.z(4),_.F("cfcRouterLink",_.U(16,4,a.detailedAssistObjects)))};
mxc=function(a){a&1&&(_.G(0,"div"),_.E(1,jxc,15,4,"div",5)(2,lxc,23,6,"div",5),_.I());a&2&&(a=_.P(2),_.z(),_.F("ngIf",0===a.minimalRoles.length),_.z(),_.F("ngIf",0!==a.minimalRoles.length))};nxc=function(a){a&1&&_.E(0,mxc,3,2,"div",5);a&2&&(a=_.P(),_.F("ngIf",a.affectedRoleLabels))};oxc=function(a,b){let c;return null!=(c=null==b?void 0:b.title)?c:a};
pxc=function(a){const b=oxc(a.roleName,null==a?void 0:a.role);let c,d,e;const f=null!=(e=null==(c=a.newCondition)?void 0:c.title)?e:null==(d=a.oldCondition)?void 0:d.title;return b+" ("+f+")"};qxc=function(a,b){return[...a].map(c=>oxc(c,null==b?void 0:b.get(c))).sort()};
rxc=function(a){a&1&&(_.K(0),_.G(1,"strong",16),_.Q(2),_.I(),_.J(3,"iam-change-risk-tooltip",17),_.L());if(a&2){a=_.P().$implicit;const b=_.P(4).ngIf,c=_.P();_.z(2);_.R(" ",a," ");_.z();_.F("removedRoleLabel",a)("affectedRoleLabels",b)("detailedAssistObjects",c.detailedAssistObjects)("rolesFormGroup",c.rolesFormGroup)("resource",c.resource)("iamMember",c.iamMember)}};sxc=function(a){a&1&&_.Q(0);a&2&&(a=_.P().$implicit,_.R(" ",a," "))};
txc=function(a,b){a&1&&(_.G(0,"dd",15),_.E(1,rxc,4,7,"ng-container",13),_.S(2,"shouldRenderChangeRiskTooltip"),_.E(3,sxc,1,1,"ng-template",null,1,_.ig),_.I());if(a&2){a=b.$implicit;b=_.ag(4);const c=_.P().ngIf,d=_.P(3).ngIf;_.z();_.F("ngIf",_.iC(2,2,c,a,d.importantRoles))("ngIfElse",b)}};uxc=function(a){a&1&&(_.K(0),_.E(1,txc,5,6,"dd",14),_.L());a&2&&(a=_.P(2).ngIf,_.z(),_.F("ngForOf",a))};
vxc=function(a){a&1&&(_.K(0),_.E(1,uxc,2,1,"ng-container",11),_.S(2,"async"),_.L());a&2&&(a=_.P(3),_.z(),_.F("ngIf",_.U(2,1,a.affectedRoleNames$)))};wxc=function(a,b){a&1&&(_.G(0,"div",12)(1,"dt"),_.N(2,3),_.I(),_.E(3,vxc,3,3,"ng-container",13),_.I());a&2&&(a=b.ngIf,_.P(2),b=_.ag(5),_.z(2),_.Qf(a.length),_.Rf(2),_.z(),_.F("ngIf",0<a.length)("ngIfElse",b))};xxc=function(a,b){a&1&&(_.G(0,"dd",15),_.Q(1),_.I());a&2&&(a=b.$implicit,_.z(),_.R(" ",a," "))};
yxc=function(a){a&1&&(_.K(0),_.E(1,xxc,2,1,"dd",14),_.L());a&2&&(a=_.P().ngIf,_.z(),_.F("ngForOf",a))};zxc=function(a,b){a&1&&(_.G(0,"div",12)(1,"dt"),_.N(2,4),_.I(),_.E(3,yxc,2,1,"ng-container",13),_.I());a&2&&(a=b.ngIf,_.P(2),b=_.ag(5),_.z(2),_.Qf(a.length),_.Rf(2),_.z(),_.F("ngIf",0<a.length)("ngIfElse",b))};Axc=function(a,b){a&1&&(_.G(0,"dd",15),_.Q(1),_.I());a&2&&(a=b.$implicit,_.z(),_.R(" ",a," "))};
Bxc=function(a){a&1&&(_.K(0),_.E(1,Axc,2,1,"dd",14),_.L());a&2&&(a=_.P(2).ngIf,_.z(),_.F("ngForOf",a))};Cxc=function(a){a&1&&(_.G(0,"div",12)(1,"dt"),_.N(2,5),_.I(),_.E(3,Bxc,2,1,"ng-container",13),_.I());if(a&2){a=_.P().ngIf;_.P(2);const b=_.ag(5);_.z(2);_.Qf(a.length);_.Rf(2);_.z();_.F("ngIf",0<a.length)("ngIfElse",b)}};Dxc=function(a,b){a&1&&(_.K(0),_.E(1,Cxc,4,3,"div",10),_.L());a&2&&(a=b.ngIf,_.z(),_.F("ngIf",0<a.length))};
Exc=function(a,b){a&1&&(_.G(0,"dl",9),_.E(1,wxc,4,3,"div",10)(2,zxc,4,3,"div",10)(3,Dxc,2,1,"ng-container",11),_.I());a&2&&(a=b.ngIf,_.F("byline",!0)("hidePinlines",!0),_.z(),_.F("ngIf",a.removedRoleLabels),_.z(),_.F("ngIf",a.addedRoleLabels),_.z(),_.F("ngIf",a.changedConditionLabels))};Fxc=function(a){a&1&&(_.G(0,"dd"),_.N(1,6),_.I())};Gxc=function(a){a&1&&_.J(0,"iam-simulate-button",5);a&2&&(a=_.P(),_.F("resource",a.resource)("multiRoleMember",a.multiRoleMember)("policyBuilder$",a.policyBuilder$))};
Hxc=function(a){a&1&&(_.G(0,"cfc-message",6)(1,"cfc-message-text"),_.Of(2,0),_.J(3,"strong"),_.Pf(),_.I()())};Ixc=function(a){a&1&&_.J(0,"iam-simulate-button",21);a&2&&(a=_.P(),_.F("resource",a.resource)("multiRoleMember",a.multiRoleMember)("policyBuilder$",a.policyBuilder$))};
Kxc=function(a){a&1&&(_.G(0,"cfc-panel",22)(1,"cfc-panel-body"),_.J(2,"iam-edit-member-role-change-summary-panel",23),_.S(3,"async"),_.I()());a&2&&(a=_.P(),_.F("config",_.eg(9,Jxc)),_.z(2),_.F("resource",a.resource)("multiRoleMember",a.multiRoleMember)("detailedAssistObjects",a.detailedAssistObjects)("policyBuilder",_.U(3,7,a.policyBuilder$))("rolesFormGroup",a.addForm)("showSimulateButton",a.showSimulateButton))};
_.Lxc=function(a,b){return a.roleSourceMap?(a=a.roleSourceMap.get(b))?a[0].getResourceId()!==b?a[0]:null:null:null};Mxc=function(a){a&1&&_.J(0,"iam-owner-pending-invite-button")};Nxc=function(a){a&1&&_.J(0,"non-grantable-role-button")};Oxc=function(a,b,c){return _.lbc(a,b).pipe(_.y(d=>d.filter(e=>e.name===c)))};
Qxc=function(a,b){var c=Pxc;b=Object.assign({},{assistTypeId:"google.iam.policy.ChangeRiskInsight"},b);return a.coliseum.query({payload:{listArchetypeRequestParameters:c,parameters:b},entityName:"DETAILED_ASSIST_OBJECT_LIST",payloadTypeName:"google.internal.cloud.console.clientapi.growth.cloudrecommendations.ListDetailedAssistObjectsRequest",cacheConfigOverrides:void 0}).pipe(_.y(d=>d.row?d.row.map(e=>e.payload):[]))};Rxc={moduleId:"pm_iam_add_members_subtask",className:"AddMembers"};
Sxc=function(a,b,c){return a.iamRolesService.queryGrantableRoles([b],{skipVisibilityCheck:!1}).pipe(_.y(d=>{const e=new Map(d.map(p=>[p.name,p]));var f=c.removedRoleNames,g=c.unaffectedRoleNames;d=new Map([...c.addedRoleNames].map(p=>[p,e.get(p)]));f=new Map([...f].map(p=>[p,e.get(p)]));g=new Map([...g].map(p=>[p,e.get(p)]));const l=new Set([...c.changedConditions].map(p=>{const r=p.roleName,t=p.oldCondition;p=p.newCondition;const v=e.get(r);return{roleName:r,role:v,oldCondition:t,newCondition:p}}));
return{addedRoles:d,removedRoles:f,unaffectedRoles:g,changedConditions:l}}))};Txc=class{constructor(a){this.iamRolesService=a}};Txc.\u0275fac=function(a){return new (a||Txc)(_.k(_.XE))};Txc.\u0275prov=_.h({token:Txc,factory:Txc.\u0275fac,providedIn:"root"});var Uxc=new _.Uk("45417710",!0);_.Vxc=class{constructor(a,b,c){this.subtaskService=a;this.deferredSubtaskService=b;this.localInjector=c;this.deferredLoadingEnabled=_.zc(Uxc)}open(a,b={}){a=Object.assign({},{id:"iam-add-member-subtask",width:850,data:a,disableBackdropClick:!0},b);return this.deferredLoadingEnabled?this.deferredSubtaskService.open(Rxc,a,this.localInjector).pipe(_.qf(c=>c.onAccept)):this.subtaskService.open(_.Hvc,a).onAccept.pipe(_.Se(1))}};_.Vxc.\u0275fac=function(a){return new (a||_.Vxc)(_.k(_.LD),_.k(_.CH),_.k(_.we))};
_.Vxc.\u0275prov=_.h({token:_.Vxc,factory:_.Vxc.\u0275fac,providedIn:_.sH});var ixc=function(a,b){const c=a.iamMember;let d,e;b=null!=(e=null==(d=Wxc(a,b))?void 0:d.role)?e:"";Oxc(a.iamRolesService,a.resource.getResourceType(),b).pipe(_.dh(a.destroyRef)).subscribe(f=>{1===f.length&&a.formRolesArray.push(new _.ju({role:new _.nu(f[0]),condition:new _.nu(null),bindingMembers:new _.nu([c])}))})},kxc=function(a,b){for(const c of Xxc(a,b))Oxc(a.iamRolesService,a.resource.getResourceType(),c).subscribe(d=>{1===d.length&&a.formRolesArray.push(new _.ju({role:new _.nu(d[0]),condition:new _.nu(null),
bindingMembers:new _.nu([a.iamMember])}))})},Wxc=function(a,b){let c,d,e,f,g;return null==(c=a.affectedRoleLabels.importantRoles.get(b))?void 0:null==(d=c.overview)?void 0:null==(e=d.changeRiskInsight)?void 0:null==(f=e.risk)?void 0:null==(g=f.usageAtRisk)?void 0:g.iamPolicyUtilization},Xxc=function(a,b){let c,d;return null!=(d=null==(c=Wxc(a,b))?void 0:c.minimalRoles)?d:[]},Yxc=function(a,b){const c=[];for(const d of Xxc(a,b))Oxc(a.iamRolesService,a.resource.getResourceType(),d).subscribe(e=>{if(1===
e.length){var f;c.push(null!=(f=e[0].title)?f:d)}});return c.join(", ")},Zxc=class{set resource(a){this.resource$.next(a)}get resource(){return this.resource$.value}set iamMember(a){this.iamMember$.next(a)}get iamMember(){return this.iamMember$.value}get formRolesArray(){return this.rolesFormGroup.get("roles")}constructor(a,b,c){this.aaMetricsService=a;this.destroyRef=b;this.iamRolesService=c;this.resource$=new _.zg;this.minimalRoles=[];this.joinedMinimalRoles="";this.iamMember$=new _.zg;this.icons=
{statusErrorIcon:_.mh}}ngOnInit(){this.minimalRoles=Xxc(this,this.removedRoleLabel);this.joinedMinimalRoles=Yxc(this,this.removedRoleLabel);let a;var b=this.aaMetricsService;var c=null==(a=this.detailedAssistObjects)?void 0:a[0].id;b.assistObjectViewed("INSIGHT","google.iam.policy.ChangeRiskInsight",c,"product_ui",{})}};Zxc.\u0275fac=function(a){return new (a||Zxc)(_.A(_.AH),_.A(_.ye),_.A(_.XE))};
Zxc.\u0275cmp=_.m({type:Zxc,selectors:[["iam-change-risk-tooltip"]],inputs:{removedRoleLabel:"removedRoleLabel",affectedRoleLabels:"affectedRoleLabels",detailedAssistObjects:"detailedAssistObjects",rolesFormGroup:"rolesFormGroup",resource:"resource",iamMember:"iamMember"},decls:4,vars:5,consts:()=>[["ChangeRiskTooltip",""]," View recommendation details "," View recommendation details ",["mat-icon-button","","cfcTooltipInteractiveDialogAriaLabel","Aria label for change risk tooltip dialog","aria-label",
"Aria label for change risk tooltip dialog",3,"cfcTooltip","cfcTooltipDisabled","cfcTooltipInteractive","cmNativeDisabled"],[3,"icon"],[4,"ngIf"],["target","_blank",3,"cfcRouterLink"],[1,"cfc-button-align-left"],["mat-button","","type","button","color","primary",3,"click"],["mat-button","","type","button","color","neutral",3,"click"]],template:function(a,b){a&1&&(_.G(0,"button",3),_.J(1,"cm-icon",4),_.I(),_.E(2,nxc,1,1,"ng-template",null,0,_.ig));a&2&&(a=_.ag(3),_.F("cfcTooltip",a)("cfcTooltipDisabled",
!1)("cfcTooltipInteractive",!0)("cmNativeDisabled",!1),_.z(),_.F("icon",b.icons.statusErrorIcon))},dependencies:()=>[_.Qu,_.Lp,_.$t,_.Pu,_.Bl,_.Eo,_.cw,_.uw,$xc],encapsulation:2,changeDetection:0});var $xc=class{transform(a){a=_.Nwc(a[0]);const b=_.$wc.create();return b.link().set(b.detailParam,{resourceType:"projects",entityId:a.entityId,location:(0,_.Rwc)(a.name),producerKind:"insightTypes",assistType:a.type,assistNameKind:"insights",assistId:_.yH(_.yH(a.name))}).set(b.source,"webSubtask").build()}};
$xc.\u0275fac=function(a){return new (a||$xc)};$xc.\u0275pipe=_.hd({name:"detailAssessmentLink",type:$xc,pure:!0});var ayc=class{};ayc.\u0275fac=function(a){return new (a||ayc)};ayc.\u0275mod=_.ed({type:ayc});ayc.\u0275inj=_.Qc({imports:[_.Uu,_.Hl,_.dA,_.Eo,_.dw,_.dp,_.ww]});var byc=class{set resource(a){this.resource$.next(a)}get resource(){return this.resource$.value}set iamMember(a){this.iamMember$.next(a)}get iamMember(){return this.iamMember$.value}set policyBuilder(a){this.policyBuilder$.next(a)}get policyBuilder(){return this.policyBuilder$.value}shouldRenderChangeRiskBanner(a){let b=!1;for(const c of a.removedRoleLabels)if(a.importantRoles.has(c)){let d,e,f,g,l,p,r;const t=null==(d=a.importantRoles)?void 0:null==(e=d.get(c))?void 0:null==(f=e.overview)?void 0:
null==(g=f.changeRiskInsight)?void 0:null==(l=g.risk)?void 0:null==(p=l.usageAtRisk)?void 0:null==(r=p.iamPolicyUtilization)?void 0:r.minimalRoles;if(!t||0===t.length||!t.every(v=>{let x,C;return a.addedRoleLabels.includes(null!=(C=null==(x=a.roleNameToRoleLabel)?void 0:x.get(v))?C:"")})){b=!0;break}}this.renderedImportantRolesEmit.emit(b);return b}shouldRenderChangeRiskTooltip(a,b){return this.affectedRoleNames$.pipe(_.y(c=>{if(!b.has(a))return!1;let d,e,f,g,l,p,r;const t=null!=(r=null==b?void 0:
null==(d=b.get(a))?void 0:null==(e=d.overview)?void 0:null==(f=e.changeRiskInsight)?void 0:null==(g=f.risk)?void 0:null==(l=g.usageAtRisk)?void 0:null==(p=l.iamPolicyUtilization)?void 0:p.minimalRoles)?r:[];return 0===t.length||!t.every(v=>c.addedRoleNames.has(v))}))}constructor(a,b){this.affectedRolesService=a;this.iamActionService=b;this.renderedImportantRolesEmit=new _.jl;this.resource$=new _.zg;this.iamMember$=new _.zg;this.policyBuilder$=new _.zg;this.baselinePolicy$=this.resource$.pipe(_.oe(_.Yw),
_.qf(c=>this.iamActionService.getPolicy(c,!1)),_.mf({bufferSize:1,refCount:!0}));this.policyPair$=_.$d([this.baselinePolicy$,this.policyBuilder$.pipe(_.oe(_.Yw))]).pipe(_.y(([c,d])=>{[d]=_.yv(d,c);return{baseline:c,simulated:d}}),_.mf({bufferSize:1,refCount:!0}));this.affectedRoleNames$=_.$d([this.policyPair$,this.iamMember$.pipe(_.oe(_.Yw))]).pipe(_.y(([c,d])=>_.Pvc(d,c.baseline,c.simulated)),_.mf({bufferSize:1,refCount:!0}));this.affectedRoleLabels$=this.affectedRoleNames$.pipe(_.qf(c=>_.$d([_.w(c),
Sxc(this.affectedRolesService,this.resource,c).pipe(_.Je(()=>_.w(void 0))),_.w(this.detailedAssistObjects).pipe(_.y(d=>null==d?void 0:d.filter(e=>{let f,g,l,p,r,t;return"user:".concat(null!=(t=null==e?void 0:null==(f=e.overview)?void 0:null==(g=f.changeRiskInsight)?void 0:null==(l=g.risk)?void 0:null==(p=l.usageAtRisk)?void 0:null==(r=p.iamPolicyUtilization)?void 0:r.member)?t:"")===this.iamMember})))])),_.y(([c,d,e])=>{var {changedConditions:f}=null!=d?d:c,g=qxc(c.addedRoleNames,null==d?void 0:d.addedRoles),
l=qxc(c.removedRoleNames,null==d?void 0:d.removedRoles);f=[...f].map(pxc).sort();var p=null!=e?e:[],r=null==c?void 0:c.removedRoleNames,t=null==d?void 0:d.removedRoles;e=new Map;for(var v of p){var x=void 0,C=void 0;let D,H,T,da;p=null==(x=v)?void 0:null==(C=x.overview)?void 0:null==(D=C.changeRiskInsight)?void 0:null==(H=D.risk)?void 0:null==(T=H.usageAtRisk)?void 0:null==(da=T.iamPolicyUtilization)?void 0:da.role;if(void 0===p)continue;let Z;if(null==(Z=r)?0:Z.has(p)){let X,qa,Da;e.set(null!=(Da=
null==(X=t)?void 0:null==(qa=X.get(p))?void 0:qa.title)?Da:p,v)}}v=c.addedRoleNames;c=c.removedRoleNames;x=null==d?void 0:d.addedRoles;d=null==d?void 0:d.removedRoles;C=new Map;for(const D of v){let H;C.set(D,oxc(D,null==(H=x)?void 0:H.get(D)))}for(const D of c){let H;C.set(D,oxc(D,null==(H=d)?void 0:H.get(D)))}return{addedRoleLabels:g,removedRoleLabels:l,changedConditionLabels:f,importantRoles:e,roleNameToRoleLabel:C}}),_.mf({bufferSize:1,refCount:!0}));this.affectedRoleLabels$.subscribe(c=>{this.shouldRenderChangeRiskBanner(c)})}ngOnInit(){}ngOnChanges(){}};
byc.\u0275fac=function(a){return new (a||byc)(_.A(Txc),_.A(_.Bv))};
byc.\u0275cmp=_.m({type:byc,selectors:[["iam-edit-member-role-change-summary"]],inputs:{resource:"resource",iamMember:"iamMember",policyBuilder:"policyBuilder",detailedAssistObjects:"detailedAssistObjects",rolesFormGroup:"rolesFormGroup"},outputs:{renderedImportantRolesEmit:"renderedImportantRolesEmit"},features:[_.od],decls:6,vars:5,consts:()=>{let a;a=" "+_.ft("{VAR_PLURAL, plural, =1 {Role removed} other {Roles removed}}",{VAR_PLURAL:"\ufffd0\ufffd"})+" ";let b;b=" "+_.ft("{VAR_PLURAL, plural, =1 {Role added} other {Roles added}}",
{VAR_PLURAL:"\ufffd0\ufffd"})+" ";let c;c=_.ft("{VAR_PLURAL, plural, =1 {Changed condition} other {Changed conditions}}",{VAR_PLURAL:"\ufffd0\ufffd"});return[["emptyLabels",""],["notImportant",""]," Summary of changes\n",a,b," "+c+" "," n/a ",[1,"cfc-space-first",3,"semanticLevel","visualLevel"],["cfc-kv-list","","class","cfc-flex-container cfc-flex-layout-column cfc-space-last",3,"byline","hidePinlines",4,"ngIf"],["cfc-kv-list","",1,"cfc-flex-container","cfc-flex-layout-column","cfc-space-last",
3,"byline","hidePinlines"],["class","cfc-gutter-none cfc-space-below-minus-4",4,"ngIf"],[4,"ngIf"],[1,"cfc-gutter-none","cfc-space-below-minus-4"],[4,"ngIf","ngIfElse"],["class","cfc-truncated-text",4,"ngFor","ngForOf"],[1,"cfc-truncated-text"],[1,"cfc-color-danger"],["aria-label","Help with removed role","dialogAriaLabel","Help information about removed role",3,"removedRoleLabel","affectedRoleLabels","detailedAssistObjects","rolesFormGroup","resource","iamMember"]]},template:function(a,b){a&1&&(_.G(0,
"cfc-heading",7),_.N(1,2),_.I(),_.E(2,Exc,4,5,"dl",8),_.S(3,"async"),_.E(4,Fxc,2,0,"ng-template",null,0,_.ig));a&2&&(_.F("semanticLevel",2)("visualLevel",6),_.z(2),_.F("ngIf",_.U(3,3,b.affectedRoleLabels$)))},dependencies:()=>[Zxc,_.Al,_.Bl,_.Sw,_.av,_.Gl,cyc],encapsulation:2,changeDetection:0});
var cyc=class{transform(a,b,c){return this.shouldRenderChangeRiskTooltip(a,b,c)}shouldRenderChangeRiskTooltip(a,b,c){if(!c.has(b))return!1;let d,e,f,g,l,p,r;b=null!=(r=null==c?void 0:null==(d=c.get(b))?void 0:null==(e=d.overview)?void 0:null==(f=e.changeRiskInsight)?void 0:null==(g=f.risk)?void 0:null==(l=g.usageAtRisk)?void 0:null==(p=l.iamPolicyUtilization)?void 0:p.minimalRoles)?r:[];return 0===b.length||!b.every(t=>a.addedRoleNames.has(t))}};cyc.\u0275fac=function(a){return new (a||cyc)};
cyc.\u0275pipe=_.hd({name:"shouldRenderChangeRiskTooltip",type:cyc,pure:!0});var dyc=class{};dyc.\u0275fac=function(a){return new (a||dyc)};dyc.\u0275mod=_.ed({type:dyc});dyc.\u0275inj=_.Qc({imports:[ayc,_.Hl,_.Tw,_.dv]});var eyc=class{constructor(){this.shouldRenderChangeRiskBanner=!1;this.policyBuilder$=new _.zg}set policyBuilder(a){this.policyBuilder$.next(a)}ngOnInit(){}ngOnChanges(){}};eyc.\u0275fac=function(a){return new (a||eyc)};
eyc.\u0275cmp=_.m({type:eyc,selectors:[["iam-edit-member-role-change-summary-panel"]],inputs:{resource:"resource",multiRoleMember:"multiRoleMember",detailedAssistObjects:"detailedAssistObjects",rolesFormGroup:"rolesFormGroup",policyBuilder:"policyBuilder",showSimulateButton:"showSimulateButton"},features:[_.od],decls:5,vars:9,consts:()=>[" Removing these roles is \ufffd#3\ufffdlikely to cause interruptions\ufffd/#3\ufffd, because they were used in the last 90 days. ",[1,"cfc-background-message","cfc-gutter-minus-2"],
[3,"renderedImportantRolesEmit","resource","iamMember","detailedAssistObjects","rolesFormGroup","policyBuilder"],[3,"resource","multiRoleMember","policyBuilder$",4,"ngIf"],["type","error",4,"ngIf"],[3,"resource","multiRoleMember","policyBuilder$"],["type","error"]],template:function(a,b){a&1&&(_.G(0,"div",1)(1,"iam-edit-member-role-change-summary",2),_.S(2,"async"),_.O("renderedImportantRolesEmit",function(c){b.shouldRenderChangeRiskBanner=c}),_.I(),_.E(3,Gxc,1,3,"iam-simulate-button",3),_.I(),_.E(4,
Hxc,4,0,"cfc-message",4));a&2&&(_.z(),_.F("resource",b.resource)("iamMember",b.multiRoleMember.iamMember)("detailedAssistObjects",b.detailedAssistObjects)("rolesFormGroup",b.rolesFormGroup)("policyBuilder",_.U(2,7,b.policyBuilder$)),_.z(2),_.F("ngIf",b.showSimulateButton),_.z(),_.F("ngIf",b.shouldRenderChangeRiskBanner))},dependencies:[_.Bl,_.Vo,_.Wo,byc,_.xwc,_.Gl],encapsulation:2,changeDetection:0});var fyc=class{};fyc.\u0275fac=function(a){return new (a||fyc)};fyc.\u0275mod=_.ed({type:fyc});
fyc.\u0275inj=_.Qc({imports:[_.Hl,_.ep,dyc,_.wH]});var gyc=[56,43,2,0,42,3,1,28,29];var hyc,Jxc,Pxc,iyc,jyc;hyc=a=>[a];Jxc=()=>({hideDivider:!0,isResizable:!1});Pxc={pageSelector:{startingPoint:{index:0},endingPoint:{maxResults:500}},cacheParameters:{cacheOptions:{statusOverride:"BYPASS_CACHE"}}};
iyc=function(a){const b=a.member.iamMember,c=new _.wv;c.removeMemberFromAllRoles(b);const d=[];a.formRolesArray.value.filter(e=>!!e.role).forEach(e=>{const f=e.applyToAll?e.bindingMembers:[b];_.vtb(c,e.role.name,f,e.originalCondition);d.push(e.role);c.addMembers(e.role.name,f,e.condition||void 0)});return{policyBuilder:c,addedRoles:d}};
jyc=function(a){(0===a.resource.getResourceType()?Qxc(a.recsColiseumService,{projectId:a.resource.getResourceId()}):_.w([])).pipe(_.y(b=>b.filter(c=>{let d,e,f,g,l,p;return"user:".concat(null!=(p=null==c?void 0:null==(d=c.overview)?void 0:null==(e=d.changeRiskInsight)?void 0:null==(f=e.risk)?void 0:null==(g=f.usageAtRisk)?void 0:null==(l=g.iamPolicyUtilization)?void 0:l.member)?p:"")===a.member.iamMember})),_.Je(b=>{b.errorExperience=6;return _.w([])}),_.B(a.destroyed$)).subscribe(b=>{a.detailedAssistObjects=
b})};
_.kyc=class{accept(){}constructor(a,b,c,d,e,f,g,l,p,r,t,v){this.analyticsService=b;this.cdr=c;this.formBuilder=d;this.iamUIService=e;this.policyService=f;this.recsColiseumService=g;this.roleLister=l;this.snackBar=p;this.subtaskRef=r;this.dl={CONSOLE__IAM_DOCS_OVERVIEW_CONCEPTS_RELATED_IDENTITY:_.juc,CONSOLE__IAM_HELP_ROLES_REFERENCE:_.luc};this.destroyed$=new _.hf(1);this.detailedAssistObjects=[];this.addForm=this.formBuilder.group({roles:this.formBuilder.array([])});this.ve={IamEditMembersSubtask:62831,IamEditMembersSave:62830,
IamEditMembersCancel:62829};this.policyBuilderAndAddedRoles$=_.le(_.ge(()=>_.w(this.addForm.value)),this.addForm.valueChanges).pipe(_.y(()=>iyc(this)));this.policyBuilder$=this.policyBuilderAndAddedRoles$.pipe(_.y(x=>x.policyBuilder));this.hasRolePickerBeenOpened=!1;this.member=a.member;this.editConditionsEnabled=_.Iuc([a.resource]);this.resource=a.resource;this.conditionsDisabledTooltip=a.conditionsDisabledTooltip;this.resourceLabel=a.resourceLabel?a.resourceLabel:_.hxc(this.resource.getResourceType());
this.resourceDisplayName=this.resource.getDisplayName()||this.resource.getResourceId();this.showSimulateButton=gyc.includes(this.resource.getResourceType())&&!_.sh()&&!_.qh();this.initializeForm();jyc(this);r.afterClosed.subscribe(()=>{this.hasRolePickerBeenOpened&&v.triggerSurveyIfTargeted()})}ngOnDestroy(){this.destroyed$.next();this.destroyed$.complete()}initializeForm(){_.xsc(this.policyService,this.resource).pipe(_.ZG(this.roleLister.queryGrantableRoles([this.resource])),_.We()).subscribe(([a,
b])=>{a=a.find(c=>c.iamMember===this.member.iamMember);if(void 0!==a){this.multiRoleMember=a;const c=[];for(const e of a.roles)e.inheritedFrom[0]&&e.inheritedFrom[0].getResourceId()!==this.resource.getResourceId()||c.push({sourcedRole:e,condition:e.condition});_.tUb(c,e=>{let f;return null!=(f=e.sourcedRole.role.title)?f:""},(e,f)=>e.localeCompare(f));const d=new Set(b.map(e=>e.name).filter(e=>void 0!==e));c.sort((e,f)=>{e=e.sourcedRole.role.name;f=f.sourcedRole.role.name;return+!(!f||!d.has(f))-
+!(!e||!d.has(e))});for(const e of c)this.addRole(e.sourcedRole,e.condition)}this.cdr.markForCheck()})}get formRolesArray(){return this.addForm.get("roles")}addRole(a,b){this.formRolesArray.push(new _.ju({role:new _.nu(a.role),condition:new _.nu(a.condition),bindingMembers:new _.nu(a.binding?a.binding.members:[this.member.iamMember]),applyToAll:new _.nu(!1),originalCondition:new _.nu(b)}))}save(){this.formRolesArray.untouched?this.subtaskRef.accept():this.formRolesArray.invalid?this.snackBar.open("Correct the highlighted fields and then click Save"):
this.policyBuilderAndAddedRoles$.pipe(_.Se(1),_.qf(a=>{const b=a.addedRoles;return _.Drc(this.iamUIService,[this.resource],a.policyBuilder,{propagateEtagMismatchFlow:!0}).pipe(_.y(c=>({updatedPolicyMap:c,addedRoles:b})),_.Se(1))}),_.B(this.destroyed$)).subscribe(({updatedPolicyMap:a,addedRoles:b})=>{this.analyticsService.sendEvent({type:"iamCommon",name:"editMemberSuccess",metadata:{resourceType:String(this.resource.getResourceType()),roles:_.jtc(b).join(",")}});this.subtaskRef.accept({update:_.w(a),
addedRoles:b.map(c=>c.name)})})}};_.kyc.\u0275fac=function(a){return new (a||_.kyc)(_.A(_.KD),_.A(_.gn),_.A(_.rl),_.A(_.Gu),_.A(_.TG),_.A(_.VG),_.A(_.zH),_.A(_.eF),_.A(_.vC),_.A(_.JD),_.A(_.Juc),_.A(_.$uc))};
_.kyc.\u0275cmp=_.m({type:_.kyc,selectors:[["ng-component"]],decls:33,vars:25,consts:()=>[" Principal \ufffd#10\ufffd Principals are users, groups, domains, or service accounts. \ufffd#11\ufffd Learn more about principals in IAM \ufffd/#11\ufffd\ufffd/#10\ufffd"," Assign roles "," Roles are composed of sets of permissions and determine what the principal can do with this resource. \ufffd#24\ufffd Learn more \ufffd/#24\ufffd"," Save "," Cancel ",["cfcTitle",'Edit access to\n              "\ufffd0\ufffd"'],
["id","action-bar-edit-members",6,"cfcTitle"],["split","vertical"],[3,"ve"],[1,"cfc-width-base","cfc-space-below-base"],["cfc-kv-list","",3,"byline"],["cfcTooltipPosition","bottomleft","ariaLabel","Definition of a principal.",1,"cfc-button-small"],[3,"cfcDocLink"],["id","addRoleForm",3,"ngSubmit","formGroup"],[1,"cfc-text-title-2"],["aria-label","Learn more about roles",3,"cfcDocLink"],["rolesFormArrayName","roles",3,"onOpen","resources","editConditionsEnabled","member","resourceLabel","resourceDisplayName",
"noRoleRequired","conditionsDisabledTooltip","initialRolePicker"],["mat-raised-button","","cfcFormSubmit","addRoleForm","type","submit","color","primary",3,"ve","veClick"],[3,"resource","multiRoleMember","policyBuilder$",4,"ngIf"],["mat-raised-button","","type","button",3,"click","ve","veClick"],["side","right","class","cfc-max-width-xsmall cfc-width-xsmall",3,"config",4,"ngIf"],[3,"resource","multiRoleMember","policyBuilder$"],["side","right",1,"cfc-max-width-xsmall","cfc-width-xsmall",3,"config"],
[3,"resource","multiRoleMember","detailedAssistObjects","policyBuilder","rolesFormGroup","showSimulateButton"]],template:function(a,b){a&1&&(_.G(0,"cfc-action-bar",6),_.GA(1,5),_.I(),_.G(2,"cfc-panel-container",7)(3,"cfc-panel")(4,"cfc-panel-body",8)(5,"div",9)(6,"dl",10)(7,"div")(8,"dt"),_.Of(9,0),_.G(10,"cfc-help-button",11),_.J(11,"a",12),_.I(),_.Pf(),_.I(),_.G(12,"dd"),_.Q(13),_.I()(),_.G(14,"div")(15,"dt"),_.Q(16),_.I(),_.G(17,"dd"),_.Q(18),_.I()()()(),_.G(19,"form",13),_.O("ngSubmit",function(){return b.save()}),
_.G(20,"h2",14),_.N(21,1),_.I(),_.G(22,"p"),_.Of(23,2),_.J(24,"a",15),_.Pf(),_.I(),_.G(25,"cfc-iam-roles-selector-list",16),_.O("onOpen",function(){return b.hasRolePickerBeenOpened=!0}),_.I()()(),_.G(26,"cfc-panel-footer")(27,"button",17),_.N(28,3),_.I(),_.E(29,Ixc,1,3,"iam-simulate-button",18),_.G(30,"button",19),_.O("click",function(){return b.subtaskRef.cancel()}),_.N(31,4),_.I()()(),_.E(32,Kxc,4,10,"cfc-panel",20),_.I());a&2&&(_.Qf(b.resourceDisplayName),_.Rf(1),_.z(4),_.F("ve",b.ve.IamEditMembersSubtask),
_.z(2),_.F("byline",!0),_.z(5),_.F("cfcDocLink",b.dl.CONSOLE__IAM_DOCS_OVERVIEW_CONCEPTS_RELATED_IDENTITY),_.z(2),_.bg(b.member.displayName),_.z(3),_.bg(b.resourceLabel),_.z(2),_.bg(b.resourceDisplayName),_.z(),_.F("formGroup",b.addForm),_.z(5),_.F("cfcDocLink",b.dl.CONSOLE__IAM_HELP_ROLES_REFERENCE),_.z(),_.Vs("resourceDisplayName",b.resourceDisplayName),_.F("resources",_.fg(23,hyc,b.resource))("editConditionsEnabled",b.editConditionsEnabled)("member",b.member)("resourceLabel",b.resourceLabel)("noRoleRequired",
!0)("conditionsDisabledTooltip",b.conditionsDisabledTooltip)("initialRolePicker",!1),_.z(2),_.F("ve",b.ve.IamEditMembersSave)("veClick",!0),_.z(2),_.F("ngIf",b.showSimulateButton&&b.multiRoleMember),_.z(),_.F("ve",b.ve.IamEditMembersCancel)("veClick",!0),_.z(2),_.F("ngIf",b.multiRoleMember&&b.addForm.touched))},dependencies:[_.dt,_.at,_.ZC,_.Bl,_.vt,_.eH,_.bA,_.av,_.Qu,_.Lp,_.Pu,_.BD,_.zD,_.Yo,_.GD,_.Ly,_.Ky,_.ru,eyc,_.hF,_.xwc,_.Gl],encapsulation:2,changeDetection:0});_.EH=class{};
_.EH.\u0275fac=function(a){return new (a||_.EH)};_.EH.\u0275mod=_.ed({type:_.EH,id:"pm_iam_edit_members_subtask"});_.EH.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{SubtaskService:_.LD,EditMember:_.kyc}}],imports:[_.et,_.aD,_.Hl,_.iA,_.gH,_.dA,_.dv,_.Uu,_.DD,_.WG,_.Iu,fyc,_.iF,_.wH,_.jF,_.rF]});_.xf(_.EH,"pm_iam_edit_members_subtask");var lyc=class{transform(a){return a.replace("@","@<wbr>").replace(".","<wbr>.")}};lyc.\u0275fac=function(a){return new (a||lyc)};lyc.\u0275pipe=_.hd({name:"wrapEmail",type:lyc,pure:!0});_.FH=class{};_.FH.\u0275fac=function(a){return new (a||_.FH)};_.FH.\u0275mod=_.ed({type:_.FH});_.FH.\u0275inj=_.Qc({imports:[_.Hl]});_.myc=class{constructor(a,b){this.dialogRef=b;this.removeFromAllRoles=!1;this.ve={IamRemoveMemberRoleDialogConfirmButton:158962,IamRemoveMemberRoleDialogCancelButton:158961};this.memberName=a.memberName;this.roleTitle=a.roleTitle}removeMember(){this.dialogRef.close([!0,this.removeFromAllRoles])}cancel(){this.dialogRef.close()}};_.myc.\u0275fac=function(a){return new (a||_.myc)(_.A(_.fo),_.A(_.eo))};
_.myc.\u0275cmp=_.m({type:_.myc,selectors:[["ng-component"]],decls:23,vars:19,consts:()=>[" Remove role from principal?\n"," Are you sure you want to remove the \ufffd0\ufffd role from \ufffd#4\ufffd\ufffd/#4\ufffd on the selected resource? They may still have access via other roles, or the role inherited from a parent resource.\n"," Remove \ufffd#11\ufffd\ufffd/#11\ufffd from the role \ufffd0\ufffd on this resource. "," Remove \ufffd#16\ufffd\ufffd/#16\ufffd from all roles on this resource. They may still have access via inherited roles. ",
" Cancel "," Remove ",["mat-dialog-title",""],[3,"innerHTML"],["name","removeFromAllRoles","aria-label","Select whether to remove principal from selected role or from all roles","aria-required","true",3,"ngModelChange","ngModel"],["color","primary","aria-label","Remove a principal from selected role",3,"checked","value"],["color","primary","aria-label","Remove a principal from all roles",3,"value"],["mat-dialog-actions",""],["mat-button","","color","primary","mat-dialog-close","",3,"ve","veClick"],
["mat-button","","color","primary",3,"click","ve","veClick"]],template:function(a,b){a&1&&(_.G(0,"h1",6),_.N(1,0),_.I(),_.G(2,"p"),_.Of(3,1),_.J(4,"span",7),_.S(5,"wrapEmail"),_.Pf(),_.I(),_.G(6,"form")(7,"mat-radio-group",8),_.Ys("ngModelChange",function(c){_.Xs(b.removeFromAllRoles,c)||(b.removeFromAllRoles=c);return c}),_.G(8,"mat-radio-button",9)(9,"span"),_.Of(10,2),_.J(11,"span",7),_.S(12,"wrapEmail"),_.Pf(),_.I()(),_.G(13,"mat-radio-button",10)(14,"span"),_.Of(15,3),_.J(16,"span",7),_.S(17,
"wrapEmail"),_.Pf(),_.I()()()(),_.G(18,"div",11)(19,"button",12),_.N(20,4),_.I(),_.G(21,"button",13),_.O("click",function(){return b.removeMember()}),_.N(22,5),_.I()());a&2&&(_.z(4),_.F("innerHTML",_.U(5,13,b.memberName),_.Ts),_.z(),_.Qf(b.roleTitle),_.Rf(3),_.z(2),_.Ws("ngModel",b.removeFromAllRoles),_.z(),_.F("checked",!0)("value",!1),_.z(3),_.F("innerHTML",_.U(12,15,b.memberName),_.Ts),_.z(),_.Qf(b.roleTitle),_.Rf(10),_.z(),_.F("value",!0),_.z(3),_.F("innerHTML",_.U(17,17,b.memberName),_.Ts),_.z(3),
_.F("ve",b.ve.IamRemoveMemberRoleDialogCancelButton)("veClick",!0),_.z(2),_.F("ve",b.ve.IamRemoveMemberRoleDialogConfirmButton)("veClick",!0))},dependencies:[_.dt,_.at,_.Qu,_.Lp,_.Pu,_.xz,_.wz,_.yz,_.uz,_.vz,_.Ly,_.ly,_.Ky,_.ou,_.ku,_.Vu,_.ho,_.io,lyc],encapsulation:2});_.nyc=class{};_.nyc.\u0275fac=function(a){return new (a||_.nyc)};_.nyc.\u0275mod=_.ed({type:_.nyc});_.nyc.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.Az,_.Hu,_.uo,_.FH]});var oyc;oyc=["displayName","location"];_.pyc=class{constructor(a){this.roleDisplayName=a.roleDisplayName;this.conditionJSON=JSON.stringify(a.condition,(b,c)=>{if(!oyc.includes(b))return c},4)}};_.pyc.\u0275fac=function(a){return new (a||_.pyc)(_.A(_.fo))};
_.pyc.\u0275cmp=_.m({type:_.pyc,selectors:[["ng-component"]],decls:7,vars:2,consts:()=>[' Condition on "\ufffd0\ufffd" role\n'," OK ",["matDialogTitle",""],[1,"cfc-space-above-base"],["matDialogActions",""],"mat-button  color primary matDialogClose ".split(" ")],template:function(a,b){a&1&&(_.G(0,"h1",2),_.N(1,0),_.I(),_.G(2,"pre",3),_.Q(3),_.I(),_.G(4,"div",4)(5,"button",5),_.N(6,1),_.I()());a&2&&(_.z(),_.Qf(b.roleDisplayName),_.Rf(1),_.z(2),_.bg(b.conditionJSON))},dependencies:[_.Qu,_.Lp,_.Pu,_.Vu,
_.ho,_.io],encapsulation:2});_.qyc=class{};_.qyc.\u0275fac=function(a){return new (a||_.qyc)};_.qyc.\u0275mod=_.ed({type:_.qyc});_.qyc.\u0275inj=_.Qc({imports:[_.Uu,_.uo]});var ryc=class{constructor(){this.statusInfoIcon=_.kh}};ryc.\u0275fac=function(a){return new (a||ryc)};
ryc.\u0275cmp=_.m({type:ryc,selectors:[["non-grantable-role-button"]],decls:2,vars:2,consts:()=>[["mat-icon-button","","type","button","aria-label","Information","cfcTooltip","The role contains a set of permissions which are not grantable on the resource.","cfcTooltipInteractiveDialogAriaLabel","Non-grantable role information tooltip",3,"cfcTooltipInteractive"],[3,"icon"]],template:function(a,b){a&1&&(_.G(0,"button",0),_.J(1,"cm-icon",1),_.I());a&2&&(_.F("cfcTooltipInteractive",!0),_.z(),_.F("icon",
b.statusInfoIcon))},dependencies:[_.Qu,_.$t,_.Pu,_.Eo,_.uw],encapsulation:2});var syc=class{};syc.\u0275fac=function(a){return new (a||syc)};syc.\u0275mod=_.ed({type:syc});syc.\u0275inj=_.Qc({imports:[_.Uu,_.Hl,_.Fo,_.ww]});var tyc=class{constructor(){this.statusWarningIcon=_.lh}};tyc.\u0275fac=function(a){return new (a||tyc)};
tyc.\u0275cmp=_.m({type:tyc,selectors:[["iam-owner-pending-invite-button"]],decls:2,vars:2,consts:()=>[["mat-icon-button","","type","button","aria-label","Warning","cfcTooltip","Invitation sent. Pending acceptance.","cfcTooltipInteractiveDialogAriaLabel","Invitation status tooltip",3,"cfcTooltipInteractive"],[3,"icon"]],template:function(a,b){a&1&&(_.G(0,"button",0),_.J(1,"cm-icon",1),_.I());a&2&&(_.F("cfcTooltipInteractive",!0),_.z(),_.F("icon",b.statusWarningIcon))},dependencies:[_.Qu,_.$t,_.Pu,
_.Eo,_.uw],encapsulation:2});var uyc=class{};uyc.\u0275fac=function(a){return new (a||uyc)};uyc.\u0275mod=_.ed({type:uyc});uyc.\u0275inj=_.Qc({imports:[_.Uu,_.Hl,_.Fo,_.ww]});_.vyc=class{};_.vyc.\u0275fac=function(a){return new (a||_.vyc)};
_.vyc.\u0275cmp=_.m({type:_.vyc,selectors:[["cfc-role-principal-viewer"]],inputs:{rolePrincipal:"rolePrincipal"},decls:5,vars:8,consts:[[1,"cfc-list-item-icons-left",3,"type"],[1,"iam-role-principal-viewer-display-name",3,"innerHTML"],[4,"ngIf"]],template:function(a,b){a&1&&(_.J(0,"cfc-iam-member-type-icon",0)(1,"span",1),_.S(2,"wrapEmail"),_.E(3,Mxc,1,0,"iam-owner-pending-invite-button",2)(4,Nxc,1,0,"non-grantable-role-button",2));a&2&&(_.F("type",b.rolePrincipal.type),_.z(),_.Ff("cfc-color-disabled",
b.rolePrincipal.invitee||b.rolePrincipal.nonGrantable),_.F("innerHTML",_.U(2,6,b.rolePrincipal.displayName),_.Ts),_.z(2),_.F("ngIf",b.rolePrincipal.invitee),_.z(),_.F("ngIf",b.rolePrincipal.nonGrantable))},dependencies:[_.Bl,_.eqc,ryc,tyc,lyc],encapsulation:2,changeDetection:0});_.wyc=class{};_.wyc.\u0275fac=function(a){return new (a||_.wyc)};_.wyc.\u0275mod=_.ed({type:_.wyc});_.wyc.\u0275inj=_.Qc({imports:[_.Hl,_.OG,syc,uyc,_.FH]});
}catch(e){_._DumpException(e)}
try{
var Hzc=function(a){a&1&&(_.G(0,"cfc-message-text"),_.Q(1),_.I());a&2&&(a=_.P(2),_.Ff("cfctest-iam-panel-no-view-rights","NO_VIEW_RIGHTS"===a.permissionsState.state)("cfctest-iam-panel-no-edit-rights","NO_EDIT_RIGHTS"===a.permissionsState.state),_.z(),_.R(" ",a.permissionsState.message," "))},Izc=function(a){a&1&&(_.G(0,"cfc-message-text",6),_.Q(1),_.I());a&2&&(a=_.P(2),_.z(),_.R(" ",a.noSelectedResourcesText?a.noSelectedResourcesText:a.permissionsState.message," "))},Jzc=function(a){if(a&1){const b=
_.n();_.G(0,"cfc-message-actions")(1,"button",7);_.O("click",function(){_.q(b);const c=_.P(2);return _.u(c.onDeselect())});_.N(2,0);_.I()()}},Kzc=function(a){a&1&&(_.G(0,"cfc-message",2),_.E(1,Hzc,2,5,"cfc-message-text",3)(2,Izc,2,1,"cfc-message-text",4)(3,Jzc,3,0,"cfc-message-actions",5),_.I());a&2&&(a=_.P(),_.F("icon","NONE_SELECTED"===a.permissionsState.state?"status-info":"status-warning"),_.z(),_.F("ngIf","NONE_SELECTED"!==a.permissionsState.state),_.z(),_.F("ngIf","NONE_SELECTED"===a.permissionsState.state),
_.z(),_.F("ngIf",a.permissionsState.toDeselect))};var LH;LH=function(a){return a.readWrite.length+a.readOnly.length+a.forbidden.length};
_.Lzc=class{constructor(a=[],b=[],c=[]){this.readWrite=a;this.readOnly=b;this.forbidden=c}build(){var a=this.getState(),b=this.getMessage();var c="NO_VIEW_RIGHTS"===this.getState()&&this.forbidden.length<LH(this)?this.forbidden.slice():"NO_EDIT_RIGHTS"===this.getState()&&this.readOnly.length<LH(this)?this.readOnly.slice():void 0;return{state:a,message:b,toDeselect:c}}getState(){return 0===LH(this)?"NONE_SELECTED":0!==this.forbidden.length?"NO_VIEW_RIGHTS":0!==this.readOnly.length?"NO_EDIT_RIGHTS":
"AUTHORIZED"}getMessage(){switch(this.getState()){case "NONE_SELECTED":return"Please select at least one resource.";case "NO_VIEW_RIGHTS":var a=this.forbidden.length===LH(this);return 1===LH(this)&&a?"You don't have permission to view the permissions of the selected resource":1<LH(this)&&a?"You don't have permission to view the permissions of the selected resources":"You don't have permission to view the permissions of some of the selected resources";case "NO_EDIT_RIGHTS":return a=this.readOnly.length===
LH(this),1===LH(this)&&a?"You don't have permission to edit the permissions of the selected resource":1<LH(this)&&a?"You don't have permission to edit the permissions of the selected resources":"You don't have permission to edit the permissions of some of the selected resources"}}};_.Mzc=class{constructor(a,b){this.resourceListService=a;this.resourcePanelService=b}onDeselect(){this.permissionsState.toDeselect&&(this.resourceListService||this.resourcePanelService).deselectResources(this.permissionsState.toDeselect)}};_.Mzc.\u0275fac=function(a){return new (a||_.Mzc)(_.A(_.JH,8),_.A(_.KH))};
_.Mzc.\u0275cmp=_.m({type:_.Mzc,selectors:[["cfc-iam-panel-resource-permissions"]],inputs:{permissionsState:"permissionsState",noSelectedResourcesText:"noSelectedResourcesText"},decls:1,vars:1,consts:()=>[" Deselect ",[3,"icon",4,"ngIf"],[3,"icon"],[3,"cfctest-iam-panel-no-view-rights","cfctest-iam-panel-no-edit-rights",4,"ngIf"],["class","cfctest-iam-panel-no-resources-selected",4,"ngIf"],[4,"ngIf"],[1,"cfctest-iam-panel-no-resources-selected"],["mat-button","","color","primary",3,"click"]],template:function(a,
b){a&1&&_.E(0,Kzc,4,4,"cfc-message",1);a&2&&_.F("ngIf",b.permissionsState&&"AUTHORIZED"!==b.permissionsState.state)},dependencies:[_.Qu,_.Lp,_.Pu,_.Bl,_.Vo,_.Lu,_.Wo],encapsulation:2});_.Nzc=class{};_.Nzc.\u0275fac=function(a){return new (a||_.Nzc)};_.Nzc.\u0275mod=_.ed({type:_.Nzc});_.Nzc.\u0275inj=_.Qc({imports:[_.Uu,_.Hl,_.ep]});
}catch(e){_._DumpException(e)}
try{
_.Ig("pm_iam_panel_complete");
var tBc=function(a){if(!a.roleSourceMap)return null;let b=!1,c=!1,d=!1;for(const e of a.resources){if(!a.roleSourceMap.get(e))return null;const f=a.roleSourceMap.get(e)[0];if(!a.resources.has(f.getResourceId()))if(43===f.getResourceType())b=!0;else if(0===f.getResourceType())c=!0;else{if(2===f.getResourceType())return _.Yzc(2);d=!0}}return b?_.Yzc(43):c?_.Yzc(0):d?"cloud-products":null},uBc=function(a){return Array.from(a.resources).filter(b=>null!==_.Lxc(a,b)).length},vBc=function(a,b){a&1&&_.J(0,
"cfc-breadcrumbs",6);a&2&&_.F("breadcrumbs",b.ngIf)},wBc=function(a){a&1&&(_.G(0,"span",7),_.N(1,1),_.I());a&2&&(a=_.P(2),_.z(),_.Qf(a.loadingAncestryText),_.Rf(1))},xBc=function(a){a&1&&(_.E(0,vBc,1,1,"cfc-breadcrumbs",4),_.S(1,"async"),_.E(2,wBc,2,1,"span",5),_.S(3,"async"));a&2&&(a=_.P(),_.F("ngIf",_.U(1,2,a.breadcrumbModel)),_.z(2),_.F("ngIf",!_.U(3,4,a.breadcrumbModel)))},yBc=function(a,b){a&1&&_.Q(0);a&2&&_.R(" ",b.rowData.resource.getDisplayName()," ")},zBc=function(a){a&1&&_.J(0,"cfc-iam-inheritance",
14);a&2&&(a=_.P().rowData.inheritanceSource,_.F("resource",a)("clickable",!1))},ABc=function(a,b){a&1&&_.E(0,zBc,1,2,"cfc-iam-inheritance",13);a&2&&_.F("ngIf",b.rowData.inheritanceSource)},BBc=function(a){a&1&&_.J(0,"breadcrumb-overlay",5);a&2&&(a=_.P(),_.F("tooltipIconType",a.iconType)("resource",a.loneInheritanceSource))},CBc=function(a){a&1&&_.J(0,"cfc-icon-tooltip-for-table",6);a&2&&(a=_.P(),_.F("icon",a.iconType)("tooltip",a.genericInheritanceTooltip)("interactiveTooltip",!1))},DBc=function(a){a&
1&&(_.G(0,"span",7),_.Of(1,0),_.J(2,"cfc-icon",8),_.Pf(),_.I());a&2&&(a=_.P(),_.z(2),_.F("icon",a.iconType),_.Qf(a.inheritedResourceCount)(a.member.resources.size),_.Rf(1))},EBc=function(a){if(a&1){const b=_.n();_.G(0,"a",17);_.O("click",function(){_.q(b);const c=_.P(2).rowData;_.P(2).dialogService.open(_.pyc,{data:{roleDisplayName:c.displayName,condition:c.condition}});return _.u()});_.N(1,1);_.I()}a&2&&(a=_.P(2).rowData,_.z(),_.Qf(a.condition.displayName),_.Rf(1))},FBc=function(a){a&1&&(_.G(0,"span",
15),_.Q(1),_.E(2,EBc,2,1,"a",16),_.Q(3),_.I());a&2&&(a=_.P().rowData,_.z(),_.R(" ",a.displayName," "),_.z(),_.F("ngIf",a.condition),_.z(),_.R(" (",a.children.length,") "))},GBc=function(a){a&1&&_.J(0,"cfc-role-principal-viewer",18);a&2&&(a=_.P().rowData,_.F("rolePrincipal",a))},HBc=function(a,b){a&1&&(_.G(0,"div",12),_.E(1,FBc,4,3,"span",13)(2,GBc,1,1,"cfc-role-principal-viewer",14),_.I());a&2&&(a=b.rowData,b=_.P(2),_.z(),_.F("ngIf",!b.isRoleMemberNode(a)),_.z(),_.F("ngIf",b.isRoleMemberNode(a)))},
JBc=function(a){if(a&1){const b=_.n();_.G(0,"a",22);_.O("click",function(){_.q(b);const c=_.P(2).rowData,d=_.P(3);return _.u(IBc(d,c))})("keydown.enter",function(){_.q(b);const c=_.P(2).rowData,d=_.P(3);return _.u(IBc(d,c))});_.N(1,2);_.I()}if(a&2){a=_.P(2).rowData;const b=_.P(3);_.z();_.Qf(b.showInheritedPermissionsInternal?a.resources.size:a.resources.size-uBc(a))(b.resources.length);_.Rf(1)}},KBc=function(a){a&1&&(_.K(0),_.N(1,3),_.L());if(a&2){a=_.P(2).rowData;const b=_.P(3);_.z();_.Qf(b.showInheritedPermissionsInternal?
a.resources.size:a.resources.size-uBc(a))(b.resources.length);_.Rf(1)}},LBc=function(a){a&1&&(_.K(0),_.E(1,JBc,2,2,"a",21)(2,KBc,2,2,"ng-template",null,0,_.ig),_.L());if(a&2){a=_.ag(3);const b=_.P(4);_.z();_.F("ngIf",b.canEdit)("ngIfElse",a)}},MBc=function(a,b){a&1&&_.E(0,LBc,4,2,"ng-container",20);a&2&&(a=b.rowData,b=_.P(3),_.F("ngIf",b.isRoleMemberNode(a)))},NBc=function(a){a&1&&(_.G(0,"cfc-tree-grid-column",19),_.E(1,MBc,1,1,"ng-template",7),_.I());a&2&&_.F("sortDisabled",!0)},OBc=function(a){a&
1&&_.J(0,"cfc-iam-inheritance-icon",25);a&2&&(a=_.P().rowData,_.F("member",a))},PBc=function(a,b){a&1&&_.E(0,OBc,1,1,"cfc-iam-inheritance-icon",24);a&2&&(a=b.rowData,b=_.P(3),_.F("ngIf",b.isRoleMemberNode(a)&&a.roleSourceMap))},QBc=function(a){a&1&&(_.G(0,"cfc-tree-grid-column",23),_.E(1,PBc,1,1,"ng-template",7),_.I());a&2&&_.F("sortDisabled",!0)},SBc=function(a){if(a&1){const b=_.n();_.G(0,"cfc-iam-remove-button-role-member",28);_.O("onRemoveSuccess",function(){_.q(b);const c=_.P(4);return _.u(c.onRemoveSuccess())});
_.I()}if(a&2){a=_.P().rowData;const b=_.P(3);_.F("member",a)("resource",b.resources[0])("oneOwner",RBc(b))}},TBc=function(a,b){a&1&&_.E(0,SBc,1,3,"cfc-iam-remove-button-role-member",27);a&2&&(a=b.rowData,b=_.P(3),_.F("ngIf",b.isRoleMemberNode(a)&&b.canEdit))},UBc=function(a){a&1&&(_.G(0,"cfc-tree-grid-column",26),_.E(1,TBc,1,1,"ng-template",7),_.I());a&2&&_.F("sortDisabled",!0)("noPadding",!0)},WBc=function(a){if(a&1){const b=_.n();_.G(0,"button",30);_.S(1,"editButtonTooltip");_.O("click",function(){_.q(b);
const c=_.P().rowData,d=_.P(2);return _.u(VBc(d,c))});_.J(2,"cfc-icon",31);_.I()}if(a&2){a=_.P().rowData;const b=_.P(2);_.F("cfcTooltip",_.U(1,3,a.displayName))("cfcDisable",1!==b.resources.length||!!a.inheritanceIcon)("cfcDisableTooltip",a.inheritanceIcon?"Cannot edit inherited roles":"Can only edit a single resource")}},XBc=function(a,b){a&1&&_.E(0,WBc,3,5,"button",29);a&2&&(a=b.rowData,b=_.P(2),_.F("ngIf",b.isRoleMemberNode(a)&&b.canEdit))},$Bc=function(a){a&1&&(_.G(0,"cfc-tree-grid",5)(1,"cfc-tree-grid-column",
6),_.E(2,HBc,3,2,"ng-template",7),_.I(),_.E(3,NBc,2,1,"cfc-tree-grid-column",8)(4,QBc,2,1,"cfc-tree-grid-column",9)(5,UBc,2,2,"cfc-tree-grid-column",10),_.G(6,"cfc-tree-grid-column",11),_.E(7,XBc,1,1,"ng-template",7),_.I()());a&2&&(a=_.P(),_.F("root",a.root)("columnsConfig",a.columnsConfig)("sortKeys",_.eg(12,YBc))("depthIndent",0)("showFilter",!0)("fillContainerWidth",!0)("useRendererV2",!1),_.z(3),_.F("ngIf",1<a.resources.length),_.z(),_.F("ngIf",ZBc(a)),_.z(),_.F("ngIf",1===a.resources.length),
_.z(),_.F("sortDisabled",!0)("noPadding",!0))},aCc=function(a,b){a&1&&_.J(0,"cfc-iam-panel-resource-permissions",11);a&2&&(a=b.ngIf,b=_.P(),_.F("permissionsState",a)("noSelectedResourcesText",b.noSelectedResourcesText))},cCc=function(a){if(a&1){const b=_.n();_.G(0,"cfc-message",15)(1,"cfc-message-text");_.N(2,2);_.I();_.G(3,"cfc-message-actions")(4,"button",16);_.O("click",function(){_.q(b);const c=_.P(4);return _.u(bCc(c,c.resources))});_.N(5,3);_.I()()()}a&2&&(a=_.P(4),_.z(4),_.F("ve",a.ve.CfcIamPanelErrorRetryButton)("veClick",
!0))},dCc=function(a){a&1&&(_.G(0,"div"),_.E(1,cCc,6,2,"cfc-message",14),_.S(2,"async"),_.I());a&2&&(a=_.P(3),_.z(),_.F("ngIf",_.U(2,1,a.policyMap)!==a.PolicyFetchError.POLICY_NOT_FETCHED_ERROR))},eCc=function(a){a&1&&(_.G(0,"cfc-message",21),_.Of(1,4),_.G(2,"cfc-message-text"),_.J(3,"strong"),_.I(),_.Pf(),_.I())},fCc=function(a){if(a&1){const b=_.n();_.G(0,"div",22)(1,"div",23);_.N(2,5);_.I();_.G(3,"div")(4,"button",24);_.O("click",function(){_.q(b);const c=_.P(5);return _.u(c.openAddMembers())});
_.Of(5,6);_.J(6,"cfc-icon",25);_.Pf();_.I()()()}a&2&&(a=_.P(5),_.z(4),_.F("ve",a.ve.CfcIamPanelAddPrincipalsButton)("veClick",!0))},gCc=function(a){if(a&1){const b=_.n();_.G(0,"div")(1,"mat-slide-toggle",26);_.Ys("ngModelChange",function(c){_.q(b);const d=_.P(5);_.Xs(d.showInheritedPermissions,c)||(d.showInheritedPermissions=c);return _.u(c)});_.N(2,7);_.I()()}a&2&&(a=_.P(5),_.z(),_.Ws("ngModel",a.showInheritedPermissions),_.F("ve",a.ve.CfcIamPanelShowInheritedPermissionsToggle)("veClick",!0))},jCc=
function(a){a&1&&(_.G(0,"section")(1,"cfc-message"),_.Q(2),_.I()());if(a&2){a=_.P(5);_.z(2);let b=hCc.format({MAX_RESOURCES:a.maxResourcesForWrites});1<a.maxResourcesForWrites&&(b+=" "+iCc.format({SURPLUS:a.resources.length-a.maxResourcesForWrites}));_.R(" ",b," ")}},kCc=function(a){if(a&1){const b=_.n();_.G(0,"cfc-iam-members-table",27);_.S(1,"async");_.O("onIamSave",function(){_.q(b);_.P(5).onIamSave.emit();return _.u()});_.I()}if(a&2){let b;a=_.P().ngIf;const c=_.P(4);_.F("roleData",a)("resources",
c.resources)("canEdit",null!==(b=_.U(1,5,c.canEdit))&&void 0!==b?b:!1)("conditionsDisabledTooltip",c.conditionsDisabledTooltip)("showInheritedPermissions",c.showInheritedPermissions)}},lCc=function(a){a&1&&(_.G(0,"div")(1,"cfc-message")(2,"cfc-message-text"),_.Of(3,8),_.J(4,"a",28),_.G(5,"p"),_.J(6,"cfc-extender"),_.I(),_.Pf(),_.I()()());a&2&&(a=_.P(5),_.z(4),_.F("cfcRouterLink",a.iamUrl))},nCc=function(a,b){a&1&&(_.G(0,"div"),_.E(1,eCc,4,0,"cfc-message",18),_.S(2,"async"),_.E(3,fCc,7,2,"div",19),
_.S(4,"async"),_.E(5,gCc,3,3,"div",17)(6,jCc,3,1,"section",17)(7,kCc,2,7,"cfc-iam-members-table",20)(8,lCc,7,1,"div",17),_.I());a&2&&(a=b.ngIf,b=_.P(4),_.z(),_.F("ngIf",!b.hidePublicityWarning&&!0===_.U(2,6,b.showPublicWarning)),_.z(2),_.F("ngIf",b.resources&&b.resources.length&&_.U(4,8,b.canEdit)&&!b.hideAddMembers),_.z(2),_.F("ngIf",!b.allResourcesAreOrganizations),_.z(),_.F("ngIf",0===b.maxResourcesForWrites?!1:b.resources.length>b.maxResourcesForWrites),_.z(),_.F("ngIf",mCc(a)),_.z(),_.F("ngIf",
b.showResourceLevelFootnote))},oCc=function(a){a&1&&(_.E(0,nCc,9,10,"div",17),_.S(1,"async"));a&2&&(a=_.P(3),_.F("ngIf",_.U(1,1,a.policyMap)))},pCc=function(a){a&1&&(_.E(0,dCc,3,3,"div",13),_.S(1,"async"),_.E(2,oCc,2,3,"ng-template",null,1,_.ig));if(a&2){a=_.ag(3);var b=_.P(2);b=_.U(1,2,b.policyMap);_.F("ngIf",null===b?!1:!mCc(b))("ngIfElse",a)}},qCc=function(a){a&1&&(_.G(0,"cfc-loader",12),_.E(1,pCc,4,4,"ng-template",null,0,_.ig),_.I());a&2&&(a=_.P(),_.F("observable",a.policyMap)("renderOnNext",
!0))},rCc=function(a,b){const c=[];_.psc(b).forEach((d,e)=>{const f=_.Dq.get(e).get;e=_.Dq.get(e).set;c.push(a.iamPermissionsService.preFetchPermissions([f,e],d))});return _.$d(c)},tCc=function(a,b){return b.length?{items:b.map(c=>({kind:"label",label:c.getDisplayName(),icon:_.Yzc(c.getResourceType())||"",iconset:a.tooltipIconSet}))}:sCc("Failed to load inheritance.")},sCc=function(a){return{items:[{kind:"label",label:a}]}},uCc=class{constructor(a){this.resourceService=a;this.loadingAncestryText=
"Loading inheritance..."}ngOnInit(){this.breadcrumbModel=this.resource.pipe(_.de(a=>_.Kub(this.resourceService,a).pipe(_.y(b=>tCc(this,b)))),_.Je(a=>"OrgNotFoundError"===a.name?_.w(sCc("Insufficient permissions on ancestor.")):_.w(sCc("Failed to load inheritance."))),_.mf(1))}};uCc.\u0275fac=function(a){return new (a||uCc)(_.A(_.Ov))};
uCc.\u0275cmp=_.m({type:uCc,selectors:[["breadcrumb-overlay"]],inputs:{resource:"resource",tooltipIconType:"tooltipIconType",tooltipIconSet:"tooltipIconSet",tooltipPosition:"tooltipPosition"},decls:4,vars:6,consts:()=>[["breadcrumbTooltip",""]," \ufffd0\ufffd ",["mat-icon-button","","aria-label","Open resource ancestry popup",3,"cfcTooltipRich","cfcTooltipInteractive","cfcTooltipPosition","cfcTooltip"],["size","small",1,"cfc-color-secondary",3,"icon","iconset"],["wrap","true","class","cfc-breadcrumb-overlay",
3,"breadcrumbs",4,"ngIf"],["class","cfc-breadcrumb-overlay-loading",4,"ngIf"],["wrap","true",1,"cfc-breadcrumb-overlay",3,"breadcrumbs"],[1,"cfc-breadcrumb-overlay-loading"]],template:function(a,b){a&1&&(_.E(0,xBc,4,6,"ng-template",null,0,_.ig),_.G(2,"button",2),_.J(3,"cfc-icon",3),_.I());a&2&&(a=_.ag(1),_.z(2),_.F("cfcTooltipRich",!0)("cfcTooltipInteractive",!0)("cfcTooltipPosition",b.tooltipPosition)("cfcTooltip",a),_.z(),_.F("icon",b.tooltipIconType)("iconset",b.tooltipIconSet))},dependencies:[_.dt,
_.SH,_.Bl,_.Uo,_.Qu,_.$t,_.Pu,_.uw,_.Gl],encapsulation:2,changeDetection:0});var vCc=class{};vCc.\u0275fac=function(a){return new (a||vCc)};vCc.\u0275mod=_.ed({type:vCc});vCc.\u0275inj=_.Qc({imports:[_.et,_.VH,_.Hl,_.dp,_.Uu,_.Cn,_.ww]});var wCc=["bulkEditTable"],xCc=()=>["displayName"],yCc=function(a,b){a.resourceRows=b.map(c=>({rowID:`bulkEditResource-${c.getResourceId()}`,displayName:c.getDisplayName(),resourceId:c.getResourceId(),resource:c,inheritanceSource:_.Lxc(a.member,c.getResourceId())}));a.clientTableManager.rows=a.resourceRows},zCc=class{constructor(a,b,c){this.dialogRef=b;this.columnsConfig=[{id:"displayName",accessor:d=>d.resource.getDisplayName()},{id:"inheritanceSource",accessor:d=>d.inheritanceSource?d.inheritanceSource.getResourceId():
""}];this.clientTableManager=c.createTableManager();this.member=a.member;this.roleTitle=a.member.role.title;yCc(this,a.resources)}ngAfterViewInit(){this.setInitialState()}setInitialState(){const a=[],b=[];for(const c of this.resourceRows){let d;this.member.roleSourceMap&&this.member.roleSourceMap.size?d=this.member.roleSourceMap.get(c.resource.getResourceId()):this.member.resources.has(c.resource.getResourceId())&&(d=[c.resource]);d&&(a.push(c),d[0].getResourceId()!==c.resource.getResourceId()&&b.push(c))}a.length&&
this.bulkEditTable.setSelectedFor(a,!0);b.length&&this.bulkEditTable.setDisabledFor(b,!0)}save(){var a=this.resourceRows.filter(c=>!this.bulkEditTable.getViewStateFor(c).disableSelectionControl);const b=a.filter(c=>this.bulkEditTable.getViewStateFor(c).isSelected).map(c=>c.resource);a=a.filter(c=>!this.bulkEditTable.getViewStateFor(c).isSelected).map(c=>c.resource);this.dialogRef.close([this.member,b,a])}};zCc.\u0275fac=function(a){return new (a||zCc)(_.A(_.fo),_.A(_.eo),_.A(_.DA))};
zCc.\u0275cmp=_.m({type:zCc,selectors:[["ng-component"]],viewQuery:function(a,b){a&1&&_.Xf(wCc,7);if(a&2){let c;_.Zf(c=_.$f())&&(b.bulkEditTable=c.first)}},decls:15,vars:11,consts:()=>[["bulkEditTable",""]," Modify permissions\n"," Apply \ufffd0\ufffd role to \ufffd1\ufffd for the selected resources:\n"," Cancel "," Update ",["mat-dialog-title",""],["id","cfctest-iam-panel-bulk-edit-table","selectionMode","multiple","ariaLabel","Resources",3,"columnsConfig","primaryColumnId","disableRowClick","sortKeys",
"showSelectionControls","tableManager","pagination","tableRendererV2"],"id;displayName;header;Resource name;type;string".split(";"),["cfcTableTemplate","","type","body"],"id inheritanceSource header Inheritance type string".split(" "),["mat-dialog-actions",""],"mat-button  color secondary mat-dialog-close ".split(" "),["mat-button","","color","primary",3,"click"],[3,"resource","clickable",4,"ngIf"],[3,"resource","clickable"]],template:function(a,b){if(a&1){const c=_.n();_.G(0,"h1",5);_.N(1,1);_.I();
_.G(2,"p");_.N(3,2);_.I();_.G(4,"cfc-table",6,0)(6,"cfc-table-column",7);_.E(7,yBc,1,1,"ng-template",8);_.I();_.G(8,"cfc-table-column",9);_.E(9,ABc,1,1,"ng-template",8);_.I()();_.G(10,"div",10)(11,"button",11);_.N(12,3);_.I();_.G(13,"button",12);_.O("click",function(){_.q(c);return _.u(b.save())});_.N(14,4);_.I()()}a&2&&(_.z(3),_.Qf(b.roleTitle)(b.member.displayName),_.Rf(3),_.z(),_.F("columnsConfig",b.columnsConfig)("primaryColumnId","displayName")("disableRowClick",!0)("sortKeys",_.eg(10,xCc))("showSelectionControls",
!0)("tableManager",b.clientTableManager)("pagination",!0)("tableRendererV2",!1))},dependencies:[_.Qu,_.Lp,_.Pu,_.Bl,_.gxc,_.Vu,_.ho,_.io,_.NB,_.sB,_.tB,_.PB],styles:[".cfc-iam-bulk-edit-resource-name[_ngcontent-%COMP%]{display:inline-block;width:256px!important}"]});var ACc=class{};ACc.\u0275fac=function(a){return new (a||ACc)};ACc.\u0275mod=_.ed({type:ACc});ACc.\u0275inj=_.Qc({imports:[_.Uu,_.Hl,_.DH,_.uo,_.SB]});var BCc=class{constructor(a){this.crmResourceService=a;this.inheritedResourceCount=this.loneInheritanceSource=this.iconType=null;this.genericInheritanceTooltip="Inherited from a parent resource."}ngOnInit(){this.iconType=tBc(this.member);if("cloud-products"===this.iconType)this.loneInheritanceSource=null;else if(1===this.member.resources.size){const a=_.Lxc(this.member,this.member.resources.values().next().value);this.loneInheritanceSource=a?this.crmResourceService.getResource({id:a.getResourceId(),
type:a.getResourceType()}).pipe(_.oe(b=>!!b),_.y(b=>b)):null}else this.inheritedResourceCount=uBc(this.member)}};BCc.\u0275fac=function(a){return new (a||BCc)(_.A(_.Ov))};
BCc.\u0275cmp=_.m({type:BCc,selectors:[["cfc-iam-inheritance-icon"]],inputs:{member:"member"},decls:4,vars:3,consts:()=>["\ufffd#2\ufffd\ufffd/#2\ufffd \ufffd0\ufffd of \ufffd1\ufffd ",[1,"cfctest-iam-inheritance-icon"],["tooltipPosition","right","tooltipIconSet","iam","class","cfc-rich-breadcrumb",3,"tooltipIconType","resource",4,"ngIf"],["iconset","iam","iconClass","cfctest-generic-inheritance-icon","size","small","tooltipPosition","left",3,"icon","tooltip","interactiveTooltip",4,"ngIf"],["class",
"cfc-italic-font",4,"ngIf"],["tooltipPosition","right","tooltipIconSet","iam",1,"cfc-rich-breadcrumb",3,"tooltipIconType","resource"],["iconset","iam","iconClass","cfctest-generic-inheritance-icon","size","small","tooltipPosition","left",3,"icon","tooltip","interactiveTooltip"],[1,"cfc-italic-font"],["iconset","iam","size","small",3,"icon"]],template:function(a,b){a&1&&(_.G(0,"span",1),_.E(1,BBc,1,2,"breadcrumb-overlay",2)(2,CBc,1,3,"cfc-icon-tooltip-for-table",3)(3,DBc,3,3,"span",4),_.I());a&2&&
(_.z(),_.F("ngIf",b.loneInheritanceSource),_.z(),_.F("ngIf",!b.loneInheritanceSource&&!!b.iconType&&!b.inheritedResourceCount),_.z(),_.F("ngIf",!!b.inheritedResourceCount))},dependencies:[uCc,_.Bl,_.Uo,_.nBc],encapsulation:2});var CCc=class{};CCc.\u0275fac=function(a){return new (a||CCc)};CCc.\u0275mod=_.ed({type:CCc});CCc.\u0275inj=_.Qc({imports:[vCc,_.Hl,_.dp,_.pBc]});var DCc=new _.Wp('Removing principal "{MEMBER}" from all policies on resource "{RESOURCE}"'),ECc=new _.Wp('Principal "{MEMBER}" successfully removed from all policies on resource "{RESOURCE}"'),FCc=new _.Wp('Removing principal "{MEMBER}" from role "{ROLE}" on resource "{RESOURCE}"'),GCc=new _.Wp('Principal "{MEMBER}" successfully removed from role "{ROLE}" on resource "{RESOURCE}"'),HCc=class{constructor(){this.onRemoveSuccess=new _.jl;this.inherited=!1}ngOnInit(){this.condition=this.member.condition;
if(this.member.roleSourceMap){const a=this.member.roleSourceMap.values().next().value||null;this.inherited=a&&!this.member.resources.has(a[0].getResourceId())}}};HCc.\u0275fac=function(a){return new (a||HCc)};
HCc.\u0275cmp=_.m({type:HCc,selectors:[["cfc-iam-remove-button-role-member"]],inputs:{member:"member",resource:"resource",oneOwner:"oneOwner"},outputs:{onRemoveSuccess:"onRemoveSuccess"},decls:1,vars:7,consts:[[3,"onRemoveSuccess","member","role","invitee","resource","inherited","oneOwner","condition"]],template:function(a,b){a&1&&(_.G(0,"cfc-iam-remove-button",0),_.O("onRemoveSuccess",function(){b.onRemoveSuccess.emit()}),_.I());a&2&&_.F("member",b.member)("role",b.member.role)("invitee",b.member.invitee)("resource",
b.resource)("inherited",b.inherited)("oneOwner",b.oneOwner)("condition",b.condition)},dependencies:()=>[ICc],encapsulation:2});
var KCc=function(a){return JCc(a).pipe(_.qf(([,b])=>b?a.removeMemberFromAllRoles():a.removeMember()),_.tf({next:()=>{a.onRemoveSuccess.emit()},error:b=>{a.iamErrorService.showErrorMessage(b)}}),_.qf(()=>_.hl),_.Je(()=>_.Re))},JCc=function(a){return _.ge(()=>a.dialogService.open(_.myc,{data:{memberName:a.member.displayName,roleTitle:_.cF(a.role)}}).afterClosed().pipe(_.oe(_.Yw),_.oe(([b])=>b)))},ICc=class{constructor(a,b,c,d,e){this.dialogService=a;this.iamActionService=b;this.iamErrorService=c;this.purviewService=
d;this.snackBar=e;this.onRemoveSuccess=new _.jl;this.oneOwnerInternal=!1;this.updatePermission="";this.boundOnDeleteClickHandler=()=>KCc(this)}ngOnChanges(){this.updatePermission=_.Dq.get(this.resource.getResourceType()).set;this.oneOwner&&"roles/owner"===this.role.name?this.purviewService.latestPurviewObservable.pipe(_.Se(1)).subscribe(a=>{this.oneOwnerInternal=!a.currentOrganization&&2===this.member.type&&!this.invitee}):this.oneOwnerInternal=!1}removeMember(){return _.ge(()=>{const a={MEMBER:this.member.displayName,
ROLE:_.cF(this.role),RESOURCE:this.resource.getDisplayName()||this.resource.getResourceId()},b=(new _.wv).removeMember(this.role.name,this.member.iamMember,this.condition);this.snackBar.open(FCc.format(a));return _.CC(this.iamActionService,[this.resource],b).pipe(_.tf(()=>{this.snackBar.open(GCc.format(a))}))})}removeMemberFromAllRoles(){return _.ge(()=>{const a={MEMBER:this.member.displayName,RESOURCE:this.resource.getResourceId()};this.snackBar.open(DCc.format(a));const b=(new _.wv).removeMemberFromAllRoles(this.member.iamMember);
return _.CC(this.iamActionService,[this.resource],b).pipe(_.tf(()=>{this.snackBar.open(ECc.format(a))}))})}isDisabled(){return!(!this.oneOwnerInternal&&!this.inherited)}getDisabledMessage(){return this.inherited?"Principal is inherited from another policy and cannot be deleted.":this.oneOwnerInternal?"Projects need at least one owner. To remove the current owner, add another owner first.":null}get removeButtonTooltip(){return _.Jy("Remove principal {principalName}",{principalName:this.member.displayName})}};
ICc.\u0275fac=function(a){return new (a||ICc)(_.A(_.go),_.A(_.Bv),_.A(_.QG),_.A(_.Uv),_.A(_.vC))};
ICc.\u0275cmp=_.m({type:ICc,selectors:[["cfc-iam-remove-button"]],inputs:{oneOwner:"oneOwner",role:"role",member:"member",condition:"condition",resource:"resource",inherited:"inherited",invitee:"invitee"},outputs:{onRemoveSuccess:"onRemoveSuccess"},features:[_.od],decls:3,vars:6,consts:[["size","small"],["mat-icon-button","",1,"cfc-button-small",3,"cfcIamCheck","cfcIamResource","cfcDisable","cfcDisableTooltip","cfcTooltip","cfcProgressButtonClick"],["icon","delete","size","small"]],template:function(a,
b){a&1&&(_.G(0,"cfc-progress-button",0)(1,"button",1),_.J(2,"cfc-icon",2),_.I()());a&2&&(_.z(),_.F("cfcIamCheck",b.updatePermission)("cfcIamResource",b.resource)("cfcDisable",b.isDisabled())("cfcDisableTooltip",b.getDisabledMessage())("cfcTooltip",b.removeButtonTooltip)("cfcProgressButtonClick",b.boundOnDeleteClickHandler))},dependencies:[_.Qu,_.$t,_.Pu,_.Gz,_.FC,_.Uo,_.Dx,_.Cx,_.uw],encapsulation:2});var LCc=class{};LCc.\u0275fac=function(a){return new (a||LCc)};LCc.\u0275mod=_.ed({type:LCc});
LCc.\u0275inj=_.Qc({imports:[_.Uu,_.Pz,_.GC,_.dp,_.uo,_.Rz,_.nyc,_.jF,_.ww]});var YBc=()=>["displayName"],MCc=class{transform(a){return _.Jy("Edit principal {principalName}",{principalName:a})}};MCc.\u0275fac=function(a){return new (a||MCc)};MCc.\u0275pipe=_.hd({name:"editButtonTooltip",type:MCc,pure:!0});
var IBc=function(a,b){a.dialogService.open(zCc,{data:{member:b,resources:a.resources}}).afterClosed().subscribe(c=>{c&&NCc(a,c[0],c[1],c[2])})},RBc=function(a){return a.roleData&&a.roleData.has("roles/owner")&&1===a.resources.length&&0===a.resources[0].getResourceType()?2>a.roleData.get("roles/owner").filter(b=>!b.invitee).length:!1},VBc=function(a,b){a.analyticsService.sendEvent({type:"iamPanelMembersTable",name:"editMemberClicked"});1<a.resources.length?IBc(a,b):(b={resource:a.resources[0],resourceLabel:_.hxc(a.resources[0].getResourceType()),
member:b,conditionsDisabledTooltip:a.conditionsDisabledTooltip},a.subtaskService.open(_.kyc,{id:"PanelComponent",width:850,data:b}).onAccept.pipe(_.B(a.destroy)).subscribe(()=>{a.onIamSave.emit()}))},ZBc=function(a){if(!a.showInheritedPermissionsInternal||!a.roleDataInternal)return!1;for(const [,b]of a.roleDataInternal)if(b.some(c=>!!tBc(c)))return!0;return!1},NCc=function(a,b,c,d){var e=new _.wv;e.addMembers(b.role.name,[b.iamMember],b.condition);c=_.CC(a.iamActionService,c,e);e=new _.wv;e.removeMember(b.role.name,
b.iamMember,b.condition);b=_.CC(a.iamActionService,d,e);_.$d([c,b]).subscribe(([f,g])=>{0===f.size&&0===g.size?a.errorService.showErrorSnackBar({},"Policies not updated - no changes found."):(a.snackBar.open("The permissions have been updated."),a.onIamSave.emit())},f=>{const g=_.Bub(a.iamErrorService,f);a.errorService.showErrorDialog(f,"Modify permissions",`<p>${"Some or all of your updates have encountered errors. Please try again."}</p><p>${g.body}</p>`);throw Error(f.message);})},OCc=class{set roleData(a){this.roleDataInternal=
a;this.generateTree()}get roleData(){return this.roleDataInternal}set showInheritedPermissions(a){this.showInheritedPermissionsInternal=a;this.generateTree()}constructor(a,b,c,d,e,f,g){this.analyticsService=a;this.iamErrorService=b;this.errorService=c;this.dialogService=d;this.iamActionService=e;this.snackBar=f;this.subtaskService=g;this.roleDataInternal=new Map;this.showInheritedPermissionsInternal=!1;this.onIamSave=new _.jl;this.root=_.NXb();this.columnsConfig=[{id:"displayName",accessor:l=>l.condition&&
!this.isRoleMemberNode(l)?`${l.displayName} condition:${l.condition.displayName}`:l.displayName},{id:"inherited",accessor:l=>l.roleSourceMap},{id:"remove",accessor:()=>{}},{id:"edit",accessor:()=>{}},{id:"appliesTo",accessor:()=>{}}];this.destroy=new _.kf}ngOnInit(){}ngOnDestroy(){this.destroy.next()}isRoleMemberNode(a){return!a.children.length}generateTree(){const a=[];if(this.roleDataInternal)for(let b of this.roleDataInternal.values())if(this.showInheritedPermissionsInternal||(b=b.filter(c=>c.resources.size>
uBc(c))),b.length){const c=b.map(d=>this.getMemberNode(d));a.push(this.getRoleNode(c[0].role,c,c[0].condition))}this.root=this.getRootNode(a);setTimeout(()=>{if(this.treeGrid)for(const d of this.root.children)if(d.displayName){var b=this.treeGrid.containedTable.getViewStateFor(d),c=[{columnId:"displayName",columnSpan:4}];b.colIdToSpanMap.clear();for(const e of c)b.colIdToSpanMap.set(e.columnId,e);b.colSpansChange.next();b.onChange.next()}},0)}getMemberNode(a){return Object.assign({},{kind:"node",
hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:`node-${a.iamMember}-${a.role.name}`,children:new _.xC([]),inheritanceIcon:tBc(a)},a)}getRoleNode(a,b,c){return{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:`node-${a.name}`+(c?c.displayName:""),children:new _.xC(b),displayName:_.cF(a),condition:b[0].condition}}getRootNode(a){return{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:"node-root",children:new _.xC(a)}}onRemoveSuccess(){this.onIamSave.emit()}};
OCc.\u0275fac=function(a){return new (a||OCc)(_.A(_.gn),_.A(_.QG),_.A(_.lv),_.A(_.to),_.A(_.Bv),_.A(_.vC),_.A(_.LD))};
OCc.\u0275cmp=_.m({type:OCc,selectors:[["cfc-iam-members-table"]],viewQuery:function(a,b){a&1&&_.Xf(_.QC,5);if(a&2){let c;_.Zf(c=_.$f())&&(b.treeGrid=c.first)}},inputs:{canEdit:"canEdit",resources:"resources",roleData:"roleData",conditionsDisabledTooltip:"conditionsDisabledTooltip",showInheritedPermissions:"showInheritedPermissions"},outputs:{onIamSave:"onIamSave"},decls:1,vars:1,consts:()=>[["cannotEdit",""]," condition:\ufffd0\ufffd "," \ufffd0\ufffd of \ufffd1\ufffd "," \ufffd0\ufffd of \ufffd1\ufffd ",
["ariaLabel","Permissions",3,"root","columnsConfig","sortKeys","depthIndent","showFilter","fillContainerWidth","useRendererV2",4,"ngIf"],["ariaLabel","Permissions",3,"root","columnsConfig","sortKeys","depthIndent","showFilter","fillContainerWidth","useRendererV2"],"id;displayName;header;Role / Principal;type;string".split(";"),["cfcTreeGridTemplate","","type","body"],["id","appliesTo","header","Applies to","type","non_filterable",3,"sortDisabled",4,"ngIf"],["id","inherited","header","Inheritance",
"type","non_filterable",3,"sortDisabled",4,"ngIf"],["id","remove","header","","ariaLabel","Remove","type","non_filterable",3,"sortDisabled","noPadding",4,"ngIf"],["id","edit","header","","ariaLabel","Edit principal","type","non_filterable",3,"sortDisabled","noPadding"],[1,"cfc-iam-members-table-display-name-cell"],["class","cfc-font-weight-medium",4,"ngIf"],["class","cfc-iam-members-table-icon-name-cell",3,"rolePrincipal",4,"ngIf"],[1,"cfc-font-weight-medium"],["class","cfc-font-weight-medium cfctest-iam-conditions-dialog-link",
3,"click",4,"ngIf"],[1,"cfc-font-weight-medium","cfctest-iam-conditions-dialog-link",3,"click"],[1,"cfc-iam-members-table-icon-name-cell",3,"rolePrincipal"],["id","appliesTo","header","Applies to","type","non_filterable",3,"sortDisabled"],[4,"ngIf"],["class","cfctest-iam-resource-count","tabindex","0",3,"click","keydown.enter",4,"ngIf","ngIfElse"],["tabindex","0",1,"cfctest-iam-resource-count",3,"click","keydown.enter"],["id","inherited","header","Inheritance","type","non_filterable",3,"sortDisabled"],
[3,"member",4,"ngIf"],[3,"member"],["id","remove","header","","ariaLabel","Remove","type","non_filterable",3,"sortDisabled","noPadding"],[3,"member","resource","oneOwner","onRemoveSuccess",4,"ngIf"],[3,"onRemoveSuccess","member","resource","oneOwner"],["mat-icon-button","","class","cfc-button-small cfctest-iam-members-table-edit-button",3,"cfcTooltip","cfcDisable","cfcDisableTooltip","click",4,"ngIf"],["mat-icon-button","",1,"cfc-button-small","cfctest-iam-members-table-edit-button",3,"click","cfcTooltip",
"cfcDisable","cfcDisableTooltip"],["icon","edit","size","small"]],template:function(a,b){a&1&&_.E(0,$Bc,8,13,"cfc-tree-grid",4);a&2&&_.F("ngIf",b.root)},dependencies:[_.dt,_.Qu,_.$t,_.Pu,_.Bl,_.Gz,_.Uo,BCc,HCc,_.vyc,_.uw,_.QC,_.PC,_.OC,MCc],styles:[".cfc-iam-members-table-display-name-cell[_ngcontent-%COMP%]{display:inline-block;white-space:normal;word-break:break-word}.cfc-iam-members-table-icon-name-cell[_ngcontent-%COMP%]{display:inline-flex}"],changeDetection:0});var hCc=new _.Wp("{MAX_RESOURCES, plural, =1 {To make changes, select only one resource.}other {You can make changes to a maximum of {MAX_RESOURCES} resources at a time.}}"),iCc=new _.Wp("To make changes, deselect {SURPLUS, plural, =1 {a resource} other {{SURPLUS} resources}}."),PCc={UNHANDLED_ERROR:1,POLICY_NOT_FETCHED_ERROR:2,1:"UNHANDLED_ERROR",2:"POLICY_NOT_FETCHED_ERROR"},bCc=function(a,b){b.some(e=>!e.getFullResourcePath())&&b.find(e=>!e.getFullResourcePath());a.allResourcesAreOrganizations=
b.every(e=>2===e.getResourceType());if(b.length){var c=rCc(a.policyService,b).pipe(_.y(()=>{var e=a.policyService;const f={readWriteResources:[],readOnlyResources:[],forbiddenResources:[]};for(const g of b){const l=_.Dq.get(g.getResourceType()).get,p=_.Dq.get(g.getResourceType()).set;_.xXb(e.iamPermissionsService,l,g)?f.forbiddenResources.push(g):_.xXb(e.iamPermissionsService,p,g)?f.readOnlyResources.push(g):f.readWriteResources.push(g)}return f}),_.mf(1));a.permissionsState=c.pipe(_.y(e=>(new _.Lzc(e.readWriteResources,
e.readOnlyResources,e.forbiddenResources)).build()),_.mf(1));a.canEdit=c.pipe(_.y(e=>{var f=e.readOnlyResources,g=e.forbiddenResources;return!_.$b(e.readWriteResources)&&_.$b(f)&&_.$b(g)&&!(0===a.maxResourcesForWrites?0:a.resources.length>a.maxResourcesForWrites)}),_.mf(1));var d=!a.forceVisibilityChecks;a.policyMap=c.pipe(_.qf(e=>{const f=new Set(e.forbiddenResources.map(g=>g.getResourceId()));e=b.filter(g=>!f.has(g.getResourceId()));return 0===e.length?_.w(2):a.policyService.generateRoleMap(e,{skipVisibilityCheck:d})}),
_.Je(()=>_.w(1)));a.showPublicWarning=a.policyMap.pipe(_.y(e=>1===a.resources.length&&mCc(e)?!!Array.from(e.values()).find(f=>!!f.find(g=>1===g.type||6===g.type)):!1))}else QCc(a)},mCc=function(a){return null===a?!1:!(1===a||2===a)},QCc=function(a){a.policyMap=null;a.permissionsState=_.w((new _.Lzc).build())},RCc=class{constructor(a,b,c,d,e,f){this.addMembersSubtaskService=a;this.analyticsService=b;this.changeDetectorRef=c;this.policyService=d;this.viewContainerRef=e;this.logger=null;this.resources=
[];this.forceVisibilityChecks=this.hidePublicityWarning=this.hideAddMembers=!1;this.eventType="iamPanel";this.showResourceLevelFootnote=!1;this.maxResourcesForWrites=0;this.onIamSave=new _.jl;this.allResourcesAreOrganizations=!1;this.permissionsState=_.w((new _.Lzc).build());this.showPublicWarning=_.w(!1);this.policyMap=null;this.canEdit=_.w(!1);this.showInheritedPermissions=!0;this.destroy=new _.kf;this.ve={CfcIamPanelErrorRetryButton:156620,CfcIamPanelAddPrincipalsButton:156619,CfcIamPanelShowInheritedPermissionsToggle:156621};
this.PolicyFetchError=PCc;this.iamUrl=_.rBc.create().link().build();f.registerIconset("iam","small",18)}ngOnInit(){this.analyticsService.sendEvent({type:this.eventType,name:"panelOpened",metadata:{resourceCount:String(this.resources.length)}})}ngOnChanges(a){a.resources&&(a.forceVisibilityChecks&&(this.forceVisibilityChecks=!!a.forceVisibilityChecks.currentValue),bCc(this,a.resources.currentValue),this.changeDetectorRef.markForCheck())}ngOnDestroy(){this.destroy.next()}openAddMembers(){this.analyticsService.sendEvent({type:this.eventType,
name:"addMembersClicked"});this.addMembersSubtaskService.open({conditionsDisabledTooltip:this.conditionsDisabledTooltip,resources:this.resources},{viewContainerRef:this.viewContainerRef}).pipe(_.B(this.destroy)).subscribe(()=>{this.onIamSave.emit()})}};RCc.\u0275fac=function(a){return new (a||RCc)(_.A(_.Vxc),_.A(_.gn),_.A(_.rl),_.A(_.VG),_.A(_.Vf),_.A(_.cp))};
RCc.\u0275cmp=_.m({type:RCc,selectors:[["cfc-iam-panel-complete"]],inputs:{resources:"resources",conditionsDisabledTooltip:"conditionsDisabledTooltip",hideAddMembers:"hideAddMembers",hidePublicityWarning:"hidePublicityWarning",forceVisibilityChecks:"forceVisibilityChecks",eventType:"eventType",showResourceLevelFootnote:"showResourceLevelFootnote",maxResourcesForWrites:"maxResourcesForWrites",noSelectedResourcesText:"noSelectedResourcesText"},outputs:{onIamSave:"onIamSave"},features:[_.od],ngContentSelectors:["*"],
decls:4,vars:4,consts:()=>[["content",""],["noError",""]," Error loading permissions for selected resources. "," Retry ",'\ufffd#2\ufffd This resource is \ufffd#3\ufffdpublic and can be accessed by anyone on the internet\ufffd/#3\ufffd. To remove public access, remove "allUsers" and "allAuthenticatedUsers" from the resource\'s principals. \ufffd/#2\ufffd',' Edit or delete permissions below, or select "Add Principal" to grant new access. ',"\ufffd#6\ufffd\ufffd/#6\ufffd Add Principal "," Show inherited permissions ",
" Principals listed on your project\u2019s IAM permissions page may also have access to this resource. \ufffd#4\ufffdView principals\ufffd/#4\ufffd\ufffd#5\ufffd\ufffd#6\ufffd Project Owners, Project Editors, and other IAM roles can give principals general access to your resources, including this one. If you add a principal via your project\u2019s IAM page, it will not be shown here, even if the principal has access. \ufffd/#6\ufffd\ufffd/#5\ufffd",[3,"permissionsState","noSelectedResourcesText",
4,"ngIf"],[3,"observable","renderOnNext",4,"ngIf"],[3,"permissionsState","noSelectedResourcesText"],[3,"observable","renderOnNext"],[4,"ngIf","ngIfElse"],["class","cfctest-iam-panel-error-message","type","error",4,"ngIf"],["type","error",1,"cfctest-iam-panel-error-message"],["mat-raised-button","",1,"cfctest-iam-panel-error-retry-button",3,"click","ve","veClick"],[4,"ngIf"],["class","cfctest-all-user-warning","type","warning",4,"ngIf"],["class","cfc-iam-panel-add-member-section cfc-space-below-minus-3",
4,"ngIf"],[3,"roleData","resources","canEdit","conditionsDisabledTooltip","showInheritedPermissions","onIamSave",4,"ngIf"],["type","warning",1,"cfctest-all-user-warning"],[1,"cfc-iam-panel-add-member-section","cfc-space-below-minus-3"],[1,"cfc-iam-panel-info-text","cfc-text-caption"],["mat-raised-button","","aria-label","Add Principal",1,"cfctest-iam-panel-add-members-button",3,"click","ve","veClick"],"iconset iam icon person-add size small".split(" "),["name","inheritedPermissions",1,"cfctest-iam-panel-show-inherited",
3,"ngModelChange","ngModel","ve","veClick"],[3,"onIamSave","roleData","resources","canEdit","conditionsDisabledTooltip","showInheritedPermissions"],[3,"cfcRouterLink"]],template:function(a,b){a&1&&(_.Sf(),_.Tf(0),_.E(1,aCc,1,2,"cfc-iam-panel-resource-permissions",9),_.S(2,"async"),_.E(3,qCc,3,2,"cfc-loader",10));a&2&&(_.z(),_.F("ngIf",_.U(2,2,b.permissionsState)),_.z(2),_.F("ngIf",b.policyMap))},dependencies:[_.dt,_.at,_.Qu,_.Lp,_.Pu,_.Bl,_.fv,_.ly,_.ou,OCc,_.Uo,_.$E,_.Vo,_.Lu,_.Wo,_.Mzc,_.nB,_.oB,
_.Bz,_.cw,_.Gl],styles:[".cfc-iam-panel-add-member-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.cfc-iam-panel-info-text[_ngcontent-%COMP%]{margin-right:12px}cfc-iam-members-table[_ngcontent-%COMP%]{position:relative;top:24px}"],changeDetection:0});var SCc=class{};SCc.\u0275fac=function(a){return new (a||SCc)};SCc.\u0275mod=_.ed({type:SCc});SCc.\u0275inj=_.Qc({imports:[_.et,ACc,_.Uu,_.Hl,_.qyc,_.Pz,_.EH,_.dp,CCc,_.uo,_.OG,LCc,_.wyc,_.jF,_.ww,_.RC,_.FH]});var TCc=class{};TCc.\u0275fac=function(a){return new (a||TCc)};TCc.\u0275mod=_.ed({type:TCc,id:"pm_iam_panel_complete"});TCc.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{IamPanelComplete:RCc}}],imports:[_.sH,_.et,_.Uu,_.Hl,_.up,_.gv,_.Hu,SCc,_.dp,_.aF,_.ep,_.Nzc,_.WG,_.Ez,_.dw,_.rF]});_.xf(TCc,"pm_iam_panel_complete");
_.Jg();
}catch(e){_._DumpException(e)}
try{
_.Ig("pm_labels_module");

_.Jg();
}catch(e){_._DumpException(e)}
try{
var dlh,elh,flh,glh,hlh,ilh,jlh,klh,llh,mlh,nlh,olh,plh,qlh,rlh,slh,tlh,ulh,vlh,I3,xlh,ylh,zlh,Alh,Blh,Clh,Dlh,Hlh,Glh,Klh,Llh,Mlh,Nlh,Olh,Plh,Qlh,Rlh,Slh,Tlh,Ulh,Wlh,Xlh,Zlh,$lh,amh,bmh,cmh,dmh,fmh,jmh,kmh,lmh,mmh,nmh,omh,qmh,rmh,smh,tmh,umh,vmh,wmh,xmh,ymh,zmh,Amh,Bmh,Cmh,Dmh,Emh,Fmh,Gmh,Hmh,Imh,Jmh,Kmh,Lmh,Mmh,Nmh,Omh,Pmh,Qmh,Rmh,Smh,Tmh,Umh,Vmh,Wmh,Xmh,Ymh,Zmh,$mh,anh,bnh,dnh,enh,fnh,gnh,hnh,inh,jnh,knh,lnh,mnh,nnh,onh,pnh,qnh,rnh,snh,tnh,unh;
dlh=function(a,b){a&1&&_.J(0,"cfc-breadcrumbs",3);a&2&&_.F("breadcrumbs",b.ngIf)("wrap",!0)};elh=function(a){a&1&&(_.E(0,dlh,1,2,"cfc-breadcrumbs",2),_.S(1,"async"));a&2&&(a=_.P(),_.F("ngIf",_.U(1,1,a.breadcrumbs$)))};flh=function(a){var b=a.getDisplayName(),c=_.Yzc(a.getResourceType());a=a.getResourceType();let d;a=(null==(d=_.di.get(a))?void 0:d.iconset)||"iam";return{kind:"label",label:b,icon:c,iconset:a}};
glh=function(a){a&1&&_.J(0,"resource-ancestry-breadcrumbs",2);a&2&&(a=_.P(),_.F("resource",a.resource))};hlh=function(a){a&1&&_.J(0,"cfc-ancestry-breadcrumb-tooltip",2);a&2&&(a=_.P(2),_.F("resource",a.resource))};
ilh=function(a){a&1&&(_.G(0,"span",3),_.J(1,"cfc-resource-icon",4),_.Q(2),_.I(),_.E(3,hlh,1,1,"cfc-ancestry-breadcrumb-tooltip",5),_.S(4,"canFetchAncestry"));a&2&&(a=_.P(),_.z(),_.F("resourceType",a.resource.getResourceType()),_.z(),_.R(" ",a.resource.getDisplayName()," "),_.z(),_.F("ngIf",_.U(4,3,a.resource)))};jlh=function(a){switch(a){case 2:return 0;case 0:return 1;default:_.rc(a,"invalid tag key parent resource type")}};
klh=function(a){var b={keyParentTypeSortOrder:1};return(c,d)=>{c=a(c);d=a(d);var e;a:switch(null!=(e=null==b?void 0:b.keyParentTypeSortOrder)?e:0){case 1:e=jlh(c.keyParentType)-jlh(d.keyParentType);break a;case 2:e=jlh(d.keyParentType)-jlh(c.keyParentType);break a;default:e=0}return e||c.keyParentDisplayName.localeCompare(d.keyParentDisplayName)}};
llh=function(a){switch(a.tagFormGroupType){case 0:let b;return null==(b=_.p_(a).value)?void 0:b.name;case 1:case 2:break;default:_.rc(a.tagFormGroupType,"Invalid tag form group type")}};mlh=function(a){return a.map(llh).filter(b=>!!b).map(b=>b)};nlh=function(a){return"type"in a&&"resourceWithLocation"===a.type};_.H3=function(a){return nlh(a)?a.resource:a};
olh=function(a){let b;a=_.uh(null!=(b=a.details)?b:[]);if("cloudconsole-pa.googleapis.com/tags"===a.domain)switch(a.reason){case "INVALID_PARAMETERS":return"The tag value is invalid.";case "PERMISSION_DENIED":return"Insufficient permission to update the tags attached to the resource.";case "RESOURCE_ALREADY_EXISTS":return"The tag is already attached to the resource.";case "RESOURCE_NOT_FOUND":return"The tag is not attached to the resource.";case "TAG_BINDING_DUPLICATE_TAG_KEY":return"The resource has a tag attached with the same tag key.";
case "TAG_BINDING_LIMIT_REACHED":return"The tag could not be attached since the maximum number of attached tags allowed on the resource has been reached.";case "PURPOSE_FOR_COMPUTE_INSTANCE_ONLY":return"Only Compute instances can be bound to tags with a purpose."}return"Unable to update attached tags."};plh=function(a){a=a.map(({key:b,value:c})=>_.Yw(b)&&_.Yw(c)?[b,c]:void 0).filter(_.Yw);return new Map(a)};
qlh=function(a){const b=new Map;for(const c of a){a=c.location;const d=c.parent;b.has(d)||b.set(d,{parent:d,location:a})}return b};rlh=function(a){a=_.H3(a.resource);return{resourceName:a.getDisplayName(),resourceTypeName:_.LXb(a.getResourceType())}};slh=function(a){switch(a.getResourceType()){case 2:return-3;case 43:return-2;case 0:return-1;default:return a.getResourceType()}};
tlh=function(a,b){a&1&&(_.G(0,"dd"),_.J(1,"resource-display",8),_.I());a&2&&(a=b.$implicit,_.Ff("cfc-space-below-base",!b.last),_.z(),_.F("resource",a)("inlineAncestry",!0))};ulh=function(a){a&1&&(_.G(0,"dl",6)(1,"div")(2,"dt"),_.N(3,2),_.I(),_.E(4,tlh,2,4,"dd",7),_.S(5,"sortByTypeAndDisplayName"),_.I()());a&2&&(a=_.P(),_.F("byline",!0),_.z(4),_.F("ngForOf",_.U(5,2,a.appliedResources)))};vlh=function(a){return[...a].filter(([,b])=>b.some(c=>"response"===c.result)).map(([b])=>b)};
I3=function(a){var b=_.H3(a);const c=nlh(a)?a.location:a.tagBindingsLocation;a=b.getFullResourcePath();if(c)return{parent:a,location:c};b=wlh.exec(b.getResourceId());return null!==b&&null!==b[1]?{parent:a,location:b[1]}:{parent:a}};xlh=function(a){const b=a.parent;return a.location?`${b} ${a.location}`:b};
ylh=function(a){var b=d=>{let e;return`${null==(e=d.effectiveTagWithResource.effectiveTag.value)?void 0:e.name} isInherited:${d.effectiveTagWithResource.effectiveTag.inherited}`};const c=new Map;for(const d of a)a=b(d),c.has(a)||c.set(a,[]),c.get(a).push(d);b=[];for(const d of c.values())b.push({effectiveTag:d[0].effectiveTagWithResource.effectiveTag,canDeleteTagValue:d[0].canDeleteTagValue,canCreateTagValue:d[0].canCreateTagValue,resources:d.map(e=>e.effectiveTagWithResource.resource)});return b};
zlh=function(a,b){const c=new Set(a.resources.map(d=>xlh(I3(d.resource))));b=b.filter(d=>!c.has(xlh(I3(d))));return{aggregatedEffectiveTag:a,unboundResources:b}};Alh=function(a){a=a.aggregatedEffectiveTag.effectiveTag;const b=a.key;return{keyShortName:b.shortName,valueShortName:a.value.shortName,keyName:b.name,isInherited:a.inherited}};Blh=function(){return klh(a=>a)};
Clh=function(a){let b;return{name:a.name,shortName:a.shortName,namespacedName:a.namespacedName,description:a.description,purpose:a.purpose,purposeData:null!=(b=null==a?void 0:a.purposeData)?b:[]}};Dlh=function(a){return{name:a.name,shortName:a.shortName,namespacedName:a.namespacedName,description:a.description}};Hlh=function(a){return 0<a.unboundResources.length?new Elh:0<a.aggregatedEffectiveTag.resources.filter(b=>!b.canCreateBindings).length?new Flh(a.aggregatedEffectiveTag.resources):Glh(a.aggregatedEffectiveTag)};
Glh=function(a){if(0<a.resources.filter(b=>!b.canDeleteBindings).length)return new Ilh(a.resources);if(!a.canDeleteTagValue)return new Jlh};Klh=function(a){const b=Hlh(a);return new _.Hxf({tagKeyParent:_.Uvd(a.aggregatedEffectiveTag.effectiveTag.key.parent),tagKeyDropdownReadonlyReason:b},Clh(a.aggregatedEffectiveTag.effectiveTag.key))};
Llh=function(a){const b=Hlh(a),c=a.aggregatedEffectiveTag.effectiveTag.key;a=a.aggregatedEffectiveTag.effectiveTag.value;let d;return new _.hxf({tagKeyId:null==(d=_.Vfc(c.name))?void 0:d.resourceId,tagKeyNamespacedName:c.namespacedName,tagValueDropdownReadonlyReason:b},Dlh(a))};Mlh=function(a){return new _.Gxf({metadata:{boundResources:a.aggregatedEffectiveTag.resources.map(b=>b.resource),unboundResources:a.unboundResources},deleteDisabledReason:Glh(a.aggregatedEffectiveTag)},Klh(a),Llh(a))};
Nlh=function(a,b){const c=new Set(b.map(d=>d.pairId));return a.filter(d=>!c.has(d.pairId))};Olh=function(a){return a.map(b=>{const c=b.metadata.boundResources,d=_.o_(_.n_(b));return c.map(e=>({tagValueName:d,resource:e,pairId:`${d} ${xlh(I3(e))}`}))}).flat().filter(b=>void 0!==b).map(b=>b)};
Plh=function(a){switch(a.tagFormGroupType){case 0:const b=_.m_(a).value;return b&&b.name?{name:b.name,shortNameRepresentation:_.kxf(a)}:void 0;case 1:return(a=_.o_(_.n_(a)))?{name:a}:void 0;case 2:break;default:_.rc(a.tagFormGroupType,"Invalid tag form group type")}};
Qlh=function(a,b){function c(f){const g=new Map;for(const l of f){let p;g.set(l.tagValueName,null!=(p=g.get(l.tagValueName))?p:[]);g.get(l.tagValueName).push(l)}return g}function d(f){return[...c(f)].map(([g,l])=>({tagValue:e.get(g),resources:l.map(p=>p.resource)}))}const e=new Map;for(const f of[...a,...b]){const g=Plh(f);if(g){let l;(null==(l=e.get(g.name))?0:l.shortNameRepresentation)||e.set(g.name,g)}}a=Olh(a);b=Olh(b);return{removals:d(Nlh(a,b)),additions:d(Nlh(b,a))}};
Rlh=function(a){if(a&1){const b=_.n();_.G(0,"mat-checkbox",15);_.O("change",function(){_.q(b);const c=_.P();return _.u(c.hideInheritedTags=!c.hideInheritedTags)});_.N(1,4);_.I()}a&2&&(a=_.P(),_.F("checked",a.hideInheritedTags)("ve",a.ve.TagsBindingsInheritanceCheckbox)("veClick",!0))};
Slh=function(a){a&1&&(_.G(0,"p",16),_.N(1,5),_.S(2,"async"),_.S(3,"async"),_.S(4,"async"),_.I());a&2&&(a=_.P(),_.z(4),_.Qf(_.U(2,3,a.bindingResourceCount$))(_.U(3,5,a.countOfInheritedTags$))(_.U(4,7,a.countOfInheritedTags$)),_.Rf(1))};Tlh=function(a){a&1&&(_.G(0,"p",16),_.N(1,6),_.S(2,"async"),_.I());a&2&&(a=_.P(),_.z(2),_.Qf(_.U(2,1,a.countOfInheritedTags$)),_.Rf(1))};Ulh=function(a){a&1&&_.Lf(0)};
Wlh=function(a,b){a&1&&(_.G(0,"div",21),_.E(1,Ulh,1,0,"ng-container",22),_.I());if(a&2){a=b.$implicit;b=b.index;_.P(3);const c=_.ag(12);_.z();_.F("ngTemplateOutlet",c)("ngTemplateOutletContext",_.gg(2,Vlh,b,a))}};Xlh=function(a,b){a&1&&(_.G(0,"fieldset",18)(1,"legend"),_.J(2,"tag-key-parent-display",19),_.I(),_.E(3,Wlh,2,5,"div",20),_.I());a&2&&(a=b.$implicit,_.z(2),_.F("tagKeyParent",a.tagKeyParent)("showInaccessibleTooltip",!0),_.z(),_.F("ngForOf",a.tags))};
Zlh=function(a){a&1&&(_.K(0),_.E(1,Xlh,4,3,"fieldset",17),_.S(2,"async"),_.L());if(a&2){let b;a=_.P();_.z();_.F("ngForOf",null!==(b=_.U(2,1,a.inheritedTagDisplaysByParent$))&&void 0!==b?b:_.eg(3,Ylh))}};$lh=function(a){a&1&&(_.G(0,"span"),_.Q(1),_.I());a&2&&(a=_.P(2).tag,_.z(),_.R(" ",a.tagKeyDescription," "))};amh=function(a){a&1&&(_.G(0,"mat-hint",31),_.E(1,$lh,2,1,"span",14),_.I());a&2&&(a=_.P().tag,_.z(),_.F("ngIf",a.tagKeyDescription))};
bmh=function(a){a&1&&(_.G(0,"mat-hint",31),_.Q(1),_.I());a&2&&(a=_.P().tag,_.z(),_.R(" ",a.tagValueDescription," "))};cmh=function(a){a&1&&(_.G(0,"div",32),_.J(1,"tag-bindings-applied-resources",33),_.S(2,"iamCompatibles"),_.I());a&2&&(a=_.P().tag,_.z(),_.F("appliedResources",_.U(2,2,a.appliedResources))("unappliedResourceCount",a.unappliedResourceCount))};dmh=function(a){a&1&&_.Lf(0,34);a&2&&(a=_.P().tag,_.F("tagFormReason",a.attachDirectTagDisabledReason))};
fmh=function(a,b){if(a&1){const c=_.n();_.G(0,"div",23)(1,"mat-form-field",24)(2,"mat-label");_.N(3,7);_.I();_.J(4,"cfc-icon",25)(5,"input",26);_.E(6,amh,2,1,"mat-hint",27);_.I();_.G(7,"mat-form-field",24)(8,"mat-label");_.N(9,8);_.I();_.J(10,"input",28);_.S(11,"toNonBreakingSpaces");_.E(12,bmh,2,1,"mat-hint",27);_.I();_.E(13,cmh,3,4,"div",29);_.S(14,"async");_.I();_.G(15,"button",30);_.O("click",function(){const d=_.q(c).tag,e=_.P();return _.u(emh(e,d))});_.N(16,9);_.I();_.E(17,dmh,1,1,"ng-template",
null,2,_.ig)}if(a&2){a=b.rowIndex;b=b.tag;const c=_.ag(18),d=_.P();_.z(3);_.Qf(a+1);_.Rf(3);_.z(2);_.F("value",b.tagKeyShortName)("cfcDisable",!0);_.z();_.F("ngIf",!!b.tagKeyDescription);_.z(3);_.Qf(a+1);_.Rf(9);_.z();_.F("value",_.U(11,15,b.tagValueShortName))("cfcDisable",!0);_.z(2);_.F("ngIf",b.tagValueDescription);_.z();_.F("ngIf",_.U(14,17,d.hasMultipleBindingResources$));_.z(2);_.F("cfcDisable",!!b.attachDirectTagDisabledReason)("cfcDisableTooltip",c)("cfcDisableTooltipRich",!0)("ve",d.ve.TagsBindingsInheritanceAttachDirectTagButton)("veClick",
!0);_.Df("aria-label",b.attachDirectTagAriaLabel)}};jmh=function({tag:a,bindingResources:b,directlyBoundTagKeyNames:c}){if(b.filter(({canCreateBindings:e})=>e).length!==b.length)return new Flh(b);const d=a.aggregatedEffectiveTag.effectiveTag.key;if(c.includes(d.name))return new gmh;if(!a.aggregatedEffectiveTag.canCreateTagValue)return new hmh;if(!b.map(e=>_.H3(e.resource)).every(e=>56===e.getResourceType())&&"GCE_FIREWALL"===d.purpose)return new imh};
kmh=function(a){const b=a.tag;var c=a.bindingResources;const d=b.aggregatedEffectiveTag.effectiveTag.key,e=b.aggregatedEffectiveTag.effectiveTag.value,f=_.Uvd(d.parent),g=d.shortName,l=e.shortName;c=_.Jy("Attach the tag with the key {tagKeyShortName} and value {tagValueShortName} directly to your selected {numberOfResources, plural, =1 {resource} other {resources}}",{tagKeyShortName:g,tagValueShortName:l,numberOfResources:c.length});return{tagKeyShortName:g,tagKeyDescription:d.description,tagKeyParent:f,
tagValueShortName:l,tagValueDescription:e.description,appliedResources:b.aggregatedEffectiveTag.resources.map(p=>_.H3(p.resource)),unappliedResourceCount:b.unboundResources.length,attachDirectTagDisabledReason:jmh(a),attachDirectTagAriaLabel:c,source:b}};lmh=function(a){a&1&&(_.G(0,"p",24),_.N(1,7),_.I());a&2&&(a=_.P(2).ngIf,_.z(),_.Qf(a.bindingResources.length),_.Rf(1))};
mmh=function(a,b){a&1&&(_.G(0,"div",26),_.J(1,"tag-bindings-applied-resources",27),_.S(2,"iamCompatibles"),_.I());a&2&&(a=b.group,_.z(),_.F("appliedResources",_.U(2,2,a.metadata.boundResources))("unappliedResourceCount",a.metadata.unboundResources.length))};nmh=function(a){a&1&&(_.K(0),_.E(1,mmh,3,4,"ng-template",25),_.L());a&2&&(_.z(),_.F("tagsEditorFormStackInputDisableResizing",!0))};omh=function(a){a&1&&_.Lf(0)};
qmh=function(a,b){a&1&&_.E(0,omh,1,0,"ng-container",28);a&2&&(a=b.error,_.P(3),b=_.ag(5),_.F("ngTemplateOutlet",b)("ngTemplateOutletContext",_.fg(2,pmh,a)))};rmh=function(a){a&1&&_.Lf(0)};smh=function(a,b){a&1&&_.E(0,rmh,1,0,"ng-container",28);a&2&&(a=b.error,_.P(3),b=_.ag(5),_.F("ngTemplateOutlet",b)("ngTemplateOutletContext",_.fg(2,pmh,a)))};
tmh=function(a){a&1&&(_.K(0),_.G(1,"form",16)(2,"p"),_.K(3),_.N(4,4),_.L(),_.G(5,"a",17),_.N(6,5),_.I()(),_.J(7,"tags-inheritance-display",18),_.S(8,"async"),_.G(9,"cfc-heading",19),_.N(10,6),_.I(),_.G(11,"tags-editor-v2",20,3),_.S(13,"toTagResources"),_.S(14,"iamCompatibles"),_.S(15,"tagKeyDisabledOptionsMatcher"),_.E(16,lmh,2,1,"p",21)(17,nmh,2,1,"ng-container",13)(18,qmh,1,4,"ng-template",22)(19,smh,1,4,"ng-template",23),_.I()(),_.L());if(a&2){let b;a=_.P().ngIf;const c=_.P();_.z();_.F("formGroup",
c.mainGroup)("ve",c.ve.TagsEditBindingsForm)("veImpression",!0);_.z(4);_.F("cfcDocLink",c.dl.CONSOLE__RESOURCE_MANAGER_DOCS_TAGS_TAGS_OVERVIEW)("ve",c.ve.TagsEditBindingsLearnMoreLink)("veClick",!0);_.z(2);_.F("tagsInheritanceDisplayData",a)("defaultTagKeyParent",_.U(8,24,a.defaultTagKeyParent$))("tagsEditorFormGroup",c.tagsControl)("headerSemanticLevel",c.headerSemanticLevel)("headerVisualLevel",null!==(b=c.headerVisualLevel)&&void 0!==b?b:c.headerSemanticLevel);_.z(2);_.F("semanticLevel",c.headerSemanticLevel)("visualLevel",
c.headerVisualLevel||c.headerSemanticLevel);_.z(2);_.F("currentOrganizationId",a.currentOrgId)("currentProjectId",a.currentProjectId)("addDisabledReason",a.addTagsDisabledReason)("tagFormGroupCreator",a.tagFormGroupCreator)("disallowDuplicateKeyReason",c.keyAlreadyBoundReason)("disabledTagKeyOptionsMatcher",_.U(15,30,_.U(14,28,_.U(13,26,a.bindingResources))));_.z(6);_.F("ngIf",1<a.bindingResources.length);_.z();_.F("valueDropdownCustomErrorName","missingAttachTagValuePermission")("errorVeId",c.ve.TagsEditBindingsInsufficientAttachValuePermissionError);
_.z();_.F("valueManualEntryCustomErrorName","missingAttachTagValuePermission")("errorVeId",c.ve.TagsEditBindingsInsufficientAttachValuePermissionError)}};umh=function(a){a&1&&_.J(0,"iam-missing-permissions-message",32);if(a&2){a=_.P(2).ngIf;const b=_.P();_.F("missingPermissionsWithResource",a.missingPermissionsWithResource)("ve",b.ve.listEffectiveTagsMissingErrorMessage)("veImpression",!0)}};vmh=function(a){a&1&&_.Lf(0)};
wmh=function(a){a&1&&(_.G(0,"cfc-message",33)(1,"cfc-message-text",34),_.E(2,vmh,1,0,"ng-container",35),_.I()());if(a&2){a=_.P(3);const b=_.ag(7);_.z();_.F("ve",a.ve.TagsEditBindingsListEffectiveTagsErrorMessage)("veImpression",!0);_.z();_.F("ngTemplateOutlet",b)}};xmh=function(a){a&1&&(_.G(0,"cfc-message",36)(1,"cfc-message-text",34),_.N(2,8),_.I()());a&2&&(a=_.P(3),_.z(),_.F("ve",a.ve.TagsEditBindingsNoResourcesSelectedMessage)("veImpression",!0))};
ymh=function(a){a&1&&(_.G(0,"cfc-message",33)(1,"cfc-message-text",34),_.N(2,9),_.I()());if(a&2){a=_.P(2).ngIf;const b=_.P();_.z();_.F("ve",b.ve.TagsEditBindingsTooManyResourcesSelectedMessage)("veImpression",!0);_.z();_.Qf(a.resourceLimit);_.Rf(2)}};
zmh=function(a){a&1&&_.E(0,umh,1,3,"iam-missing-permissions-message",29)(1,wmh,3,3,"cfc-message",30)(2,xmh,3,2,"cfc-message",31)(3,ymh,3,3,"cfc-message",30);a&2&&(a=_.P(2),_.F("ngSwitchCase",a.ErrorState.MISSING_LIST_BINDINGS_PERMISSION),_.z(),_.F("ngSwitchCase",a.ErrorState.LOAD_BINDINGS_FAILURE),_.z(),_.F("ngSwitchCase",a.ErrorState.NO_RESOURCES),_.z(),_.F("ngSwitchCase",a.ErrorState.TOO_MANY_RESOURCES))};
Amh=function(a,b){a&1&&(_.K(0),_.E(1,tmh,20,32,"ng-container",14)(2,zmh,4,4,"ng-template",15,2,_.ig),_.L());if(a&2){a=b.ngIf;b=_.ag(3);const c=_.P();_.z();_.F("ngIf",a.kind===c.ErrorState.OKAY)("ngIfElse",b);_.z();_.F("ngSwitch",a.kind)}};Bmh=function(a,b){a&1&&_.N(0,10);a&2&&(_.Qf(b.missingPermission),_.Rf(0))};Cmh=function(a){a&1&&_.N(0,11)};
Dmh=function(a){if((a=a.filter(b=>!b.canListEffectiveTags))&&0<a.length)return{kind:1,missingPermissionsWithResource:a.map(b=>({resourceName:_.H3(b.resource).getDisplayName(),resourceTypeName:_.LXb(_.H3(b.resource).getResourceType()),permissions:[b.bindingsPermissions.listEffectivePermission]}))}};Emh=function(a){a&1&&_.Lf(0)};Fmh=function(a){a&1&&(_.G(0,"span",6),_.Q(1," ("),_.J(2,"tag-key-parent-display",7),_.Q(3,") "),_.I());a&2&&(a=_.P().ngIf,_.z(2),_.F("tagKeyParent",a.keyParent))};
Gmh=function(a,b){a&1&&(_.K(0),_.Q(1),_.S(2,"toNonBreakingSpaces"),_.E(3,Emh,1,0,"ng-container",4)(4,Fmh,4,1,"span",5),_.S(5,"exposeTagKeyParent"),_.L());if(a&2){a=b.ngIf;b=_.P();const c=_.ag(4);_.z();_.Ju(" ",a.keyShortName," : ",_.U(2,4,a.shortName),"");_.z(2);_.F("ngTemplateOutlet",c);_.z();_.F("ngIf",_.ey(5,6,a.keyParent,b.defaultTagKeyParent))}};Hmh=function(a){a&1&&_.Lf(0)};
Imh=function(a){a&1&&(_.Q(0),_.E(1,Hmh,1,0,"ng-container",4));if(a&2){a=_.P();const b=_.ag(4);_.R(" ",a.tagValue.name,"");_.z();_.F("ngTemplateOutlet",b)}};Jmh=function(a){a&1&&(_.G(0,"span",9),_.N(1,2),_.I());a&2&&(a=_.P(2),_.F("ve",a.ve.TagsEditBindingsTagValueEntryDisplayOverrideLabel)("veImpression",!0))};Kmh=function(a){a&1&&_.E(0,Jmh,2,2,"span",8);a&2&&(a=_.P(),_.F("ngIf",a.hasInheritanceOverride))};
Lmh=function(a,b){a&1&&_.J(0,"cfc-icon",10);a&2&&(a=b.rowData,_.F("icon",a.icon),_.Df("aria-label",a.status))};Mmh=function(a,b){a&1&&_.J(0,"resource-display",12);a&2&&_.F("resource",b.ngIf)};Nmh=function(a){a&1&&_.Q(0);a&2&&(a=_.P().rowData,_.bg(a.parent))};Omh=function(a,b){a&1&&(_.K(0),_.E(1,Mmh,1,1,"resource-display",11)(2,Nmh,1,1,"ng-template",null,0,_.ig),_.L());if(a&2){a=b.rowData;b=_.ag(3);const c=_.P();_.z();_.F("ngIf",c.getResource(a.parent))("ngIfElse",b)}};
Pmh=function(a,b){a&1&&_.J(0,"tag-value-entry-display",14);a&2&&(a=b.ngIf,b=_.P(2),_.F("tagValue",a)("defaultTagKeyParent",b.defaultTagKeyParent))};Qmh=function(a){a&1&&_.Q(0);a&2&&(a=_.P().rowData,_.bg(a.tagValue))};Rmh=function(a,b){a&1&&(_.K(0),_.E(1,Pmh,1,2,"tag-value-entry-display",13)(2,Qmh,1,1,"ng-template",null,1,_.ig),_.L());if(a&2){a=b.rowData;b=_.ag(3);const c=_.P();_.z();_.F("ngIf",c.tagValueEntriesMap.get(a.tagValue))("ngIfElse",b)}};
Smh=function(a,b){a&1&&(_.G(0,"span"),_.Q(1),_.S(2,"placeholder"),_.I());a&2&&(a=b.rowData,_.z(),_.R(" ",_.U(2,1,a.errorMessage)," "))};Tmh=function(a){let b;a=null==(b=a.action)?void 0:b.action;if(!a)return"Unknown";switch(a){case "CREATE":return"Attach";case "DELETE":return"Remove";default:return"Unknown"}};Umh=function(a){a&1&&(_.K(0),_.N(1,1),_.L())};Vmh=function(a){a&1&&(_.K(0),_.Q(1),_.L());a&2&&(a=_.P(),_.z(),_.R(" ",a.customTitle," "))};
Wmh=function(a){a&1&&(_.G(0,"p"),_.Q(1),_.I());a&2&&(a=_.P(),_.z(),_.R(" ",a.customDescription," "))};Xmh=function(a){return"error"===a.result};Ymh=function(a){for(const [,b]of a.entries()){a=b;for(const c of a)if(Xmh(c))return!0}return!1};Zmh=function(a,b){a&1&&(_.G(0,"dd",6),_.J(1,"resource-display",7),_.I());a&2&&(a=b.$implicit,_.z(),_.F("resource",a))};
$mh=function(a,b){a&1&&(_.G(0,"div")(1,"dt"),_.J(2,"tag-value-entry-display",4),_.S(3,"hasInheritanceOverride"),_.I(),_.E(4,Zmh,2,1,"dd",5),_.S(5,"iamCompatibles"),_.I());if(a&2){a=b.$implicit;b=_.P().ngIf;const c=_.P(2);_.z(2);_.F("tagValue",a.tagValue)("defaultTagKeyParent",c.defaultTagKeyParent)("hasInheritanceOverride",_.ey(3,4,a,b));_.z(2);_.F("ngForOf",_.U(5,7,a.resources))}};anh=function(a){a&1&&(_.K(0),_.E(1,$mh,6,9,"div",3),_.L());a&2&&(a=_.P(2),_.z(),_.F("ngForOf",a.bindingChangeEntries))};
bnh=function(a){a&1&&(_.G(0,"dl",1),_.E(1,anh,2,1,"ng-container",2),_.S(2,"async"),_.I());a&2&&(a=_.P(),_.F("keyWidth",a.keyWidth),_.z(),_.F("ngIf",_.U(2,2,a.inheritanceLookup$)))};dnh=function(a){if(a&1){const b=_.n();_.G(0,"button",2);_.S(1,"async");_.O("click",function(){_.q(b);const c=_.P();return _.u(cnh(c))});_.N(2,0);_.I()}if(a&2){let b;a=_.P();_.F("ve",a.ve.TagsEditBindingsDiscardChangesButton)("veClick",!0)("cfcDisable",null!==(b=_.U(1,3,a.disableButton$))&&void 0!==b?b:!0)}};
enh=function(a,b){b.every(e=>0===e.tagFormGroupType&&void 0!==_.o_(_.n_(e)));for(const e of a)if(1===e.tagFormGroupType||void 0===_.o_(_.n_(e)))return!0;const {additions:c,removals:d}=Qlh(a,b);return 0!==c.length||0!==d.length};fnh=function(a){a&1&&_.N(0,2)};gnh=function(a){a&1&&_.N(0,3)};hnh=function(a){a&1&&(_.G(0,"cfc-progress-button",3)(1,"button",4),_.N(2,1),_.I()());a&2&&(a=_.P(),_.z(),_.F("cfcProgressButtonClick",a.boundOnSaveButtonClick)("ve",a.ve.TagsEditBindingsSaveButton)("veClick",!0))};
inh=function(a,b){a&1&&_.J(0,"save-confirm-dialog",5);a&2&&(a=b.$implicit,_.F("changes",a.changes)("inheritedTags",a.inheritedTags))};jnh=function(a,b){return a.flatMap(c=>c.resources.map(d=>({action:b,tagValue:c.tagValue.name,parentLocationPair:I3(d)})))};knh=function(a){return[...jnh(a.removals,"DELETE"),...jnh(a.additions,"CREATE")]};
lnh=function(a){return[..._.Nfc(a,b=>JSON.stringify({parent:b.parentLocationPair.parent,location:b.parentLocationPair.location}))].map(([b,c])=>({parentLocationPair:JSON.parse(b),actions:c}))};mnh=function(a){var b=[...a.removals,...a.additions].flatMap(c=>c.resources);a=new Map;for(const c of b)(b=_.H3(c).getFullResourcePath())&&a.set(b,c);return a};nnh=function(a){a=[...a.removals,...a.additions].map(b=>b.tagValue);return new Map(a.map(b=>[b.name,b]))};
onh=function(a,b){return a.config.request("BulkTagBindingMutation",'mutation BulkTagBindingMutation($resourceActions: [IN_java_com_google_cloud_boq_clientapi_tags_shared_BindResourceActions!]!) @Signature(bytes: "2/taJAuXcMr5xWA6B16faquMoElHtqzUrQerPP9xg9NvU=") { tagBindingService { bulkTagBindingMutation(resourceActions: $resourceActions) { key value { action { action tagValue } error { code details message } response result } } } }',b,void 0)};
pnh=function(a,b){return a.config.request("ListEffectiveTagKeysAndValues",'query ListEffectiveTagKeysAndValues($parentLocationPairs: [IN_java_com_google_cloud_boq_clientapi_tags_common_ParentLocationPair!]!) @Signature(bytes: "2/xpB07GvIUK3mc5VIni0vLgsG2y0GOi8fjU0tdpog6Sc=") { tagBindingService { listEffectiveTags(parentLocationPairs: $parentLocationPairs) { effectiveTags { inherited value { name shortName description parent namespacedName } key { name shortName description parent purpose purposeData { key value } namespacedName } } } } }',
b,void 0)};qnh=function(a,b){return _.$d([_.mAf(a,b),_.nAf(a)]).pipe(_.y(([c,d])=>{const e=_.Fxf(c);if(1===e.length&&!c.includes(void 0))return c=e[0],d.has(c)?d.get(c):{id:c}}))};rnh=function(a,b){switch(b.getResourceType()){case 2:case 43:return _.w(void 0);case 0:return _.w(b.getResourceId());default:return _.bD(a.purviewService).pipe(_.y(c=>null==c?void 0:c.getResourceId()))}};snh=function(a,b){return 0!==b.length?_.$d(b.map(c=>rnh(a,c))):_.w([])};
tnh=function(a,b){return snh(a,b).pipe(_.y(c=>{const d=_.Fxf(c);if(1===d.length&&!c.includes(void 0))return d[0]}))};unh=class{transform(a,b="\u2014"){return null===a||void 0===a?b:a}};unh.\u0275fac=function(a){return new (a||unh)};unh.\u0275pipe=_.hd({name:"placeholder",type:unh,pure:!0});
var vnh=function(a){return _.Od(_.qf(b=>a.canFetchAncestryPipe.transform(b)?_.Kub(a.crmResourceService,b).pipe(_.Je(()=>_.w([b]))):_.w([b])),_.y(b=>({items:b.map(flh)})))},wnh=class{set resource(a){this.resourceSubject.next(a)}get resource(){return this.resourceSubject.value}constructor(a,b){this.canFetchAncestryPipe=a;this.crmResourceService=b;this.resourceSubject=new _.zg;this.resource$=this.resourceSubject.pipe(_.oe(_.Yw));this.breadcrumbs$=this.resource$.pipe(vnh(this),_.mf({refCount:!0,bufferSize:1}))}};
wnh.\u0275fac=function(a){return new (a||wnh)(_.A(_.hwd),_.A(_.Ov))};
wnh.\u0275cmp=_.m({type:wnh,selectors:[["resource-ancestry-breadcrumbs"]],inputs:{resource:"resource"},decls:3,vars:2,consts:[["content",""],[3,"observable","renderOnNext"],[3,"breadcrumbs","wrap",4,"ngIf"],[3,"breadcrumbs","wrap"]],template:function(a,b){a&1&&(_.G(0,"cfc-loader",1),_.E(1,elh,2,3,"ng-template",null,0,_.ig),_.I());a&2&&_.F("observable",b.breadcrumbs$)("renderOnNext",!0)},dependencies:[_.SH,_.Bl,_.$E,_.Gl],encapsulation:2,changeDetection:0});
var xnh=class{constructor(){this.inlineAncestry=!1}ngOnInit(){}};xnh.\u0275fac=function(a){return new (a||xnh)};
xnh.\u0275cmp=_.m({type:xnh,selectors:[["resource-display"]],inputs:{resource:"resource",inlineAncestry:"inlineAncestry"},decls:3,vars:2,consts:[["showAncestryInTooltip",""],[3,"resource",4,"ngIf","ngIfElse"],[3,"resource"],[1,"cfc-nowrap"],[3,"resourceType"],[3,"resource",4,"ngIf"]],template:function(a,b){a&1&&_.E(0,glh,1,1,"resource-ancestry-breadcrumbs",1)(1,ilh,5,5,"ng-template",null,0,_.ig);a&2&&(a=_.ag(2),_.F("ngIf",b.inlineAncestry)("ngIfElse",a))},dependencies:[_.ZB,_.Bl,wnh,_.gA,_.hwd],encapsulation:2});
var J3=class{transform(a){return a.map(_.H3)}};J3.\u0275fac=function(a){return new (a||J3)};J3.\u0275pipe=_.hd({name:"iamCompatibles",type:J3,pure:!0});var ynh=[J3],znh=class{};znh.\u0275fac=function(a){return new (a||znh)};znh.\u0275mod=_.ed({type:znh});znh.\u0275inj=_.Qc({providers:ynh});var Anh=class extends _.PB{constructor(a,b,c){super(a,b);this.clientTableManager=c.createTableManager()}ngOnInit(){this.tableManager=this.clientTableManager}set clientRows(a){this.clientTableManager.rows=a}get clientRows(){return this.clientTableManager.rows}};
Anh.\u0275fac=function(a){return new (a||Anh)(_.A(_.NB,1),_.A(_.OB),_.A(_.DA))};Anh.\u0275dir=_.gd({type:Anh,selectors:[["cfc-table","clientRows",""]],inputs:{clientRows:"clientRows"},exportAs:["clientRows"],features:[_.Bf]});var Bnh=class{};Bnh.\u0275fac=function(a){return new (a||Bnh)};Bnh.\u0275mod=_.ed({type:Bnh});Bnh.\u0275inj=_.Qc({});var Cnh={"in":{getIamPolicyRequests:{__type:".IN_google_iam_v1_GetIamPolicyRequest",__isList:!0}},out:{metaApiService:{iamPolicies:{__isList:!0,etag:"Bytes"}}}};var Dnh={entity:"TAGS_GRAPHQL",entityService:"TagsEntityService"};var Enh={IN_google_cloud_resourcemanager_v3_TagKey:{purposeData:"Map",createTime:"Timestamp",updateTime:"Timestamp"},IN_google_iam_v1_SetIamPolicyRequest:{policy:".IN_google_iam_v1_Policy",updateMask:"FieldMask"},IN_google_cloud_resourcemanager_v3_TagValue:{createTime:"Timestamp",updateTime:"Timestamp"},IN_google_iam_v1_Policy:{rules:{__type:".IN_google_iam_v1_Rule",__isList:!0},etag:"Bytes"},IN_google_iam_v1_Rule:{conditions:{__type:".IN_google_iam_v1_Condition",__isList:!0},logConfig:{__type:".IN_google_iam_v1_LogConfig",
__isList:!0}},IN_google_iam_v1_Condition:{subject:"Oneof"},IN_google_iam_v1_LogConfig:{type:"Oneof"}};var Fnh={"in":{setIamPolicyRequests:{__type:".IN_google_iam_v1_SetIamPolicyRequest",__isList:!0}},out:{metaApiService:{setIamPolicies:{__isList:!0,etag:"Bytes"}}}};var Gnh={"in":{testIamPermissionsRequests:{__type:".IN_google_iam_v1_TestIamPermissionsRequest",__isList:!0}}};var Hnh=class extends _.wq{constructor(a,b){super(Enh);this.DISABLE_PARTIAL_DATA=!1;this.disablePartialDataFlag="";this.disablePartialData=this.DISABLE_PARTIAL_DATA||!!this.disablePartialDataFlag&&_.Dc(this.disablePartialDataFlag);this.config=a.createConfig(Dnh,this.disablePartialData);this.operation=b.create(this.config)}queryGetIamPolicies(a,b){a=this.serialize(Cnh,a);return this.config.request("GetIamPolicies",'query GetIamPolicies($getIamPolicyRequests: [IN_google_iam_v1_GetIamPolicyRequest!]!) @NullProto @Signature(bytes: "2/M+JVls6SrRSgu+VQBSwC5wmwve7hhKPqeL5wFF6tnBE=") { metaApiService: tagValueService { iamPolicies(getIamPolicyRequests: $getIamPolicyRequests) { ...policy } } } fragment policy on google_iam_v1_Policy { version bindings { role members condition { expression title description location } bindingId } auditConfigs { service auditLogConfigs { logType exemptedMembers ignoreChildExemptions } } etag }',
a,b).pipe(this.deserialize(Cnh))}mutationSetIamPolicies(a,b){a=this.serialize(Fnh,a);return this.config.request("SetIamPolicies",'mutation SetIamPolicies($setIamPolicyRequests: [IN_google_iam_v1_SetIamPolicyRequest!]!) @NullProto @Signature(bytes: "2/JG2ewZgpZI91rO5qpmB7ooVncq4S8WJodwSt530xqXo=") { metaApiService: tagValueService { setIamPolicies(setIamPolicyRequests: $setIamPolicyRequests) { ...policy } } } fragment policy on google_iam_v1_Policy { version bindings { role members condition { expression title description location } bindingId } auditConfigs { service auditLogConfigs { logType exemptedMembers ignoreChildExemptions } } etag }',
a,b).pipe(this.deserialize(Fnh))}queryTestIamPermissions(a,b){a=this.serialize(Gnh,a);return this.config.request("TestIamPermissions",'query TestIamPermissions($testIamPermissionsRequests: [IN_google_iam_v1_TestIamPermissionsRequest!]!) @Signature(bytes: "2/q3AoUzQ2mx0JPufWRPdD9ft4p5eXS+LuJ4Lkb+dR6TE=") { metaApiService: tagValueService { iamPermissions(testIamPermissionsRequests: $testIamPermissionsRequests) { permissions } } }',a,b).pipe(this.deserialize(Gnh))}};
Hnh.\u0275fac=function(a){return new (a||Hnh)(_.k(_.Cq),_.k(_.Oq))};Hnh.\u0275prov=_.h({token:Hnh,factory:Hnh.\u0275fac,providedIn:"root"});var Inh=function(a,b,c){const d=qlh(b);b=[...c].filter(([,e])=>e.some(f=>"response"===f.result)).map(([e])=>d.get(e));b.length&&a.updatedResources$.next(b)},Jnh=class{constructor(){this.updatedResources$=new _.kf}};Jnh.\u0275fac=function(a){return new (a||Jnh)};Jnh.\u0275prov=_.h({token:Jnh,factory:Jnh.\u0275fac,providedIn:"root"});var Knh=function(a,b){return 0===b.length?_.w([]):pnh(a.tagsGraphqlClient,{parentLocationPairs:b}).pipe(_.$e(),_.y(c=>{const d=[];var e;c=null==c?void 0:null==(e=c.tagBindingService)?void 0:e.listEffectiveTags;if(!c)return d;for(const [f,g]of b.entries()){e=g;let l;const p=null==(l=c[f])?void 0:l.effectiveTags;p&&d.push({parentLocationPair:e,effectiveTags:p})}return d}),_.yF())},Lnh=function(a,b){return onh(a.tagsGraphqlClient,{resourceActions:b}).pipe(_.y(c=>{let d,e;return null==c?void 0:null==
(d=c.tagBindingService)?void 0:null==(e=d.bulkTagBindingMutation)?void 0:e.filter(_.Yw)}),_.oe(_.Yw),_.y(plh),_.tf(c=>{Inh(a.bindingsUpdateNotificationService,b,c)}),_.yF())},Mnh=class{constructor(a,b){this.bindingsUpdateNotificationService=a;this.tagsGraphqlClient=b}};Mnh.\u0275fac=function(a){return new (a||Mnh)(_.k(Jnh),_.k(_.wF))};Mnh.\u0275prov=_.h({token:Mnh,factory:Mnh.\u0275fac,providedIn:"root"});var Nnh=class{ngOnInit(){}};Nnh.\u0275fac=function(a){return new (a||Nnh)};
Nnh.\u0275cmp=_.m({type:Nnh,selectors:[["tags-permission-denied-message"]],inputs:{permissionDeniedMessage:"permissionDeniedMessage",missingPermissionsWithResource:"missingPermissionsWithResource"},decls:3,vars:2,consts:[[1,"cfc-space-below-minus-4"],[3,"missingPermissionsWithResource"]],template:function(a,b){a&1&&(_.G(0,"p",0),_.Q(1),_.I(),_.J(2,"iam-missing-permissions-display",1));a&2&&(_.z(),_.R(" ",b.permissionDeniedMessage,"\n"),_.z(),_.F("missingPermissionsWithResource",b.missingPermissionsWithResource))},
dependencies:[_.blh],encapsulation:2});var Onh=new _.Wp("Insufficient permission to detach the tag. Permission {DETACH_PERMISSION} is needed on the tag value."),Pnh=new _.Wp("Insufficient permission to attach the tag. Permission {TAG_VALUE_ATTACH_PERMISSION} is needed on the tag value."),Qnh=new _.Wp("{NUM_RESOURCES, plural, =1 {Permissions missing to detach tags on the resource}other {Permissions missing to detach tags on the resources}}"),Rnh=new _.Wp("{NUM_RESOURCES, plural, =1 {Permissions missing to attach tags on the resource}other {Permissions missing to attach tags on the resources}}"),
gmh=class{toStringReason(){return"Overwritten by direct tag"}},Jlh=class{toStringReason(){return Onh.format({DETACH_PERMISSION:"resourcemanager.tagValueBindings.delete"})}},hmh=class{toStringReason(){return Pnh.format({TAG_VALUE_ATTACH_PERMISSION:"resourcemanager.tagValueBindings.create"})}},Ilh=class{constructor(a){this.resources=a}toStringReason(){return Qnh.format({NUM_RESOURCES:this.resources.length})}createComponent(a){a=a.createComponent(Nnh).instance;a.permissionDeniedMessage=this.toStringReason();
a.missingPermissionsWithResource=this.resources.filter(b=>!b.canDeleteBindings).map(b=>Object.assign({},rlh(b),{permissions:[b.bindingsPermissions.deletePermission]}))}},Flh=class{constructor(a){this.resources=a}toStringReason(){return Rnh.format({NUM_RESOURCES:this.resources.length})}createComponent(a){a=a.createComponent(Nnh).instance;a.permissionDeniedMessage=this.toStringReason();a.missingPermissionsWithResource=this.resources.filter(b=>!b.canCreateBindings).map(b=>Object.assign({},rlh(b),{permissions:[b.bindingsPermissions.createPermission]}))}},
Elh=class{toStringReason(){return"Modifying attached tags on a subset of resources is not supported"}},Snh=class{toStringReason(){return"This key has already been bound to one or more selected resources"}},imh=class{toStringReason(){return"Only compute instances can be attached to purposed tags"}};var Tnh=new _.Wp("The selected {NUM_RESOURCES, plural, =1 {resource has} other {resources have}} {NUM_TAGS, plural, =1 {an inherited tag} other {inherited tags}}. The inherited tag {NUM_TAGS, plural, =1 {value} other {values}} may be overridden but not removed."),Unh=class{transform(a,b){return Tnh.format({NUM_TAGS:a.length,NUM_RESOURCES:b})}};Unh.\u0275fac=function(a){return new (a||Unh)};Unh.\u0275pipe=_.hd({name:"inheritanceDescription",type:Unh,pure:!0});
var Vnh=new _.Wp("{NUM_INHERITED_TAGS, plural, =1 {1 Inherited tag}other {{NUM_INHERITED_TAGS} Inherited tags}}"),Wnh=class{transform(a){return Vnh.format({NUM_INHERITED_TAGS:a.length})}};Wnh.\u0275fac=function(a){return new (a||Wnh)};Wnh.\u0275pipe=_.hd({name:"inheritanceHeader",type:Wnh,pure:!0});var Xnh=class{transform(a){return[...a].sort((b,c)=>slh(b)-slh(c)||b.getDisplayName().localeCompare(c.getDisplayName()))}};Xnh.\u0275fac=function(a){return new (a||Xnh)};
Xnh.\u0275pipe=_.hd({name:"sortByTypeAndDisplayName",type:Xnh,pure:!0});var Ynh=class{transform(a){return a.some(b=>!b.canCreateBindings)?new Flh(a):void 0}};Ynh.\u0275fac=function(a){return new (a||Ynh)};Ynh.\u0275pipe=_.hd({name:"addDisabledReason",type:Ynh,pure:!0});var $nh=class{transform(a,b){return Znh(b,a)}};$nh.\u0275fac=function(a){return new (a||$nh)};$nh.\u0275pipe=_.hd({name:"hasInheritanceOverride",type:$nh,pure:!0});var aoh=class{transform(a){return a.map(b=>b.resource)}};
aoh.\u0275fac=function(a){return new (a||aoh)};aoh.\u0275pipe=_.hd({name:"toTagResources",type:aoh,pure:!0});var boh=class{transform(a){const b=a.every(c=>56===c.getResourceType());return c=>b||"GCE_FIREWALL"!==c.purpose?void 0:new imh}};boh.\u0275fac=function(a){return new (a||boh)};boh.\u0275pipe=_.hd({name:"tagKeyDisabledOptionsMatcher",type:boh,pure:!0});var coh=[Ynh,aoh,$nh,Unh,Wnh,Xnh,boh],doh=class{};doh.\u0275fac=function(a){return new (a||doh)};doh.\u0275mod=_.ed({type:doh});
doh.\u0275inj=_.Qc({providers:coh});var eoh=class{constructor(){this.ve={TagsBindingsAppliedResourcesHelpButton:148042}}ngOnInit(){}ngOnChanges(){}};eoh.\u0275fac=function(a){return new (a||eoh)};
eoh.\u0275cmp=_.m({type:eoh,selectors:[["tag-bindings-applied-resources"]],inputs:{appliedResources:"appliedResources",unappliedResourceCount:"unappliedResourceCount"},features:[_.od],decls:6,vars:5,consts:()=>[["appliedResourcesTooltip",""]," \ufffd0\ufffd / \ufffd1\ufffd resources ","This tag is applied to:",[1,""],[1,"cfc-nowrap","applied-resource-count"],["ariaLabel","Help with viewing the resources the tag is applied to",1,"cfc-button-small",3,"tooltip","ve","veClick"],["cfc-kv-list","",1,"cfc-space-last",
3,"byline"],[3,"cfc-space-below-base",4,"ngFor","ngForOf"],[3,"resource","inlineAncestry"]],template:function(a,b){a&1&&(_.G(0,"div",3)(1,"span",4),_.N(2,1),_.I(),_.J(3,"cfc-help-button",5),_.I(),_.E(4,ulh,6,4,"ng-template",null,0,_.ig));a&2&&(a=_.ag(5),_.z(2),_.Qf(b.appliedResources.length)(b.appliedResources.length+b.unappliedResourceCount),_.Rf(2),_.z(),_.F("tooltip",a)("ve",b.ve.TagsBindingsAppliedResourcesHelpButton)("veClick",!0))},dependencies:[_.at,_.Al,_.bA,_.av,xnh,Xnh],encapsulation:2,
changeDetection:0});var wlh=/\/locations\/([^\/]+)/;var foh=function(a,b){if(0===b.length)return _.w([]);var c=new Map;const d=new Map;for(var e of b){var f=_.H3(e.resource).getResourceType();d.set(f,e.bindingsPermissions);c.has(f)||c.set(f,[]);c.get(f).push(e.resource)}e=[];for(const [g,l]of c)c=l,f=d.get(g),e.push(a.iamPermissionsService.preFetchPermissions([f.listEffectivePermission,f.createPermission,f.deletePermission],c.map(_.H3)));return _.$d(e).pipe(_.y(()=>{const g=[];for(const l of b)g.push({resource:l.resource,bindingsPermissions:l.bindingsPermissions,
canListEffectiveTags:!!a.iamPermissionsService.can(l.bindingsPermissions.listEffectivePermission,_.H3(l.resource)),canCreateBindings:!!a.iamPermissionsService.can(l.bindingsPermissions.createPermission,_.H3(l.resource)),canDeleteBindings:!!a.iamPermissionsService.can(l.bindingsPermissions.deletePermission,_.H3(l.resource))});return g}))},goh=function(a,b){const c=new Map;for(const d of b){const e=d.effectiveTag.value.name;c.set(e,new _.Eq(e,154))}return a.iamPermissionsService.preFetchPermissions(["resourcemanager.tagValueBindings.delete",
"resourcemanager.tagValueBindings.create"],Array.from(c.values())).pipe(_.y(()=>b.map(d=>{var e=a.iamPermissionsService,f=e.can;var g=c.get(d.effectiveTag.value.name);e=!!f.call(e,"resourcemanager.tagValueBindings.delete",g);f=a.iamPermissionsService;g=f.can;var l=c.get(d.effectiveTag.value.name);return{effectiveTagWithResource:d,canDeleteTagValue:e,canCreateTagValue:!!g.call(f,"resourcemanager.tagValueBindings.create",l)}})))},hoh=function(a,b){const c=b.map(d=>I3(d.resource));return Knh(a.bindingService,
c).pipe(_.y(d=>{if(_.Qfc(d))return d;const e=new Map(d.map(f=>[xlh(f.parentLocationPair),f.effectiveTags]));return b.flatMap(f=>{const g=xlh(I3(f.resource));return e.get(g).map(l=>({effectiveTag:l,resource:f}))})}))},ioh=function(a,b){if(0===b.length)return _.w(b);b=b.map(c=>{const d=_.Uvd(c.aggregatedEffectiveTag.effectiveTag.key.parent);return a.tagKeyParentDisplayPipe.transform(d).pipe(_.y(e=>Object.assign({},{keyParentDisplayName:e,keyParentType:d.resourceType},c)))});return _.$d(b).pipe(_.y(c=>
[...c].sort((d,e)=>{const f=_.Zvd(Alh);return Blh()(d,e)||f(d,e)})))},joh=class{constructor(a,b,c){this.bindingService=a;this.iamPermissionsService=b;this.tagKeyParentDisplayPipe=c}};joh.\u0275fac=function(a){return new (a||joh)(_.k(Mnh),_.k(_.Cv),_.k(_.YO))};joh.\u0275prov=_.h({token:joh,factory:joh.\u0275fac,providedIn:"root"});var koh=function(a,b){return c=>{c=_.o_(c);if(!c||b&&c===b)return _.w(null);const d=new _.Eq(c,154);return a.permissionsService.preFetchPermissions(["resourcemanager.tagValueBindings.create"],[d]).pipe(_.y(()=>a.permissionsService.can("resourcemanager.tagValueBindings.create",d)?null:{missingAttachTagValuePermission:"resourcemanager.tagValueBindings.create"}))}},loh=function(a,b){_.wac(b,koh(a,_.o_(b)));b.updateValueAndValidity()},moh=class{constructor(a){this.permissionsService=a}};
moh.\u0275fac=function(a){return new (a||moh)(_.k(_.Cv))};moh.\u0275prov=_.h({token:moh,factory:moh.\u0275fac,providedIn:"root"});var Ylh=()=>[],Vlh=(a,b)=>({rowIndex:a,tag:b}),emh=function(a,b){return _.Wd(function*(){var {bindingResources:c}=yield _.Td(a.tagsInheritanceDisplayData$);const d=yield _.Td(a.tagsEditorFormGroup$),e=b.source.aggregatedEffectiveTag.effectiveTag.key,f=_.Vfc(e.name).resourceId,g=e.namespacedName,l=b.source.aggregatedEffectiveTag.effectiveTag.value;c=new _.Gxf({metadata:{boundResources:c.map(p=>p.resource),unboundResources:[]}},new _.Hxf({tagKeyParent:b.tagKeyParent},Clh(e)),new _.hxf({tagKeyId:f,tagKeyNamespacedName:g},
Dlh(l)));loh(a.validatorService,_.n_(c));d.setValue([...d.value,c])})},noh=class{set tagsEditorFormGroup(a){this.tagsEditorFormGroup$.next(a)}set defaultTagKeyParent(a){this.defaultTagKeyParent$.next(a)}set tagsInheritanceDisplayData(a){this.tagsInheritanceDisplayData$.next(a)}constructor(a,b,c){this.bindingsStateService=a;this.validatorService=b;this.destroy$=new _.hf(1);this.ve={TagsBindingsInheritanceCheckbox:159920,TagsBindingsInheritanceForm:159921,TagsBindingsInheritanceAttachDirectTagButton:159919};
this.tagsEditorFormGroup$=new _.hf(1);this.defaultTagKeyParent$=new _.hf(1);this.tagsInheritanceDisplayData$=new _.hf(1);this.directlyBoundTagKeyNames$=this.tagsEditorFormGroup$.pipe(_.qf(d=>d.valueChanges.pipe(_.pf(d.value))),_.y(mlh));this.sortedInheritanceDisplayData$=this.tagsInheritanceDisplayData$.pipe(_.qf(({inheritedTags:d,bindingResources:e})=>ioh(this.bindingsStateService,[...d]).pipe(_.y(f=>({inheritedTags:f,bindingResources:e})))));this.inheritedTagsDisplayData$=_.$d([this.sortedInheritanceDisplayData$,
this.defaultTagKeyParent$.pipe(_.pf(null)),this.directlyBoundTagKeyNames$]).pipe(_.y(([d,e,f])=>{const g=d.bindingResources;return d.inheritedTags.map(l=>kmh({tag:l,defaultTagKeyParent:e,directlyBoundTagKeyNames:f,bindingResources:g}))}),_.mf(1),_.B(this.destroy$));this.inheritedTagDisplaysByParent$=this.inheritedTagsDisplayData$.pipe(_.y(d=>{const e=new Map;for(const f of d){let g;d=null==(g=f.source.aggregatedEffectiveTag.effectiveTag.key)?void 0:g.parent;if(!e.has(d)){const l={tagKeyParent:_.Uvd(d),
tags:[]};e.set(d,l)}e.get(d).tags.push(f)}return[...e.values()]}));this.countOfInheritedTags$=this.tagsInheritanceDisplayData$.pipe(_.y(({inheritedTags:d})=>d.length));this.hasInheritedTags$=this.countOfInheritedTags$.pipe(_.y(d=>0<d));this.bindingResourceCount$=this.tagsInheritanceDisplayData$.pipe(_.y(({bindingResources:d})=>d.length));this.hasMultipleBindingResources$=this.bindingResourceCount$.pipe(_.y(d=>1<d));this.hideInheritedTags=!0;c.registerIconset("cloud_ai","small",29)}ngOnDestroy(){this.tagsEditorFormGroup$.complete();
this.tagsInheritanceDisplayData$.complete();this.destroy$.next();this.destroy$.complete()}};noh.\u0275fac=function(a){return new (a||noh)(_.A(joh),_.A(moh),_.A(_.cp))};
noh.\u0275cmp=_.m({type:noh,selectors:[["tags-inheritance-display"]],inputs:{tagsEditorFormGroup:"tagsEditorFormGroup",defaultTagKeyParent:"defaultTagKeyParent",tagsInheritanceDisplayData:"tagsInheritanceDisplayData",headerSemanticLevel:"headerSemanticLevel",headerVisualLevel:"headerVisualLevel"},decls:13,vars:15,consts:()=>{var a=_.ft("{VAR_PLURAL, plural, =1 {resource has} other {resources have}}",{VAR_PLURAL:"\ufffd0\ufffd"});var b=_.ft("{VAR_PLURAL, plural, =1 {({INTERPOLATION}) inherited tag.} other {({INTERPOLATION}) inherited tags.}}",
{INTERPOLATION:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd1\ufffd"});a=" The selected "+a+" "+b+" The inherited tag values may be overwritten but not removed.\n";b=_.ft("{VAR_PLURAL, plural, =1 {resource does not have any inherited tags.} other {resources do not have any inherited tags.}}",{VAR_PLURAL:"\ufffd0\ufffd"});return[["NoInheritedTagsMessage",""],["tagsInheritanceDisplayRow",""],["attachDirectTagDisabledReasonTemplate",""]," Inherited tags "," Hide inherited tags ",a," The selected "+b+" "," Key \ufffd0\ufffd ",
" Value \ufffd0\ufffd "," Attach Direct Tag ",[1,"cfc-flex-space-between-content","cfc-flex-container","cfc-flex-center-aligned","cfc-space-above-plus-2","cfc-space-below-minus-1",3,"ve","veImpression"],[1,"cfc-space-first",3,"semanticLevel","visualLevel","removeMargins"],["class","cfc-space-last",3,"checked","ve","veClick","change",4,"ngIf"],["class","cfc-text-caption inherited-tags-description",4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"cfc-space-last",3,"change","checked","ve","veClick"],[1,"cfc-text-caption",
"inherited-tags-description"],["class","cfc-border-primary cfc-gutter-minus-2 cfc-space-below-minus-2",4,"ngFor","ngForOf"],[1,"cfc-border-primary","cfc-gutter-minus-2","cfc-space-below-minus-2"],[1,"cfc-text-title-4",3,"tagKeyParent","showInaccessibleTooltip"],["class","cfc-space-below-minus-1",4,"ngFor","ngForOf"],[1,"cfc-space-below-minus-1"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tags-inheritance-display-row","cfc-flex-space-between-content","cfc-flex-container"],[1,"cfc-space-below-minus-5",
"cfc-inline-form-control"],"matPrefix  iconset cloud_ai size small icon m-simple-pipeline".split(" "),["matInput","","cfcDisableTooltip","Inherited tag keys cannot be modified.","cfcDisableTooltipPosition","left",3,"value","cfcDisable"],["class","cfc-break-word-wrap",4,"ngIf"],["matInput","","cfcDisableTooltip","Inherited tag values cannot be modified.",3,"value","cfcDisable"],["class","cfc-space-above-minus-2\n                cfc-space-below-minus-2\n                cfc-flex-container",4,"ngIf"],
["mat-button","","cfcDisableTooltipPosition","right","data-test-id","tags-inheritance-display-create-directly-bound-tag",3,"click","cfcDisable","cfcDisableTooltip","cfcDisableTooltipRich","ve","veClick"],[1,"cfc-break-word-wrap"],[1,"cfc-space-above-minus-2","cfc-space-below-minus-2","cfc-flex-container"],[3,"appliedResources","unappliedResourceCount"],[3,"tagFormReason"]]},template:function(a,b){a&1&&(_.G(0,"div",10)(1,"cfc-heading",11),_.N(2,3),_.I(),_.E(3,Rlh,2,3,"mat-checkbox",12),_.S(4,"async"),
_.I(),_.E(5,Slh,5,9,"p",13),_.S(6,"async"),_.E(7,Tlh,3,3,"ng-template",null,0,_.ig)(9,Zlh,3,4,"ng-container",14),_.S(10,"async"),_.E(11,fmh,19,19,"ng-template",null,1,_.ig));if(a&2){let c;a=_.ag(8);_.F("ve",b.ve.TagsBindingsInheritanceForm)("veImpression",!0);_.z();_.F("semanticLevel",b.headerSemanticLevel)("visualLevel",null!==(c=b.headerVisualLevel)&&void 0!==c?c:b.headerSemanticLevel)("removeMargins",!0);_.z(2);_.F("ngIf",_.U(4,9,b.hasInheritedTags$));_.z(2);_.F("ngIf",_.U(6,11,b.hasInheritedTags$))("ngIfElse",
a);_.z(4);_.F("ngIf",!b.hideInheritedTags&&_.U(10,13,b.hasInheritedTags$))}},dependencies:[_.dt,_.at,_.Qu,_.Lp,_.Pu,_.Al,_.Bl,_.Fl,_.Gz,_.Jz,_.Sw,_.Uo,_.lx,_.mx,_.ix,_.oy,_.py,_.iy,_.hy,_.gy,_.DC,_.wy,_.xy,_.uy,_.bP,_.s_,eoh,_.Gl,_.$O,J3],styles:[".tags-inheritance-display-row[_ngcontent-%COMP%]{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:16px;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.tags-inheritance-display-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-webkit-box-flex:2;-webkit-flex:2;-moz-box-flex:2;-ms-flex:2;flex:2}.tags-inheritance-display-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}"],
changeDetection:0});var ooh,pmh,poh,roh,qoh;ooh=["tagsEditor"];pmh=a=>({missingPermission:a});poh={OKAY:0,MISSING_LIST_BINDINGS_PERMISSION:1,LOAD_BINDINGS_FAILURE:2,NO_RESOURCES:3,TOO_MANY_RESOURCES:4,0:"OKAY",1:"MISSING_LIST_BINDINGS_PERMISSION",2:"LOAD_BINDINGS_FAILURE",3:"NO_RESOURCES",4:"TOO_MANY_RESOURCES"};
roh=function(a,b,c){const d=b.map(l=>l.resource);c=ioh(a.bindingsStateService,c.map(l=>zlh(l,d)));const e=d.map(_.H3),f=qnh(a.parentIdentifierService,e),g=tnh(a.parentIdentifierService,e);return _.$d([f,g,c]).pipe(_.y(([l,p,r])=>{const t=[],v=[];for(const x of r)x.aggregatedEffectiveTag.effectiveTag.inherited?t.push(x):v.push(x);return{kind:0,directTags:v,inheritedTags:t,bindingResources:b,tagFormGroupCreator:qoh(a,d).bind(a),tagKeyOrganizations$:_.oAf(a.parentIdentifierService,e,r.map(x=>x.aggregatedEffectiveTag.effectiveTag)),
defaultTagKeyParent$:_.w(l?{id:l.id,resourceType:2}:void 0),currentOrgId:null==l?void 0:l.id,currentProjectId:p,addTagsDisabledReason:a.addTagsDisabledReasonPipe.transform(b)}}))};qoh=function(a,b){return c=>{c=c?new _.Gxf({metadata:{boundResources:b,unboundResources:[]}},new _.Hxf({tagKeyParent:c}),new _.hxf({tagValueDropdownDisabledReason:new _.Ixf},{disabled:!0,value:void 0})):new _.Kxf({metadata:{boundResources:b,unboundResources:[]}});a.addValidators(c);return c}};
_.soh=class{set resourcesWithBindingPermissions(a){this.loadState$.next(0);this.resourcesWithBindingPermissionsInternal$.next(a)}get resourcesWithBindingPermissions(){return this.resourcesWithBindingPermissionsInternal$.value}constructor(a,b,c,d,e){this.addTagsDisabledReasonPipe=a;this.formBuilder=b;this.bindingsStateService=c;this.parentIdentifierService=d;this.validatorService=e;this.dl={CONSOLE__RESOURCE_MANAGER_DOCS_TAGS_TAGS_OVERVIEW:_.Ozf};this.ve={TagsEditBindingsEffectiveTagsUnavailableThirdPartyMessage:148053,
TagsEditBindingsForm:148043,TagsEditBindingsInsufficientAttachValuePermissionError:148363,TagsEditBindingsLearnMoreLink:148044,TagsEditBindingsListEffectiveTagsErrorMessage:148051,TagsEditBindingsNoResourcesSelectedMessage:156400,TagsEditBindingsTooManyResourcesSelectedMessage:161719,listEffectiveTagsMissingErrorMessage:148050};this.hideEditorOptions=!1;this.ErrorState=poh;this.tagsControl=new _.nu([]);this.mainGroup=this.formBuilder.group({tags:this.tagsControl});this.destroy$=new _.hf(1);this.loadState$=
new _.zg(0);this.isLoading$=this.loadState$.pipe(_.y(f=>0===f));this.isFormLoaded$=this.loadState$.pipe(_.y(f=>1===f));this.resourcesWithBindingPermissionsInternal$=new _.zg;this.resourcesWithBindingPermissions$=this.resourcesWithBindingPermissionsInternal$.pipe(_.oe(_.Yw));this.bindingResources$=this.resourcesWithBindingPermissions$.pipe(_.qf(f=>foh(this.bindingsStateService,f)));this.editorState$=_.ge(()=>this.bindingResources$.pipe(_.qf(f=>{if(0===f.length)return _.w({kind:3});if(100<f.length)return _.w({kind:4,
resourceLimit:100});const g=Dmh(f);return g?_.w(g):hoh(this.bindingsStateService,f).pipe(_.qf(l=>_.Qfc(l)?_.w({kind:2,error:l}):goh(this.bindingsStateService,l).pipe(_.y(ylh),_.qf(p=>roh(this,f,p)))))}))).pipe(_.mf({refCount:!0,bufferSize:1}));this.editorData$=this.editorState$.pipe(_.oe(f=>0===f.kind));this.saveData$=this.editorData$.pipe(_.y(f=>({groupsForChangeCalculation:f.directTags.map(g=>{g=Mlh(g);this.addValidators(g);return g}),inheritedTags:f.inheritedTags,defaultTagKeyParent$:f.defaultTagKeyParent$})));
this.editorFormGroups$=this.saveData$.pipe(_.y(f=>f.groupsForChangeCalculation));this.formStatus$=_.ge(()=>{const f=this.mainGroup;return f.statusChanges.pipe(_.pf(f.status))}).pipe(_.oe(f=>"PENDING"!==f));this.keyAlreadyBoundReason=new Snh}ngOnInit(){this.editorState$.pipe(_.B(this.destroy$)).subscribe(a=>{0===a.kind||this.loadState$.next(2)});this.editorFormGroups$.pipe(_.B(this.destroy$)).subscribe(a=>{this.tagsControl.setValue(a);this.loadState$.next(1)})}markAsTouched(){this.mainGroup.markAllAsTouched();
let a;null==(a=this.tagsEditor)||a.markAllAsTouched()}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}ngOnChanges(){}addValidators(a){loh(this.validatorService,_.n_(a))}};_.soh.\u0275fac=function(a){return new (a||_.soh)(_.A(Ynh),_.A(_.Gu),_.A(joh),_.A(_.H_),_.A(moh))};
_.soh.\u0275cmp=_.m({type:_.soh,selectors:[["tag-bindings-editor"]],viewQuery:function(a,b){a&1&&_.Xf(ooh,5);if(a&2){let c;_.Zf(c=_.$f())&&(b.tagsEditor=c.first)}},inputs:{resourcesWithBindingPermissions:"resourcesWithBindingPermissions",headerSemanticLevel:"headerSemanticLevel",headerVisualLevel:"headerVisualLevel",hideEditorOptions:"hideEditorOptions"},features:[_.od],decls:8,vars:6,consts:()=>[["missingTagValueAttachPermissionError",""],["failedToLoadBindingsError",""],["errorStates",""],["tagsEditor",
""]," Tags provides a way to conditionally allow or deny policies based on whether a resource has a specific tag. You can use tags and conditional enforcement of policies for fine-grained control across your resource hierarchy. "," Learn more "," Direct tags "," Edit tags for the selected "+_.ft("{VAR_PLURAL, plural, =1 {resource} other {resources}}",{VAR_PLURAL:"\ufffd0\ufffd"})+". Removing a tag may revert to an inherited value. Changing a tag will first remove a tag, before adding the new selection. ",
" Select one or more resources to edit their attached tags. "," Too many resources selected. Select at most \ufffd0\ufffd resources to edit their attached tags. "," Insufficient permission to attach the tag. \ufffd0\ufffd is needed on the tag value.\n"," Failed to load attached tags.\n",[3,"isLoading"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngSwitch"],[1,"cfc-max-width-full",3,"formGroup","ve","veImpression"],["aria-label","Learn more about the best practices on attaching tags",3,"cfcDocLink","ve",
"veClick"],[3,"tagsInheritanceDisplayData","defaultTagKeyParent","tagsEditorFormGroup","headerSemanticLevel","headerVisualLevel"],["id","edit-tags-title",3,"semanticLevel","visualLevel"],["formControlName","tags",3,"currentOrganizationId","currentProjectId","addDisabledReason","tagFormGroupCreator","disallowDuplicateKeyReason","disabledTagKeyOptionsMatcher"],["class","cfc-text-caption",4,"tagsEditorFormStackDescription"],[3,"valueDropdownCustomErrorName","errorVeId"],[3,"valueManualEntryCustomErrorName",
"errorVeId"],[1,"cfc-text-caption"],["tagsEditorFormStackInput","",3,"tagsEditorFormStackInputDisableResizing"],[1,"cfc-space-above-minus-2","cfc-width-full"],[3,"appliedResources","unappliedResourceCount"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["permissionDeniedMessage","Permissions missing to list\n                                                                attached tags:",3,"missingPermissionsWithResource","ve","veImpression",4,"ngSwitchCase"],["type","error",4,"ngSwitchCase"],["type",
"informational",4,"ngSwitchCase"],["permissionDeniedMessage","Permissions missing to list\n                                                                attached tags:",3,"missingPermissionsWithResource","ve","veImpression"],["type","error"],[3,"ve","veImpression"],[4,"ngTemplateOutlet"],["type","informational"]],template:function(a,b){a&1&&(_.G(0,"cfc-loader",12),_.S(1,"async"),_.E(2,Amh,4,3,"ng-container",13),_.S(3,"async"),_.I(),_.E(4,Bmh,1,1,"ng-template",null,0,_.ig)(6,Cmh,1,0,"ng-template",
null,1,_.ig));a&2&&(_.F("isLoading",_.U(1,2,b.isLoading$)),_.z(2),_.F("ngIf",_.U(3,4,b.editorState$)))},dependencies:[_.dt,_.at,_.Bl,_.Fl,_.Cl,_.Dl,_.vt,_.Sw,_.clh,_.$E,_.Vo,_.Wo,_.Ly,_.ly,_.Ky,_.ru,_.uu,_.J_,_.K_,_.L_,_.I_,_.N_,eoh,noh,aoh,boh,_.Gl,J3],encapsulation:2});var toh=class{constructor(){this.hasInheritanceOverride=!1;this.ve={TagsEditBindingsTagValueEntryDisplayOverrideLabel:151062}}ngOnInit(){}};toh.\u0275fac=function(a){return new (a||toh)};
toh.\u0275cmp=_.m({type:toh,selectors:[["tag-value-entry-display"]],inputs:{tagValue:"tagValue",defaultTagKeyParent:"defaultTagKeyParent",hasInheritanceOverride:"hasInheritanceOverride"},decls:5,vars:2,consts:()=>[["resourceNameRepresentation",""],["inheritanceWarning",""]," (Overrides an inherited tag)",[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","cfc-nowrap",4,"ngIf"],[1,"cfc-nowrap"],[3,"tagKeyParent"],[3,"ve","veImpression",4,"ngIf"],[3,"ve","veImpression"]],template:function(a,b){a&
1&&_.E(0,Gmh,6,9,"ng-container",3)(1,Imh,2,2,"ng-template",null,0,_.ig)(3,Kmh,1,1,"ng-template",null,1,_.ig);a&2&&(a=_.ag(2),_.F("ngIf",b.tagValue.shortNameRepresentation)("ngIfElse",a))},dependencies:[_.at,_.Bl,_.Fl,_.bP,_.$O,_.bwd],encapsulation:2});var uoh=class{};uoh.\u0275fac=function(a){return new (a||uoh)};uoh.\u0275mod=_.ed({type:uoh});uoh.\u0275inj=_.Qc({imports:[_.et,doh,_.Hl,_.aP,_.cP,_.hA,_.ZO]});var voh=()=>["status"],woh=new Map([["error","Failed"],["response","Successful"]]),xoh=class{constructor(){this.columnsConfig=[{id:"errorMessage",accessor:a=>a.errorMessage},{id:"parent",accessor:a=>a.parent},{id:"status",accessor:a=>a.status},{id:"bindingOperation",accessor:a=>a.bindingOperation},{id:"tagValue",accessor:a=>a.tagValue}];this.resourcesMap=new Map;this.tagValueEntriesMap=new Map;this.rows=[]}set results(a){const b=[];if(a)for(const [f,g]of a.entries()){a=f;var c=g;for(const l of c){var d=
l.result,e="response"===d;c=e?"status-success":"status-error";d=woh.get(d);e=!e&&l.error?olh(l.error):void 0;let p;const {tagValue:r}=null!=(p=l.action)?p:{};b.push({errorMessage:e,icon:c,parent:a,status:d,tagValue:r,bindingOperation:Tmh(l)})}}this.rows=b}getResource(a){return(a=this.resourcesMap.get(a))?_.H3(a):void 0}};xoh.\u0275fac=function(a){return new (a||xoh)};
xoh.\u0275cmp=_.m({type:xoh,selectors:[["tags-mutation-summary-table"]],inputs:{results:"results",defaultTagKeyParent:"defaultTagKeyParent",resourcesMap:"resourcesMap",tagValueEntriesMap:"tagValueEntriesMap"},decls:10,vars:15,consts:()=>[["rawResourcePath",""],["rawTagValue",""],["ariaLabel","Tag status",3,"clientRows","columnsConfig","pagination","primaryColumnId","rowsPerPage","showColumnsChooser","showFilter","showSelectionControls","sortKeys","tableRendererV2"],"header Status id status overflowMechanism truncate type string".split(" "),
["size","small","role","img",3,"icon",4,"cfcTableTemplate"],"header Resource id parent overflowMechanism extend type string".split(" "),[4,"cfcTableTemplate"],"header Tag id tagValue overflowMechanism truncate type string".split(" "),"header Operation id bindingOperation overflowMechanism truncate type string".split(" "),"header;Error message;id;errorMessage;overflowMechanism;wrap;type;string".split(";"),["size","small","role","img",3,"icon"],[3,"resource",4,"ngIf","ngIfElse"],[3,"resource"],[3,"tagValue",
"defaultTagKeyParent",4,"ngIf","ngIfElse"],[3,"tagValue","defaultTagKeyParent"]],template:function(a,b){a&1&&(_.G(0,"cfc-table",2)(1,"cfc-table-column",3),_.E(2,Lmh,1,2,"cfc-icon",4),_.I(),_.G(3,"cfc-table-column",5),_.E(4,Omh,4,2,"ng-container",6),_.I(),_.G(5,"cfc-table-column",7),_.E(6,Rmh,4,2,"ng-container",6),_.I(),_.J(7,"cfc-table-column",8),_.G(8,"cfc-table-column",9),_.E(9,Smh,3,3,"span",6),_.I()());a&2&&(_.F("clientRows",b.rows)("columnsConfig",b.columnsConfig)("pagination",!0)("primaryColumnId",
"status")("rowsPerPage",30)("showColumnsChooser",!1)("showFilter",!1)("showSelectionControls",!1)("sortKeys",_.eg(14,voh))("tableRendererV2",!1),_.z(2),_.F("cfcTableTemplate","body"),_.z(2),_.F("cfcTableTemplate","body"),_.z(2),_.F("cfcTableTemplate","body"),_.z(3),_.F("cfcTableTemplate","body"))},dependencies:[Anh,_.Bl,_.Uo,xnh,_.NB,_.sB,_.tB,toh,unh],encapsulation:2,changeDetection:0});var yoh=class{};yoh.\u0275fac=function(a){return new (a||yoh)};yoh.\u0275mod=_.ed({type:yoh});
yoh.\u0275inj=_.Qc({imports:[Bnh,_.Hl,_.dp,_.Py,_.cP,_.hA,_.SB,uoh,_.ZO]});var zoh=class{constructor(a,b){this.dialogData=a;this.dialogRef=b;let c;this.customTitle=null==(c=a.options)?void 0:c.title;let d;this.customDescription=null==(d=a.options)?void 0:d.description}};zoh.\u0275fac=function(a){return new (a||zoh)(_.A(_.fo),_.A(_.eo))};
zoh.\u0275cmp=_.m({type:zoh,selectors:[["ng-component"]],decls:9,vars:7,consts:()=>[" Close "," Error updating attached tags ",["matDialogTitle","",1,"cfc-text-title-2"],[4,"ngIf"],["matDialogContent",""],[3,"results","defaultTagKeyParent","tagValueEntriesMap","resourcesMap"],["matDialogActions",""],["mat-button","","color","primary",3,"click"]],template:function(a,b){a&1&&(_.G(0,"h1",2),_.E(1,Umh,2,0,"ng-container",3)(2,Vmh,2,1,"ng-container",3),_.I(),_.G(3,"div",4),_.E(4,Wmh,2,1,"p",3),_.J(5,"tags-mutation-summary-table",
5),_.I(),_.G(6,"div",6)(7,"button",7),_.O("click",function(){return b.dialogRef.close()}),_.N(8,0),_.I()());a&2&&(_.z(),_.F("ngIf",!b.customTitle),_.z(),_.F("ngIf",!!b.customTitle),_.z(2),_.F("ngIf",!!b.customDescription),_.z(),_.F("results",b.dialogData.bindingResults)("defaultTagKeyParent",b.dialogData.defaultTagKeyParent)("tagValueEntriesMap",b.dialogData.tagValueEntriesMap)("resourcesMap",b.dialogData.resourcesMap))},dependencies:[_.Bl,_.Qu,_.Lp,_.Pu,_.ho,_.io,_.Ku,xoh],encapsulation:2,changeDetection:0});
var Aoh=function(a,b,c){Ymh(b);b=Object.assign({},{bindingResults:b},c);c=[...b.bindingResults.values()].flat().filter(Xmh);return a.matDialog.open(zoh,{data:b}).afterClosed().pipe(_.af(c))},Boh=function(a,b){let c;a=a.errorService.handleError(null!=(c=b.errorResponse)?c:{},{errorMessage:b.errorMessage,errorExperience:4,presentationFormat:1});return _.te(a)?a.pipe(_.af()):_.w(void 0)},K3=class{constructor(a,b){this.errorService=a;this.matDialog=b}};
K3.\u0275fac=function(a){return new (a||K3)(_.k(_.lv),_.k(_.go))};K3.\u0275prov=_.h({token:K3,factory:K3.\u0275fac});var Coh=class{};Coh.\u0275fac=function(a){return new (a||Coh)};Coh.\u0275mod=_.ed({type:Coh});Coh.\u0275inj=_.Qc({providers:[K3],imports:[_.Hl,_.Uu,_.uo,yoh]});var Znh=function(a,b){return b.resources.some(c=>{var d;const e=null==(d=b.tagValue.shortNameRepresentation)?void 0:d.keyName;if(d=!!e){let f,g;d=null!=(g=null==(f=a.keysToResourceIds.get(e))?void 0:f.has(xlh(I3(c))))?g:!1}return d})},Doh=class{constructor(a){this.keysToResourceIds=a}};var Eoh=class{};Eoh.\u0275fac=function(a){return new (a||Eoh)};Eoh.\u0275dir=_.gd({type:Eoh,selectors:[["ng-template","changeListEmptyMessage",""]]});
var Foh=class{constructor(){this.inheritedTagsInternal=new _.zg;this.inheritanceLookup$=this.inheritedTagsInternal.pipe(_.y(a=>{var b=null!=a?a:[];a=new Map;for(const c of b){let d;b=null==(d=c.aggregatedEffectiveTag.effectiveTag.key)?void 0:d.name;a.has(b)||a.set(b,new Set);for(const e of c.aggregatedEffectiveTag.resources){const f=xlh(I3(e.resource));a.get(b).add(f)}}return new Doh(a)}));this.keyWidth=4}set inheritedTags(a){this.inheritedTagsInternal.next(a)}get inheritedTags(){return this.inheritedTagsInternal.value}ngOnInit(){}ngAfterViewInit(){}};
Foh.\u0275fac=function(a){return new (a||Foh)};
Foh.\u0275cmp=_.m({type:Foh,selectors:[["confirm-dialog-change-list"]],contentQueries:function(a,b,c){a&1&&_.Yf(c,Eoh,5,_.Uf);if(a&2){let d;_.Zf(d=_.$f())&&(b.emptyMessage=d.first)}},inputs:{bindingChangeEntries:"bindingChangeEntries",defaultTagKeyParent:"defaultTagKeyParent",inheritedTags:"inheritedTags"},decls:1,vars:2,consts:[["cfc-kv-list","","class","cfc-width-full",3,"keyWidth",4,"ngIf","ngIfElse"],["cfc-kv-list","",1,"cfc-width-full",3,"keyWidth"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tagValue",
"defaultTagKeyParent","hasInheritanceOverride"],["class","cfc-nowrap",4,"ngFor","ngForOf"],[1,"cfc-nowrap"],[3,"resource"]],template:function(a,b){a&1&&_.E(0,bnh,3,4,"dl",0);a&2&&_.F("ngIf",b.bindingChangeEntries.length)("ngIfElse",b.emptyMessage)},dependencies:[_.Al,_.Bl,_.av,xnh,toh,$nh,_.Gl,J3],encapsulation:2,changeDetection:0});var cnh;cnh=function(a){return _.Wd(function*(){const b=yield _.Td(a.editorFormGroups$);a.forEditor.tagsControl.setValue(b)})};
_.Goh=class{constructor(){this.ve={TagsEditBindingsDiscardChangesButton:156609};this.forEditorInternal$=new _.zg;this.forEditor$=this.forEditorInternal$.pipe(_.oe(_.Yw));this.currentFormGroups$=this.forEditor$.pipe(_.qf(a=>a.tagsControl.valueChanges.pipe(_.pf(a.tagsControl.value))));this.showDiscardChangesButton$=this.forEditor$.pipe(_.qf(a=>a.isFormLoaded$));this.editorFormGroups$=this.forEditor$.pipe(_.qf(a=>a.editorFormGroups$));this.hasChanges$=this.currentFormGroups$.pipe(_.wf(this.editorFormGroups$),
_.y(([a,b])=>enh(a,b)));this.disableButton$=this.hasChanges$.pipe(_.y(a=>!a))}set forEditor(a){this.forEditorInternal$.next(a)}get forEditor(){return this.forEditorInternal$.value}};_.Goh.\u0275fac=function(a){return new (a||_.Goh)};
_.Goh.\u0275cmp=_.m({type:_.Goh,selectors:[["tag-bindings-editor-discard-changes-button"]],inputs:{forEditor:"forEditor"},decls:2,vars:3,consts:()=>[" Discard changes\n",["mat-button","","color","primary","type","button","cfcDisableTooltip","No changes made",3,"ve","veClick","cfcDisable","click",4,"ngIf"],["mat-button","","color","primary","type","button","cfcDisableTooltip","No changes made",3,"click","ve","veClick","cfcDisable"]],template:function(a,b){a&1&&(_.E(0,dnh,3,5,"button",1),_.S(1,"async"));
a&2&&_.F("ngIf",_.U(1,1,b.showDiscardChangesButton$))},dependencies:[_.dt,_.at,_.Qu,_.Lp,_.Pu,_.Bl,_.Gz,_.Gl],encapsulation:2});var Hoh=class{};Hoh.\u0275fac=function(a){return new (a||Hoh)};
Hoh.\u0275cmp=_.m({type:Hoh,selectors:[["save-confirm-dialog"]],inputs:{changes:"changes",inheritedTags:"inheritedTags"},decls:8,vars:3,consts:()=>[" Removals\n"," Additions\n"," No removals. "," No additions. ",[1,"cfc-space-first"],[3,"bindingChangeEntries"],["changeListEmptyMessage",""],[3,"bindingChangeEntries","inheritedTags"]],template:function(a,b){a&1&&(_.G(0,"h2",4),_.N(1,0),_.I(),_.G(2,"confirm-dialog-change-list",5),_.E(3,fnh,1,0,"ng-template",6),_.I(),_.G(4,"h2"),_.N(5,1),_.I(),_.G(6,
"confirm-dialog-change-list",7),_.E(7,gnh,1,0,"ng-template",6),_.I());a&2&&(_.z(2),_.F("bindingChangeEntries",b.changes.removals),_.z(4),_.F("bindingChangeEntries",b.changes.additions)("inheritedTags",b.inheritedTags))},dependencies:[Foh,Eoh],encapsulation:2,changeDetection:0});var Ioh,Joh,Moh,Koh,Loh,Noh;Ioh=["confirmDialog"];Joh=["summaryDialog"];
Moh=function(a){return _.ge(()=>{a.forEditor.tagsControl.updateValueAndValidity();a.forEditor.markAsTouched();a.changeDetectorRef.markForCheck();return a.forEditor.formStatus$}).pipe(_.We(),_.oe(b=>"VALID"===b),_.qf(()=>Koh(a).pipe(_.We())),_.qf(b=>Loh(a,b)),_.tf(b=>{var c=b.status;switch(c){case 0:a.snackBarService.open("Tags updated");break;case 3:a.snackBarService.open("No change in tags");break;case 2:a.snackBarService.open("Tags partially updated");break;case 1:break;default:_.rc(c,void 0)}a.changesSaved.emit(b)}))};
Koh=function(a){return a.forEditor.saveData$.pipe(_.y(b=>({changes:Qlh(b.groupsForChangeCalculation,a.forEditor.tagsControl.value),inheritedTags:b.inheritedTags})))};
Loh=function(a,b){const c=b.changes;return 0==c.additions.length&&0==c.removals.length?_.w({status:3}):Noh(a,b,()=>a.applyChanges(c)).pipe(_.B(a.onDestroy),_.qf(({actions:d,result:e})=>{if(_.Qfc(e))return Boh(a.bulkBindingErrorDialogService,e).pipe(_.af({status:1}));const f=mnh(c),g=vlh(e).map(l=>f.get(l)).filter(l=>!!l);return Ymh(e)?Aoh(a.bulkBindingErrorDialogService,e,{tagValueEntriesMap:nnh(c),resourcesMap:f}).pipe(_.y(l=>d.length===l.length?{status:1}:{status:2,updatedResources:g})):_.w({status:0,
updatedResources:g})}))};Noh=function(a,b,c){return a.confirmDialogService.confirmation({header:"Confirm changes to resource tags",body:a.confirmDialogTemplateRef,bodyData:b,operation:c,veId:a.ve.TagsEditBindingsSaveConfirmDialog,confirmButtonVeId:a.ve.TagsEditBindingsSaveDialogConfirm,cancelButtonVeId:a.ve.TagsEditBindingsSaveDialogCancel,disableCancelDuringConfirmation:!0}).pipe(_.qf(d=>d.confirmed?d.operationResult:_.Re))};
_.Ooh=class{set forEditor(a){this.forEditorInternal$.next(a)}get forEditor(){return this.forEditorInternal$.value}constructor(a,b,c,d,e){this.bindingsService=a;this.bulkBindingErrorDialogService=b;this.changeDetectorRef=c;this.confirmDialogService=d;this.snackBarService=e;this.ve={TagsEditBindingsSaveButton:148213,TagsEditBindingsSaveConfirmDialog:151063,TagsEditBindingsSaveDialogCancel:148214,TagsEditBindingsSaveDialogConfirm:148215};this.forEditorInternal$=new _.zg;this.forEditor$=this.forEditorInternal$.pipe(_.oe(_.Yw));
this.changesSaved=new _.jl;this.onDestroy=new _.hf(1);this.boundOnSaveButtonClick=()=>Moh(this);this.showSaveButton$=this.forEditor$.pipe(_.qf(f=>f.isFormLoaded$))}ngAfterViewInit(){}ngOnDestroy(){this.onDestroy.next();this.onDestroy.complete()}applyChanges(a){const b=knh(a);a=lnh(b).map(({parentLocationPair:{parent:c,location:d},actions:e})=>{e=e.map(f=>({action:f.action,tagValue:f.tagValue}));return{parent:c,location:d,actions:e}});return Lnh(this.bindingsService,a).pipe(_.y(c=>({actions:b,result:c})))}};
_.Ooh.\u0275fac=function(a){return new (a||_.Ooh)(_.A(Mnh),_.A(K3),_.A(_.rl),_.A(_.iD),_.A(_.vC))};
_.Ooh.\u0275cmp=_.m({type:_.Ooh,selectors:[["tag-bindings-editor-save-button"]],viewQuery:function(a,b){a&1&&(_.Xf(Ioh,7),_.Xf(Joh,7));if(a&2){let c;_.Zf(c=_.$f())&&(b.confirmDialogTemplateRef=c.first);_.Zf(c=_.$f())&&(b.summaryDialogTemplateRef=c.first)}},inputs:{forEditor:"forEditor"},outputs:{changesSaved:"changesSaved"},features:[_.cg([K3])],decls:4,vars:3,consts:()=>[["confirmDialog",""]," Save ",["message","Saving",4,"ngIf"],["message","Saving"],["mat-raised-button","","color","primary","type",
"button",3,"cfcProgressButtonClick","ve","veClick"],[3,"changes","inheritedTags"]],template:function(a,b){a&1&&(_.E(0,hnh,3,3,"cfc-progress-button",2),_.S(1,"async"),_.E(2,inh,1,2,"ng-template",null,0,_.ig));a&2&&_.F("ngIf",_.U(1,1,b.showSaveButton$))},dependencies:[_.dt,_.at,_.Qu,_.Lp,_.Pu,_.Bl,_.Dx,_.Cx,Hoh,_.Gl],encapsulation:2});_.Poh=class{constructor(a,b){_.Er(a,154,b)}};_.Poh.\u0275fac=function(a){return new (a||_.Poh)(_.k(_.Fr),_.k(Hnh))};_.Poh.\u0275mod=_.ed({type:_.Poh});_.Poh.\u0275inj=_.Qc({imports:[_.et,doh,Coh,_.Uu,_.Hl,_.Pz,_.iA,_.gv,_.aP,_.Tw,_.dA,_.G3,_.dp,_.dv,_.aF,_.ox,_.ry,_.yy,_.ep,_.cP,_.Rz,_.Iu,_.jF,_.SB,_.QB,uoh,_.ZO,znh,_.M_,_.E_,_.MAf]});
}catch(e){_._DumpException(e)}
try{
var CKi;
CKi=function(a,b){if(a&1){const c=_.n();_.K(0);_.J(1,"tag-bindings-editor",2,0);_.S(3,"toEditorResources");_.G(4,"tag-bindings-editor-save-button",3);_.O("changesSaved",function(d){_.q(c);var e=_.P();const f=d.status;switch(f){case 2:case 0:e.resourceListService.closeSubtask();e.subtaskCloseSaveResult.emit({updatedResources:[...d.updatedResources]});e.resources$.next([...e.resources$.getValue()]);break;case 3:e.resourceListService.closeSubtask();e.subtaskCloseSaveResult.emit({updatedResources:[]});break;
case 1:break;default:_.rc(f,void 0)}return _.u()});_.I();_.J(5,"tag-bindings-editor-discard-changes-button",4);_.L()}if(a&2){a=b.ngIf;b=_.ag(2);const c=_.P();_.z();_.F("hideEditorOptions",c.hideEditorOptions)("resourcesWithBindingPermissions",_.iC(3,5,a,c.tagResourceConverter,c.bindingPermissions))("headerSemanticLevel",2);_.z(3);_.F("forEditor",b);_.z();_.F("forEditor",b)}};
_.DKi=class{constructor(a){this.resourceListService=a;this.subtaskCloseSaveResult=new _.jl;this.destroyRef=_.cd(_.ye);this.bulkActionResources$=this.resourceListService.onBulkActionResourcesChanged.pipe(_.dh(this.destroyRef),_.Qe((b,c)=>_.Ba(b,c,(d,e)=>d.id===e.id)),_.af())}};_.DKi.\u0275fac=function(a){return new (a||_.DKi)(_.A(_.JH))};_.DKi.\u0275dir=_.gd({type:_.DKi,outputs:{subtaskCloseSaveResult:"subtaskCloseSaveResult"}});_.EKi=class{set subtaskOpenEvents$(a){this.subtaskOpenEventsInternal$.next(a)}constructor(a){this.resourceListService=a;this.hideEditorOptions=!1;this.subtaskOpenEventsInternal$=new _.hf(1);this.subtaskCloseSaveResult=new _.jl;this.destroy$=new _.kf;this.resources$=new _.zg(this.resourceListService.bulkActionResources);this.resourcesForTemplate$=this.subtaskOpenEventsInternal$.pipe(_.qf(b=>b),_.y(()=>this.resources$.getValue()),_.mf({bufferSize:1,refCount:!0}));this.resourceListService.onBulkActionResourcesChanged.pipe(_.B(this.destroy$)).subscribe(this.resources$)}ngOnInit(){}};
_.EKi.\u0275fac=function(a){return new (a||_.EKi)(_.A(_.JH))};
_.EKi.\u0275cmp=_.m({type:_.EKi,selectors:[["tags-resource-list-bindings-editor"]],inputs:{tagResourceConverter:"tagResourceConverter",bindingPermissions:"bindingPermissions",hideEditorOptions:"hideEditorOptions",subtaskOpenEvents$:"subtaskOpenEvents$"},outputs:{subtaskCloseSaveResult:"subtaskCloseSaveResult"},decls:2,vars:3,consts:[["tagBindingsEditor",""],[4,"ngIf"],[3,"hideEditorOptions","resourcesWithBindingPermissions","headerSemanticLevel"],[3,"changesSaved","forEditor"],[3,"forEditor"]],template:function(a,
b){a&1&&(_.E(0,CKi,6,9,"ng-container",1),_.S(1,"async"));a&2&&_.F("ngIf",_.U(1,1,b.resourcesForTemplate$))},dependencies:()=>[_.Bl,_.Goh,_.Ooh,_.soh,_.Gl,FKi],encapsulation:2});var FKi=class{transform(a,b,c){return a.map(d=>({resource:b(d),bindingsPermissions:c}))}};FKi.\u0275fac=function(a){return new (a||FKi)};FKi.\u0275pipe=_.hd({name:"toEditorResources",type:FKi,pure:!0});_.GKi=class{};_.GKi.\u0275fac=function(a){return new (a||_.GKi)};_.GKi.\u0275mod=_.ed({type:_.GKi});
_.GKi.\u0275inj=_.Qc({imports:[_.Hl,_.Poh]});
}catch(e){_._DumpException(e)}
try{
_.Ig("pm_serverless_services_tags_editor");
var LKi=class extends _.DKi{constructor(){super(...arguments);this.tagResourceConverter=_.KKi;this.bindingPermissions={listEffectivePermission:"run.services.listEffectiveTags",createPermission:"run.services.createTagBinding",deletePermission:"run.services.deleteTagBinding"}}};LKi.\u0275fac=(()=>{let a;return function(b){return(a||(a=_.Id(LKi)))(b||LKi)}})();
LKi.\u0275cmp=_.m({type:LKi,selectors:[["services-tags-editor"]],features:[_.Bf],decls:1,vars:3,consts:[[3,"subtaskCloseSaveResult","tagResourceConverter","bindingPermissions","subtaskOpenEvents$"]],template:function(a,b){a&1&&(_.G(0,"tags-resource-list-bindings-editor",0),_.O("subtaskCloseSaveResult",function(c){return b.subtaskCloseSaveResult.emit(c)}),_.I());a&2&&_.F("tagResourceConverter",b.tagResourceConverter)("bindingPermissions",b.bindingPermissions)("subtaskOpenEvents$",b.bulkActionResources$)},
dependencies:[_.EKi],encapsulation:2,changeDetection:0});var MKi=[_.GKi],NKi=class{};NKi.\u0275fac=function(a){return new (a||NKi)};NKi.\u0275mod=_.ed({type:NKi,id:"pm_serverless_services_tags_editor"});NKi.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{ServicesTagsEditor:LKi}}],imports:[MKi]});_.xf(NKi,"pm_serverless_services_tags_editor");
_.Jg();
}catch(e){_._DumpException(e)}
}).call(this,this.default_r_utswmmf);
// Google Inc.
