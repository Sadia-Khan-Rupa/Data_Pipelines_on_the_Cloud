"use strict";this.default_r_utswmmf=this.default_r_utswmmf||{};(function(_){var window=this;
try{
_.Yci=function(a){return a.controls.envVars.controls.filter(b=>!b.disabled&&!!b.controls.name).map(b=>({name:b.controls.name.value,value:b.controls.value.value})).filter(b=>0<b.name.length)};_.H6=class{};_.H6.\u0275fac=function(a){return new (a||_.H6)};_.H6.\u0275mod=_.ed({type:_.H6});_.H6.\u0275inj=_.Qc({});var Zci;Zci=[_.fH,_.Hl,_.H6,_.tz,_.ry,_.Iu];_.I6=class{};_.I6.\u0275fac=function(a){return new (a||_.I6)};_.I6.\u0275mod=_.ed({type:_.I6});_.I6.\u0275inj=_.Qc({imports:[_.QD,_.Hu,_.WE,_.dA,_.dp,_.yy,_.ep,_.dw,Zci]});var $ci;$ci=[_.et,_.ry,_.yy,_.QD,_.WE,_.Iu];_.adi=class{};_.adi.\u0275fac=function(a){return new (a||_.adi)};_.adi.\u0275mod=_.ed({type:_.adi});_.adi.\u0275inj=_.Qc({imports:[$ci]});var bdi;bdi=[_.et,_.Uu,_.ry,_.yy,_.Hl,_.QD,_.iA,_.adi,_.dD,_.WE,_.ep,_.Iu];_.J6=class{};_.J6.\u0275fac=function(a){return new (a||_.J6)};_.J6.\u0275mod=_.ed({type:_.J6});_.J6.\u0275inj=_.Qc({imports:[bdi]});
}catch(e){_._DumpException(e)}
try{
var jdi,kdi;_.edi=function(a){const b=a.controls.binauthzNamedPolicySelect.value;a=a.controls.binauthzNamedPolicyInput.value;return"Enter another policy"===b?a:b};
_.fdi=function(a,b,c){if(!_.zc(_.Jci))return{policies:["default"],allowedPoliciesAreInvalid:!1};var d;const e=null!=(d=null==b?void 0:b.map(r=>{let t;return null!=(t=r.name)?t:""}))?d:[];e.includes("default")||e.splice(0,0,"default");e.push("Enter another policy");let f;if("DENY"===(null==a?void 0:null==(f=a.listPolicy)?void 0:f.allValues))return{policies:[],allowedPoliciesAreInvalid:!1};let g;if("ALLOW"===(null==a?void 0:null==(g=a.listPolicy)?void 0:g.allValues))return{policies:e,allowedPoliciesAreInvalid:!1};
let l,p;return(null==a?0:null==(l=a.listPolicy)?0:null==(p=l.allowedValues)?0:p.length)?(d=a.listPolicy.allowedValues.filter(r=>r.split("/")[1]!==c||void 0===b||e.includes(r)),d.length?{policies:d,allowedPoliciesAreInvalid:!1}:{policies:a.listPolicy.allowedValues,allowedPoliciesAreInvalid:!0}):{policies:null==e?void 0:e.filter(r=>{let t,v;return!(null==a?0:null==(t=a.listPolicy)?0:null==(v=t.deniedValues)?0:v.includes(r))}),allowedPoliciesAreInvalid:!1}};
_.gdi=function(a){return a.getEffectivePolicy("constraints/run.allowedBinaryAuthorizationPolicies").pipe(_.y(b=>null!=b?b:void 0),_.Je(()=>_.w(void 0)))};_.hdi={type:1,path:"/binary-authorization/docs/run/overview"};_.idi=class extends _.pi{constructor(){super();_.Ym(this,["security","binary-authorization"])}};
jdi={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",attestorId:"attestorId",callback:"callback",fields:"fields",key:"key",oauth_token:"oauth_token",optionsRequestedPolicyVersion:"options.requestedPolicyVersion",pageSize:"pageSize",pageToken:"pageToken",policyId:"policyId",prettyPrint:"prettyPrint",quotaUser:"quotaUser",uploadType:"uploadType",upload_protocol:"upload_protocol"};
kdi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.nr(b,c)}create(a,b,c={},d={}){_.lr(a,RegExp("^projects/[^/]+/platforms/[^/]+$"));return _.mr(this.$apiClient,{body:b,httpMethod:"POST",methodId:"binaryauthorization.projects.platforms.policies.create",path:`/${this.gapiVersion}/${a}/policies`,queryParams:_.ki(c,jdi,d)})}delete(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/platforms/[^/]+/policies/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"DELETE",
methodId:"binaryauthorization.projects.platforms.policies.delete",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,jdi,c)})}get(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/platforms/[^/]+/policies/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",methodId:"binaryauthorization.projects.platforms.policies.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.ki(b,jdi,c)})}list(a,b={},c={}){_.lr(a,RegExp("^projects/[^/]+/platforms/[^/]+$"));return _.mr(this.$apiClient,{body:null,httpMethod:"GET",
methodId:"binaryauthorization.projects.platforms.policies.list",path:`/${this.gapiVersion}/${a}/policies`,queryParams:_.ki(b,jdi,c)})}};kdi.\u0275fac=function(a){return new (a||kdi)(_.k(_.Oci,8),_.k(_.Pci),_.k(_.Mq,8))};kdi.\u0275prov=_.h({token:kdi,factory:kdi.\u0275fac});var ldi=class{constructor(a){this.platformPolicies=a.create({host:"https://binaryauthorization.clients6.google.com",version:"v1"}).init(kdi)}};ldi.\u0275fac=function(a){return new (a||ldi)(_.k(_.Nq))};
ldi.\u0275prov=_.h({token:ldi,factory:ldi.\u0275fac,providedIn:"root"});_.mdi=function(a,b){return a.sequentialServiceEnablednessCheckingService.isServiceEnabled(b,"binaryauthorization.googleapis.com")};
_.ndi=class{constructor(a,b,c){this.binAuthzApi=a;this.serviceUsageService=b;this.sequentialServiceEnablednessCheckingService=c}list(a,b,c){return _.sh()?_.w([]):this.binAuthzApi.platformPolicies.list(`projects/${a}/platforms/cloudRun`,{pageSize:b,pageToken:c}).pipe(_.y(d=>d&&d.platformPolicies||[]),_.jf(1),_.Vd())}activateApi(a){return this.serviceUsageService.enableService(a,"binaryauthorization.googleapis.com")}};_.ndi.\u0275fac=function(a){return new (a||_.ndi)(_.k(ldi),_.k(_.gI),_.k(_.M5))};
_.ndi.\u0275prov=_.h({token:_.ndi,factory:_.ndi.\u0275fac,providedIn:"root"});_.odi=class{};_.odi.\u0275fac=function(a){return new (a||_.odi)};_.odi.\u0275mod=_.ed({type:_.odi});_.odi.\u0275inj=_.Qc({imports:[_.Yv,_.ry,_.yy,_.Hl,_.QD,_.Pz,_.Hu,_.L5,_.Zt,_.Iu,_.NA]});
}catch(e){_._DumpException(e)}
try{
_.cdi=class{constructor(a,b){this.message=a;this.stateSyncTaberna=b;this.cfcMessageTabernaStateSyncInitiallyHidden=!1;this.restoreSnapshotComplete=new _.jl;this.destroy=new _.kf}ngOnInit(){this.cfcMessageTabernaStateSyncInitiallyHidden&&(this.message.isDismissed=!0);this.stateSyncTaberna.capture({config:{key:this.cfcMessageTabernaStateSync},triggers:[this.message.dismissed],takeSnapshotCB:()=>({dismissed:this.message.isDismissed}),restoreSnapshotCB:a=>{this.message.isDismissed=!!a.dismissed;this.restoreSnapshotComplete.emit()},
restoreIfNoState:!0}).pipe(_.B(this.destroy)).subscribe()}ngOnDestroy(){this.destroy.next()}};_.cdi.\u0275fac=function(a){return new (a||_.cdi)(_.A(_.Vo,1),_.A(_.O_))};_.cdi.\u0275dir=_.gd({type:_.cdi,selectors:[["","cfcMessageTabernaStateSync",""]],inputs:{cfcMessageTabernaStateSync:"cfcMessageTabernaStateSync",cfcMessageTabernaStateSyncInitiallyHidden:"cfcMessageTabernaStateSyncInitiallyHidden"},outputs:{restoreSnapshotComplete:"restoreSnapshotComplete"}});_.K6=class{};
_.K6.\u0275fac=function(a){return new (a||_.K6)};_.K6.\u0275mod=_.ed({type:_.K6});_.K6.\u0275inj=_.Qc({});
}catch(e){_._DumpException(e)}
try{
var pdi,sdi,udi,vdi,wdi,xdi,ydi,zdi,Adi,Bdi,Cdi,Ddi,Edi,Fdi,Gdi,Hdi,Idi,Jdi,Ldi,Ndi,Odi,Pdi,Qdi,Rdi,Sdi,Tdi,Udi,Vdi,Wdi,Xdi,Ydi,Zdi,$di,aei,bei,cei,dei,fei,gei,hei,iei,jei,kei,lei,nei,oei,pei,qei,rei,sei,tei,uei,vei,wei,xei,yei,zei,Aei,Bei,Dei,Eei,Fei,Gei,Hei,Iei,Jei,Kei,Lei,Mei,Nei,Oei,Pei,Qei,Rei,Sei,Tei,Uei,Wei,Xei,Yei,Zei,$ei,afi,bfi,cfi,dfi,efi,ffi,gfi,jfi,kfi,lfi,mfi,nfi,ofi,rdi,tdi,tfi,Qfi,Rfi,Tfi,Ufi,Wfi,Xfi,pgi,qgi,sgi,tgi,ugi,vgi,xgi,zgi,Agi;
pdi=function(a){return!_.m0h.test(a)&&_.n0h.test(a)?`docker.io/${a.trim()}`:a};_.qdi=function(a){return _.o0h.test(pdi(a))&&(a=pdi(a).match(_.p0h))?a[1]:""};sdi=function(a){a&1&&_.J(0,"cm-icon",2);a&2&&(a=_.P(2),_.Gf(_.fg(3,rdi,"md1"===a.themingService.theme)),_.F("icon",a.icons.statusErrorIcon))};udi=function(a){a&1&&_.J(0,"cm-icon",2);a&2&&(a=_.P(2),_.Gf(_.fg(3,tdi,"md1"===a.themingService.theme)),_.F("icon",a.icons.statusWarningIcon))};
vdi=function(a){a&1&&(_.E(0,sdi,1,5,"cm-icon",1)(1,udi,1,5,"cm-icon",1),_.Q(2));a&2&&(a=_.P(),_.F("ngIf",a.shouldShowErrorIcon),_.z(),_.F("ngIf",a.showWarningIcon&&!a.shouldShowErrorIcon),_.z(),_.R(" ",a.tab.textLabel,"\n"))};wdi=function(a){a&1&&(_.G(0,"span",15),_.Q(1),_.I());a&2&&(a=_.P(),_.z(),_.R(" ",a.emailSuffix," "))};xdi=function(a){a&1&&(_.G(0,"cm-error",16),_.N(1,5),_.I())};ydi=function(a){a&1&&(_.G(0,"cm-error",16),_.N(1,6),_.I())};
zdi=function(a,b){return a.group({key:[b.key||"",[_.fu]],path:[b.path||"",[_.fu]]})};Adi=function(a,b){return a.group({key:[b.key||"",[_.fu]],name:[b.name||"",[_.fu]]})};Bdi=function(a,b){return a?RegExp("projects/([^/]+)/secrets/.+").test(a)?a:`projects/${b}/secrets/${a}`:""};Cdi=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,3),_.I())};Ddi=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,4),_.I())};Edi=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,6),_.I())};
Fdi=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,7),_.I())};Gdi=function(a){a&1&&(_.G(0,"mat-form-field",19),_.J(1,"input",20),_.G(2,"span",21),_.Q(3,"/"),_.I(),_.G(4,"mat-label"),_.N(5,5),_.I(),_.E(6,Edi,2,0,"cm-error",15)(7,Fdi,2,0,"cm-error",15),_.I());a&2&&(_.z(6),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("cfcDebounceErrorFor","unique"))};Hdi=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,8),_.I())};Idi=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,9),_.I())};
Jdi=function(a,b){a&1&&(_.G(0,"mat-option",14),_.Q(1),_.I());a&2&&(a=b.$implicit,_.F("value",a),_.z(),_.R(" ",a," "))};
Ldi=function(a,b){a&1&&(_.G(0,"cfc-form-stack-row",26)(1,"cfc-form-stack-input-wrapper")(2,"mat-form-field"),_.J(3,"input",27),_.G(4,"mat-label"),_.J(5,"cfc-form-stack-field-label",28),_.I(),_.E(6,Hdi,2,0,"cm-error",15)(7,Idi,2,0,"cm-error",15),_.I()(),_.G(8,"cfc-form-stack-input-wrapper")(9,"mat-form-field")(10,"cfc-select",29),_.E(11,Jdi,2,2,"mat-option",30),_.I(),_.G(12,"mat-label"),_.J(13,"cfc-form-stack-field-label",31),_.I()()()());a&2&&(a=b.$implicit,b=_.P(2),_.F("deleteButtonDisabled",b.shouldDisableEnvRefsDelete)("formGroup",
a),_.z(6),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("cfcDebounceErrorFor","unique"),_.z(3),_.F("observable",b.keysAvailable$),_.z(),_.F("ngForOf",Kdi(b,a.value.key)),_.z(2),_.F("label",b.msgVersionLabel))};
Ndi=function(a){if(a&1){const b=_.n();_.K(0,22);_.G(1,"cfc-form-stack",23);_.O("onRowAdditionRequested",function(){_.q(b);const c=_.P();return _.u(Mdi(c))});_.J(2,"cfc-form-stack-title",24);_.E(3,Ldi,14,7,"cfc-form-stack-row",25);_.I();_.L()}a&2&&(a=_.P(),_.z(),_.F("addDisabled",a.shouldDisableKeysAddButton)("addDisabledTooltipMessage",a.msgDisabledAddButtonTooltip),_.z(),_.F("titleHeadingVisualLevel",5),_.z(),_.F("ngForOf",a.envVarReferencesControls))};
Odi=function(a,b){a&1&&(_.G(0,"mat-option",14),_.Q(1),_.I());a&2&&(a=b.$implicit,_.F("value",a),_.z(),_.R(" ",a," "))};
Pdi=function(a,b){a&1&&(_.G(0,"cfc-form-stack-row",35)(1,"cfc-form-stack-input-wrapper")(2,"mat-form-field"),_.J(3,"input",36),_.G(4,"span",21),_.Q(5),_.S(6,"async"),_.I(),_.G(7,"mat-label"),_.J(8,"cfc-form-stack-field-label",37),_.I()()(),_.G(9,"cfc-form-stack-input-wrapper")(10,"mat-form-field")(11,"cfc-select",29),_.E(12,Odi,2,2,"mat-option",30),_.I(),_.G(13,"mat-label"),_.J(14,"cfc-form-stack-field-label",31),_.I()()()());a&2&&(a=b.$implicit,b=_.P(2),_.F("formGroup",a),_.z(5),_.bg(_.U(6,5,b.mountPathPrefix$)),
_.z(6),_.F("observable",b.keysAvailable$),_.z(),_.F("ngForOf",Kdi(b,a.value.key)),_.z(2),_.F("label",b.msgVersionLabel))};
Qdi=function(a){if(a&1){const b=_.n();_.K(0,19);_.G(1,"cfc-form-stack",32);_.O("onRowAdditionRequested",function(){_.q(b);const c=_.P();var d=Kdi(c);d=zdi(c.formBuilder,{key:1===d.length?d[0]:"",path:""});c.projectedKeysControl.push(d);return _.u()});_.J(2,"cfc-form-stack-title",33);_.E(3,Pdi,15,7,"cfc-form-stack-row",34);_.I();_.L()}a&2&&(a=_.P(),_.z(),_.F("addDisabled",a.shouldDisableKeysAddButton)("addDisabledTooltipMessage",a.msgDisabledAddButtonTooltip),_.z(),_.F("titleHeadingVisualLevel",6),
_.z(),_.F("ngForOf",a.projectedKeysControls))};Rdi=function(a){return _.PEb(a?`/${a}/`:"/",15,"...")};Sdi=function(a){a=a.filter(b=>"latest"!==b);a.sort((b,c)=>Number(c)-Number(b));return 0<a.length?a[0]:""};Tdi=function(a){return a.slice(a.lastIndexOf("/")+1)};Udi=function(a){a&1&&_.Lf(0)};Vdi=function(a){a&1&&(_.K(0),_.E(1,Udi,1,0,"ng-container",1),_.L());a&2&&(a=_.P(2),_.z(),_.F("ngTemplateOutlet",a.content))};
Wdi=function(a){a&1&&(_.G(0,"div"),_.E(1,Vdi,2,1,"ng-container",0),_.I());a&2&&(a=_.P(),_.z(),_.F("ngIf",a.content))};Xdi=function(){};Ydi=function(a){a&1&&_.E(0,Xdi,0,0,"ng-template")};Zdi=function(a){a&1&&_.J(0,"s8s-config-form-list-item",16);if(a&2){a=_.P(2).$implicit;const b=_.P();_.F("form",a)("serviceAccount",b.serviceAccount)("apiName",b.apiName)}};
$di=function(a){a&1&&(_.G(0,"cfc-form-list-item-details",14)(1,"s8s-lazy-content-renderer",15),_.E(2,Zdi,1,3,"ng-template",null,3,_.ig),_.I()());if(a&2){a=_.P().index;const b=_.ag(1);_.F("formGroupName",a);_.z();_.F("hidden",b.collapsed)}};
aei=function(a,b){a&1&&(_.G(0,"cfc-form-list-item",null,2)(2,"cfc-form-list-item-summary"),_.J(3,"s8s-config-form-list-summary",12),_.I(),_.E(4,$di,4,2,"cfc-form-list-item-details",13),_.I());if(a&2){a=b.$implicit;_.P();_.z(3);b=_.F("name",a.controls.secretPicker.controls.secret.value)("referenceType",a.controls.referenceType.value);var c,d;let f;var e=null!=(f=null==(c=a.controls.envVarRef.controls.references.at(0))?void 0:null==(d=c.value)?void 0:d.name)?f:"";c=b("firstEnvVarName",e)("envVarReferencesCount",
a.controls.envVarRef.controls.references.length);let g;d=null!=(g=a.controls.volumeRef.controls.mountPath.value)?g:"";c("mountPath",d)}};bei=function(a){a&1&&(_.G(0,"span"),_.Of(1,4),_.J(2,"a",17),_.Pf(),_.I(),_.G(3,"div",18)(4,"a",19),_.N(5,5),_.I()());a&2&&(a=_.P(),_.z(2),_.F("cfcRouterLink",a.secretManagerConfigurationLink))};cei=function(a){return{references:a.controls.references.controls.map(b=>({key:b.controls.key.value,name:b.controls.name.value}))}};
dei=function(a){return{mountPath:"/"+a.controls.mountPath.value,keys:a.controls.keys.controls.map(b=>({key:b.controls.key.value,path:b.controls.path.value})),volumeName:a.controls.volumeName.value,defaultMode:a.controls.defaultMode.value}};
_.eei=function(a){return a.controls.configs.controls.filter(b=>!b.disabled).map(b=>{var c=b.controls.isExternal.value;const d=b.controls.secretPicker.controls.secret.value,e=b.controls.referenceType.value;c={name:c?d:Tdi(d),isExternal:c,alias:""};0===e?c.envVarRef=cei(b.controls.envVarRef):c.volumeRef=dei(b.controls.volumeRef);return c})};fei=function(a){a&1&&(_.G(0,"div"),_.N(1,4),_.I())};gei=function(a){a&1&&(_.G(0,"div"),_.N(1,5),_.I())};
hei=function(a){a&1&&(_.G(0,"mat-hint"),_.Q(1),_.G(2,"a",29),_.N(3,10),_.I()());a&2&&(a=_.P(2),_.z(),_.R(" ",a.revocationActionHintMsg," "),_.z(),_.F("cfcDocLink",a.CONSOLE__RUN_DOCS_SECURING_USING_CMEK))};iei=function(a){a&1&&(_.G(0,"cm-error",34),_.N(1,14),_.I())};jei=function(a){a&1&&(_.G(0,"cm-error",34),_.N(1,15),_.I());a&2&&(a=_.P(3),_.z(),_.Qf(a.minDelayedTime)(a.maxDelayedTime),_.Rf(1))};
kei=function(a){a&1&&(_.K(0),_.G(1,"div",26)(2,"mat-form-field")(3,"mat-label"),_.N(4,11),_.I(),_.J(5,"input",30),_.G(6,"span",31),_.N(7,12),_.I(),_.G(8,"mat-hint"),_.Of(9,13),_.J(10,"a",32),_.Pf(),_.I(),_.E(11,iei,2,0,"cm-error",33)(12,jei,2,2,"cm-error",33),_.I()(),_.L());a&2&&(a=_.P(2),_.z(10),_.F("cfcDocLink",a.CONSOLE__RUN_DOCS_SECURING_USING_CMEK),_.z(),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("cfcDebounceErrorFor","invalidDelayedTime"))};
lei=function(a){a&1&&(_.K(0),_.G(1,"div",26)(2,"mat-form-field")(3,"mat-label"),_.N(4,6),_.I(),_.G(5,"cfc-select",27)(6,"mat-option",28),_.N(7,7),_.I(),_.G(8,"mat-option",28),_.N(9,8),_.I(),_.G(10,"mat-option",28),_.N(11,9),_.I()(),_.E(12,hei,4,2,"mat-hint",25),_.I(),_.E(13,kei,13,3,"ng-container",25),_.I(),_.L());a&2&&(a=_.P(),_.z(5),_.F("isRequired",!0),_.z(),_.F("value",a.keyRevocationType.PREVENT_NEW_CONTAINER_INSTANCE),_.z(2),_.F("value",a.keyRevocationType.SHUT_DOWN_AS_SOON_AS_POSSIBLE),_.z(2),
_.F("value",a.keyRevocationType.CUSTOM_SHUTDOWN_DELAY),_.z(2),_.F("ngIf",a.postKeyRevocationActionPicker.value===a.keyRevocationType.SHUT_DOWN_AS_SOON_AS_POSSIBLE||a.postKeyRevocationActionPicker.value===a.keyRevocationType.PREVENT_NEW_CONTAINER_INSTANCE),_.z(),_.F("ngIf",a.postKeyRevocationActionPicker.value===a.keyRevocationType.CUSTOM_SHUTDOWN_DELAY))};
_.mei=function(a){a=a.value;var b;if("customer-managed"!==(null==(b=a.keyPicker)?void 0:b.encryptionPlan))return _.dbi;var c;b=null==(c=a.keyPicker)?void 0:c.key;c=a.postKeyRevocationAction;a=b&&"Custom shutdown delay"===c?Number(a.delayedShutdownHours):void 0;return{key:b,postKeyRevocationAction:b?"Custom shutdown delay"===c||"Shutdown as soon as possible"===c?"SHUT_DOWN":"PREVENT_NEW":void 0,shutdownHours:a}};
nei=function(a){if(a&1){const b=_.n();_.G(0,"button",17);_.O("click",function(){_.q(b);const c=_.P();c.form.setValue(c.demoContainer);c.concordReportingService.analyticsService.sendEvent({type:"cloudRun",name:"containerSampleShortcutAttempt"});return _.u()});_.N(1,3);_.I()}};oei=function(a){a&1&&(_.K(0),_.N(1,4),_.L());a&2&&(a=_.P(),_.z(),_.Qf(a.demoContainer),_.Rf(1))};pei=function(a){a&1&&(_.K(0),_.Of(1,5),_.J(2,"code"),_.Pf(),_.L())};
qei=function(a){a&1&&(_.G(0,"cm-error",18),_.Of(1,6),_.J(2,"br")(3,"a",19),_.Pf(),_.I());a&2&&(a=_.P(),_.z(3),_.F("cfcDocLink",a.CONSOLE__RUN_BUILD_DEPLOY_QUICKSTART),_.Qf(a.demoContainer),_.Rf(1))};rei=function(a){a&1&&(_.G(0,"cm-error",18),_.N(1,7),_.I())};sei=function(a){a&1&&(_.G(0,"cfc-message",20)(1,"cfc-message-text"),_.Of(2,8),_.J(3,"a",21),_.Pf(),_.I()());a&2&&(a=_.P(),_.z(3),_.F("cfcRouterLink",a.cloudBuildTriggerLink))};
_.L6=function(a){const b=a.controls.memoryList.value;return{memory:-1!==b?0===b%1024?`${b/1024}Gi`:`${b}${"Mi"}`:a.controls.memoryInput.value+a.controls.memoryUnit.value,cpuMillis:_.t6h(a)}};
tei=function(a){if(a&1){const b=_.n();_.G(0,"net-subnet-picker",5);_.O("networkFormReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("network",c))})("subnetworkFormReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("subnetwork",c))})("xpnNetworkFormReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("xpnNetwork",c))})("xpnSubnetworkFormReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("xpnSubnetwork",c))})("sourceProjectFormReady",
function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("sourceProject",c))});_.G(1,"net-subnet-picker-network-tooltip");_.N(2,1);_.I();_.G(3,"net-subnet-picker-subnetwork-tooltip");_.N(4,2);_.I()()}a&2&&(a=_.P(),_.F("mode",a.subnetPickerMode)("data",a.subnetPickerData)("projectId",a.projectId)("sourceProject",a.sourceProject)("regionName",a.targetRegion)("network",a.selectedNetwork)("subnetwork",a.selectedSubnetwork)("usedSubnets",a.usedSubnets)("xpnNetwork",a.selectedXpnNetwork)("xpnSubnetwork",
a.selectedXpnSubnetwork),_.z(2),_.Qf(a.resourceTypeName),_.Rf(2),_.z(2),_.Qf(a.resourceTypeName),_.Rf(4))};uei=function(a,b){return a.includes("/")?a.split("/")[1]!==b:!1};vei=function(a){a&1&&(_.G(0,"cfc-form-error",12),_.Q(1),_.I());a&2&&(a=_.P(),_.F("control",a.form),_.z(),_.R(" ",a.MSG_TOOLTIP_EGRESS_ORG_POLICY_FORBIDDEN," "))};wei=function(a){a&1&&(_.G(0,"cfc-form-error",12),_.N(1,4),_.I());a&2&&(a=_.P(),_.F("control",a.form))};
xei=function(a){if(a&1){const b=_.n();_.G(0,"div",10)(1,"direct-vpc",18);_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(d.form.setControl("directVpc",c))});_.I()()}a&2&&(a=_.P(2),_.z(),_.F("targetRegion",a.targetRegion)("initialDirectVpc",null==a.initialVpcSettings?null:a.initialVpcSettings.directVpc)("resourceTypeName",a.resourceTypeName))};
yei=function(a){if(a&1){const b=_.n();_.G(0,"div",10)(1,"vpc-connector",19);_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(d.form.setControl("connector",c))});_.I()()}a&2&&(a=_.P(2),_.z(),_.F("initialVpcConnector",null==a.initialVpcSettings?null:null==a.initialVpcSettings.vpcConnector?null:a.initialVpcSettings.vpcConnector.fullName)("targetRegion",a.targetRegion)("resourceTypeName",a.resourceTypeName))};
zei=function(a){if(a&1){const b=_.n();_.G(0,"div",10)(1,"mat-radio-group",11)(2,"mat-radio-button",12)(3,"div");_.Of(4,2);_.J(5,"cfc-badge",13);_.Pf();_.I();_.G(6,"div",7);_.Of(7,3);_.J(8,"a",14);_.Pf();_.I()();_.E(9,xei,2,3,"div",9);_.G(10,"mat-radio-button",15)(11,"div");_.N(12,4);_.I();_.G(13,"div",7);_.Of(14,5);_.J(15,"a",16);_.Pf();_.I()();_.E(16,yei,2,3,"div",9);_.I();_.G(17,"vpc-access-egress",17);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("accessEgress",
c))});_.I()()}a&2&&(a=_.P(),_.z(),_.F("formControl",a.form.controls.type),_.z(),_.F("value",a.VpcSettingsType.DIRECT_VPC)("cfcDisable",a.isRegionUnsupported)("cfcDisableTooltip",a.unsupportedRegionsTooltip)("ve",a.ve.ServerlessVpcSettingsDirectVpcOptionToggle)("veClick",!0),_.z(6),_.F("cfcDocLink",a.dl.CONSOLE__RUN_DOCS_CONFIGURING_VPC_DIRECT_VPC),_.z(),_.F("ngIf",a.type===a.VpcSettingsType.DIRECT_VPC),_.z(),_.F("value",a.VpcSettingsType.VPC_CONNECTOR)("ve",a.ve.ServerlessVpcSettingsVpcConnectorOptionToggle)("veClick",
!0),_.z(5),_.F("cfcDocLink",a.dl.CONSOLE__RUN_DOCS_CONFIGURING_VPC_CONNECTORS),_.z(),_.F("ngIf",a.type===a.VpcSettingsType.VPC_CONNECTOR),_.z(),_.F("initialVpcAccessEgress",null==a.initialVpcSettings?null:a.initialVpcSettings.vpcAccessEgress))};Aei=function(a,b){b?null==a||a.enable({emitEvent:!1}):null==a||a.disable({emitEvent:!1})};Bei=function(a){return a.controls.enabled.value?a.controls.type.value:"NONE"};
_.Cei=function(a){const b=Bei(a);switch(b){case "VPC_CONNECTOR":var c=a.controls.connector;let g;var d,e,f=null==(g=c.controls.vpcConnector)?void 0:g.value;c=null!=(e=null==(d=c.controls.vpcConnectorInput)?void 0:d.value)?e:null;return{type:b,connector:"Custom..."===f?c:f,accessEgress:a.controls.accessEgress.value};case "DIRECT_VPC":{d=a.controls.directVpc;let l;if("CURRENT"===(null==(l=d.controls.sourceProject)?void 0:l.value)){let p,r;e=[{network:null==(p=d.controls.network)?void 0:p.value.name,
subnetwork:null==(r=d.controls.subnetwork)?void 0:r.value.name,tags:d.controls.tags.value}]}else e=[{network:null==(f=d.controls.xpnNetwork)?void 0:f.value.selfLink,subnetwork:null==(c=d.controls.xpnSubnetwork)?void 0:c.value.selfLink,tags:d.controls.tags.value}]}return{type:b,directVpc:e,accessEgress:a.controls.accessEgress.value};case "NONE":return _.zci;default:_.rc(b,void 0)}};
Dei=function(a,b){a&1&&(_.G(0,"mat-option",19),_.J(1,"cfc-select-rich-option",20),_.I());a&2&&(a=b.$implicit,b=_.P(),_.F("value",a.name),_.z(),_.F("primary",b.getServiceAccountPrimaryName(a))("secondary",a.name))};Eei=function(a){a&1&&(_.G(0,"mat-option",21),_.Of(1,5),_.J(2,"code"),_.Pf(),_.I());a&2&&_.F("disabled",!0)};Fei=function(a){a&1&&(_.G(0,"mat-hint"),_.N(1,6),_.I())};Gei=function(a){a&1&&(_.G(0,"mat-hint"),_.N(1,7),_.I())};Hei=function(a){a&1&&(_.G(0,"cm-error",22),_.N(1,8),_.I())};Iei=function(){};
Jei=function(a){a&1&&_.E(0,Iei,0,0,"ng-template")};Kei=function(a){if(a&1){const b=_.n();_.G(0,"cfc-message",14)(1,"div");_.Q(2," You might need Cloud SQL Admin API to connect to the database. ");_.G(3,"div",15)(4,"cfc-progress-button",16);_.S(5,"nonNullAsync");_.G(6,"button",17);_.O("click",function(){_.q(b);_.P().enableCloudSqlAdminApiButtonClicked$.next();return _.u()});_.N(7,1);_.I()()()()()}a&2&&(a=_.P(),_.z(4),_.F("inProgress",_.U(5,1,a.isEnablingCloudSqlAdminApiInProgress$)))};
Lei=function(a,b){a&1&&(_.G(0,"mat-option",24),_.Q(1),_.I());a&2&&(a=b.$implicit,_.F("value",a),_.z(),_.R(" ",a," "))};Mei=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,2),_.I())};
Nei=function(a){if(a&1){const b=_.n();_.G(0,"mat-form-field")(1,"cfc-select",20);_.O("change",function(){_.q(b);var c=_.P(2).sqlInstances.controls;c=c[c.length-1];"Custom connection string..."===c.controls.sqlInstancesList.value&&(c=c.controls.sqlInstancesInput,c.enable(),c.markAsTouched(),c.updateValueAndValidity());return _.u()});_.E(2,Lei,2,2,"mat-option",21);_.I();_.G(3,"mat-label");_.J(4,"cfc-form-stack-field-label",22);_.I();_.E(5,Mei,2,0,"cm-error",23);_.I()}a&2&&(a=_.P(2),_.z(2),_.F("ngForOf",
a.sqlInstancesFromProject),_.z(3),_.F("cfcDebounceErrorFor","required"))};Oei=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,3),_.I())};Pei=function(a){a&1&&(_.G(0,"cm-error",25),_.N(1,4),_.I())};
Qei=function(a){a&1&&(_.G(0,"mat-form-field"),_.J(1,"input",26),_.G(2,"mat-label"),_.J(3,"cfc-form-stack-field-label",27),_.I(),_.E(4,Oei,2,0,"cm-error",23)(5,Pei,2,0,"cm-error",23),_.I());a&2&&(a=_.P(2),_.z(),_.F("placeholder",a.placeholderCustomConnection),_.z(3),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("cfcDebounceErrorFor","pattern"))};
Rei=function(a,b){a&1&&(_.G(0,"cfc-form-stack-row",18)(1,"cfc-form-stack-input-wrapper"),_.E(2,Nei,6,2,"mat-form-field",19)(3,Qei,6,3,"mat-form-field",19),_.I()());if(a&2){var c;let d;b=b.$implicit;_.P();_.F("formGroup",b);_.z(2);a="Custom connection string..."===(null==(c=b.get("sqlInstancesList"))?null:c.value);_.F("ngIf",!a);_.z();c="Custom connection string..."===(null==(d=b.get("sqlInstancesList"))?null:d.value);_.F("ngIf",c)}};
Sei=function(a){a&1&&(_.G(0,"div"),_.Of(1,5),_.J(2,"p")(3,"p"),_.G(4,"div",28),_.J(5,"a",29),_.I(),_.Pf(),_.I());a&2&&(a=_.P(2),_.z(5),_.F("cfcDocLink",a.CONSOLE__RUN_DOCS_CONFIGURING_CONNECT_CLOUDSQL))};Tei=function(a){a&1&&(_.G(0,"div"),_.Of(1,6),_.J(2,"p")(3,"p"),_.G(4,"div",28),_.J(5,"a",30),_.I(),_.Pf(),_.I());a&2&&(a=_.P(2),_.z(5),_.F("cfcDocLink",a.CONSOLE__RUN_DOCS_CONFIGURING_CONNECT_CLOUDSQL))};
Uei=function(a){a&1&&_.E(0,Sei,6,1,"div",19)(1,Tei,6,1,"div",19);a&2&&(a=_.P(),_.F("ngIf","revision"===a.hintsFor),_.z(),_.F("ngIf","job"===a.hintsFor))};_.Vei=function(a){return a.controls.sqlInstances.controls.filter(b=>!b.disabled).map(b=>{const c=b.controls.sqlInstancesList.value;return"Custom connection string..."===c?b.controls.sqlInstancesInput.value:c})};
Wei=function(a){a&1&&(_.G(0,"div",6)(1,"cfc-progress-button",7),_.J(2,"button",8),_.I(),_.G(3,"mat-hint"),_.Q(4," Enabling Binary Authorization API, please wait "),_.I()());a&2&&(_.z(),_.F("inProgress",!0),_.z(),_.F("hidden",!0))};Xei=function(){};Yei=function(a){a&1&&_.E(0,Xei,0,0,"ng-template")};Zei=function(a){a&1&&(_.G(0,"mat-hint"),_.Q(1," Clicking the checkbox will enable the Binary Authorization API. "),_.I())};
$ei=function(a){a&1&&(_.G(0,"a",17),_.Q(1," Configure Policy "),_.I());a&2&&(a=_.P(2),_.F("cfcRouterLink",a.binauthzLink))};afi=function(a,b){if(a&1){const c=_.n();_.G(0,"binauthz-policy-selector",20);_.S(1,"nonNullAsync");_.O("formReady",function(d){_.q(c);const e=_.P(3);return _.u(e.form.setControl("binauthzPolicySelector",d))});_.I()}a&2&&(a=b.ngIf,b=_.P(3),_.F("binAuthzNamedPolicy",b.initialBinAuthzPolicy)("policies",a)("shouldDisplayNoValidPolicyWarning",_.U(1,3,b.shouldDisplayNoValidPolicyWarning$)))};
bfi=function(a){a&1&&(_.G(0,"cfc-loader",18),_.S(1,"async"),_.E(2,afi,2,5,"binauthz-policy-selector",19),_.S(3,"async"),_.I());a&2&&(a=_.P(2),_.F("isLoading",!_.U(1,2,a.policies$)),_.z(2),_.F("ngIf",_.U(3,4,a.policies$)))};
cfi=function(a){a&1&&(_.G(0,"div",6)(1,"div",9)(2,"mat-checkbox",10),_.S(3,"nonNullAsync"),_.G(4,"div"),_.N(5,1),_.I()(),_.G(6,"cfc-help-button",11),_.E(7,Yei,1,0,null,12),_.I()(),_.J(8,"div",13),_.G(9,"div",13),_.E(10,Zei,2,0,"mat-hint",14),_.S(11,"nonNullAsync"),_.E(12,$ei,2,1,"a",15)(13,bfi,4,6,"cfc-loader",16),_.I()());if(a&2){a=_.P();const b=_.ag(6);_.z(2);_.F("cfcDisable",_.U(3,10,a.isBinAuthzDisabled$))("cfcDisableTooltip",a.MSG_TOOLTIP_BINAUTHZ_ORG_POLICY_ENFORCED)("ve",a.ve.ServerlessBinaryAuthorizationCheckbox)("veClick",
!0);_.z(5);_.F("ngTemplateOutlet",b);_.z();_.F("cfcIndentation",!0);_.z();_.F("cfcIndentation",!0);_.z();_.F("ngIf",_.U(11,12,a.cloudBinAuthzApiMissing$));_.z(2);_.F("ngIf",!a.binAuthzNamedPolicySupportEnabled&&a.binauthzCheckbox.value&&!a.isApiEnablednessInProgress$.value);_.z();_.F("ngIf",a.binAuthzNamedPolicySupportEnabled&&a.binauthzCheckbox.value&&!a.isApiEnablednessInProgress$.value)}};dfi=function(a){a&1&&(_.Of(0,2,1),_.J(1,"a",22),_.Pf());a&2&&(a=_.P(2),_.z(),_.F("cfcDocLink",a.dl.CONSOLE__BINARY_AUTHORIZATION_DOCS_RUN_OVERVIEW))};
efi=function(a){a&1&&(_.G(0,"span"),_.Of(1,2),_.E(2,dfi,2,1,"a",21),_.Pf(),_.I());a&2&&(a=_.P(),_.z(2),_.F("ngIf",a.binAuthzNamedPolicySupportEnabled))};ffi=function(a){let b,c;return!!(null==a?0:null==(b=a.listPolicy)?0:null==(c=b.allowedValues)?0:c.length)};gfi=function(a){return a.includes("")||0===a.length};_.hfi=function(a){const b=_.zc(_.Jci);return a.controls.binauthzCheckbox.value?b?_.edi(a.controls.binauthzPolicySelector):"default":""};
_.ifi=function(a){var b=a.type;switch(b){case "NONE":break;case "VPC_CONNECTOR":return{vpcAccessEgress:a.accessEgress,vpcConnector:{displayName:a.connector}};case "DIRECT_VPC":return b=a.directVpc[0],{vpcAccessEgress:a.accessEgress,directVpc:{vpcNetworkInterfaces:[{network:b.network,subnetwork:b.subnetwork,tags:b.tags}]}};default:_.rc(b,void 0)}};jfi={ALL_TRAFFIC:"all-traffic",PRIVATE_RANGES_ONLY:"private-ranges-only"};kfi={type:1,path:"/run/docs/quickstarts/build-and-deploy"};lfi={type:1,path:"/run/docs/configuring/connect-cloudsql"};
mfi={type:1,path:"/run/docs/configuring/vpc-connectors"};nfi={type:1,path:"/run/docs/configuring/vpc-direct-vpc"};ofi={type:1,path:"/run/docs/securing/using-cmek"};
_.pfi=class{constructor(a,b,c){this.item=a;this.templateRef=b;this.viewContainer=c;this.viewContainer.createEmbeddedView(this.templateRef);this.item.parent.restoreDeletedAndShowDiff=!0;this.deletionSubscription=this.item.onMarkedForDeletion.subscribe(d=>{d?this.viewContainer.clear():this.viewContainer.createEmbeddedView(this.templateRef)})}ngOnDestroy(){this.deletionSubscription&&this.deletionSubscription.unsubscribe()}};_.pfi.\u0275fac=function(a){return new (a||_.pfi)(_.A(_.lV,1),_.A(_.Uf),_.A(_.Vf))};
_.pfi.\u0275dir=_.gd({type:_.pfi,selectors:[["","cfcFormListKeepInitialModel",""]]});
var qfi={ENV_VAR:0,VOLUME:1,0:"ENV_VAR",1:"VOLUME"},rfi=function(a,b){const c=new _.kf;Promise.all([a.loader.loadModule("pm_artifacts_image_selector"),_.oh(a.loader,{moduleId:"pm_artifacts_image_selector",className:"SubtaskService"})]).then(([d,e])=>{d=_.ym(d,"ArtifactsImageSelector");e=e.open(d,{data:b});e.onAccept.subscribe(f=>{c.next(f);c.complete()});e.onCancel.subscribe(()=>{c.next(void 0);c.complete()})}).catch(d=>{a.errorService.handleError(d,"Failed to open image selector");c.next(void 0);
c.complete()});return c},sfi=class{constructor(a,b){this.loader=a;this.errorService=b}};sfi.\u0275fac=function(a){return new (a||sfi)(_.k(_.nh),_.k(_.lv))};sfi.\u0275prov=_.h({token:sfi,factory:sfi.\u0275fac,providedIn:"root"});rdi=a=>({"cfc-tab-error":!0,"cm-icon--legacy-margins":!0,"cfc-tab-error-legacy-icon-alignment":a});tdi=a=>({"cfc-tab-warning":!0,"cm-icon--legacy-margins":!0,"cfc-tab-error-legacy-icon-alignment":a});
tfi=function(a,b){if(!b)return!1;if(!(b instanceof _.ju||b instanceof _.mu))return!!b.touched&&!!b.invalid;b=b instanceof _.ju?b:b.control;if(!b)return!1;for(const c of Object.keys(b.controls))if(tfi(a,b.get(c)))return!0;return!1};
_.ufi=class{set headerTemplate(a){this.tab.templateLabel=a}set forceShowErrorIcon(a){this.forceShowErrorIconInternal=a}get shouldShowErrorIcon(){return this.forceShowErrorIconInternal||this.errorFor&&this.errorFor.invalid&&(tfi(this,this.errorFor)||this.form&&this.form.submitted)}constructor(a,b,c,d,e){this.themingService=a;this.legacyTab=b;this.cmTab=c;this.icons={statusErrorIcon:_.mh,statusWarningIcon:_.lh};this.forceShowErrorIconInternal=this.showWarningIcon=!1;this.form=e||d;let f;this.tab=null!=
(f=this.cmTab)?f:this.legacyTab}};_.ufi.\u0275fac=function(a){return new (a||_.ufi)(_.A(_.hn),_.A(_.Nz,8),_.A(_.Yq,8),_.A(_.ru,8),_.A(_.ku,8))};
_.ufi.\u0275cmp=_.m({type:_.ufi,selectors:[["cfc-tab-error"]],viewQuery:function(a,b){a&1&&_.Xf(_.Xq,7);if(a&2){let c;_.Zf(c=_.$f())&&(b.headerTemplate=c.first)}},inputs:{errorFor:"errorFor",showWarningIcon:"showWarningIcon",forceShowErrorIcon:"forceShowErrorIcon"},decls:1,vars:0,consts:[["mat-tab-label",""],[3,"icon","class",4,"ngIf"],[3,"icon"]],template:function(a){a&1&&_.E(0,vdi,3,3,"ng-template",0)},dependencies:[_.Bl,_.Eo,_.Xq,_.Oz],styles:[".cfc-tab-error-legacy-icon-alignment[_ngcontent-%COMP%]{text-indent:-18px;-webkit-transform:translateX(-3px);transform:translateX(-3px)}"],
changeDetection:0});var vfi=class{};vfi.\u0275fac=function(a){return new (a||vfi)};vfi.\u0275mod=_.ed({type:vfi});vfi.\u0275inj=_.Qc({imports:[_.Q$h,_.Hl,_.Hu,_.iV,_.Iu,_.x6]});var wfi=[_.aD,_.et,_.Uu,_.Hl,_.QD,_.Pz,_.wE,_.dH,_.gH,_.AI,_.yD,_.Rz,_.Iu,vfi,_.jF],xfi=class{};xfi.\u0275fac=function(a){return new (a||xfi)};xfi.\u0275mod=_.ed({type:xfi});xfi.\u0275inj=_.Qc({imports:[_.et,wfi]});var yfi=class{};yfi.\u0275fac=function(a){return new (a||yfi)};yfi.\u0275mod=_.ed({type:yfi});
yfi.\u0275inj=_.Qc({imports:[_.et,_.Hl,_.bE,_.QD,_.iA,_.Hu,_.wE,_.BE,_.ox,_.ry,_.ep,_.Iu,_.dw]});var zfi=class{};zfi.\u0275fac=function(a){return new (a||zfi)};zfi.\u0275mod=_.ed({type:zfi});zfi.\u0275inj=_.Qc({imports:[_.et,_.dp,_.Hl,_.QD,_.iA,_.wE,_.iV,_.ox,_.yy,_.ep,_.Iu,_.NA]});var Afi=class{};Afi.\u0275fac=function(a){return new (a||Afi)};Afi.\u0275mod=_.ed({type:Afi});Afi.\u0275inj=_.Qc({imports:[_.et,_.Hl,_.Pz,_.QD,_.iA,_.Hu,_.wE,_.iV,_.ox,_.yy,_.ep,_.Iu,_.NA]});
var Bfi=[_.aD,_.et,_.Uu,_.Hl,_.Pz,_.iA,_.dH,_.gH,_.JN,_.AI,_.yD,_.Rz,_.Iu,_.dw,yfi,zfi,Afi,vfi,_.jF],Cfi=class{};Cfi.\u0275fac=function(a){return new (a||Cfi)};Cfi.\u0275mod=_.ed({type:Cfi});Cfi.\u0275inj=_.Qc({imports:[_.et,Bfi]});var Dfi=class{};Dfi.\u0275fac=function(a){return new (a||Dfi)};Dfi.\u0275mod=_.ed({type:Dfi});Dfi.\u0275inj=_.Qc({imports:[_.et,_.Hl,_.QD,_.iA,_.dH,_.dp,_.dv,_.Uu,_.uo,_.ry,_.yy,_.ep,_.Iu,_.dw]});var Efi=class{};Efi.\u0275fac=function(a){return new (a||Efi)};
Efi.\u0275mod=_.ed({type:Efi});Efi.\u0275inj=_.Qc({imports:[_.Hu]});
var Ffi=class{get isFullEmail(){return 0<this.serviceAccountControl.value.indexOf("@")}constructor(a,b,c,d){this.formBuilder=a;this.projectParamService=b;this.dialogRef=c;this.serviceAccountControl=this.formBuilder.control("");c.addPanelClass("cfc-max-width-full");let e;this.projectId=null!=(e=null==d?void 0:d.projectId)?e:_.oq(b);this.emailSuffix=`@${this.projectId}.iam.gserviceaccount.com`;let f;this.enableFullEmail=null!=(f=null==d?void 0:d.enableFullEmail)?f:!1;this.serviceAccountControl.setValidators([_.Ht(this.enableFullEmail?
"[a-z][a-z0-9-]+[a-z0-9]+(@[a-zA-Z0-9-.]+.[a-zA-Z]{2,3}$)?":"[a-z][a-z0-9-]+[a-z0-9]"),_.fu])}save(){this.serviceAccountControl.valid?this.dialogRef.close({displayName:this.displayName,email:this.accountEmail,name:this.enableFullEmail?void 0:this.accountName}):(this.serviceAccountControl.markAsTouched(),this.serviceAccountControl.updateValueAndValidity())}get serviceAccountValue(){return this.serviceAccountControl.value}get displayName(){return this.isFullEmail?this.serviceAccountValue.split("@")[0]:
this.serviceAccountValue}get accountEmail(){return this.isFullEmail?this.serviceAccountValue:`${this.serviceAccountValue}${this.emailSuffix}`}get accountName(){return`projects/${this.projectId}/serviceAccounts/${this.displayName}${this.emailSuffix}`}};Ffi.\u0275fac=function(a){return new (a||Ffi)(_.A(_.Fu),_.A(_.pq),_.A(_.eo),_.A(_.fo))};
Ffi.\u0275cmp=_.m({type:Ffi,selectors:[["s8s-service-account-input-dialog"]],decls:17,vars:4,consts:()=>[" Enter service account name\n"," Enter name of the service account you want to use. "," Service account "," Cancel "," Save "," Please enter the service account name to use "," Service account name must start with a lower case letter, followed by one or more lower case alphanumerical characters that can be separated by hyphens. ",["matDialogTitle",""],["matDialogContent",""],[1,"cfc-space-below-base"],
["matInput","","required","",3,"formControl"],["id","s8s-service-account-dialog-input-suffix","matSuffix","","class","hidden-on-page-width-small",4,"ngIf"],["matError","",4,"cfcDebounceErrorFor"],["mat-button","","color","secondary",3,"click"],["mat-button","","color","primary",3,"click"],["id","s8s-service-account-dialog-input-suffix","matSuffix","",1,"hidden-on-page-width-small"],["matError",""]],template:function(a,b){a&1&&(_.G(0,"h1",7),_.N(1,0),_.I(),_.G(2,"div",8)(3,"p",9),_.N(4,1),_.I(),_.G(5,
"mat-form-field")(6,"mat-label"),_.N(7,2),_.I(),_.J(8,"input",10),_.E(9,wdi,2,1,"span",11)(10,xdi,2,0,"cm-error",12)(11,ydi,2,0,"cm-error",12),_.I()(),_.G(12,"mat-dialog-actions")(13,"button",13),_.O("click",function(){return b.dialogRef.close(void 0)}),_.N(14,3),_.I(),_.G(15,"button",14),_.O("click",function(){return b.save()}),_.N(16,4),_.I()());a&2&&(_.z(8),_.F("formControl",b.serviceAccountControl),_.z(),_.F("ngIf",!b.enableFullEmail||!b.isFullEmail),_.z(),_.F("cfcDebounceErrorFor","required"),
_.z(),_.F("cfcDebounceErrorFor","pattern"))},dependencies:[_.Bl,_.PD,_.Qu,_.Lp,_.Pu,_.ho,_.io,_.Ku,_.oy,_.OD,_.py,_.iy,_.hy,_.ND,_.Qz,_.wy,_.xy,_.uy,_.Lt,_.ly,_.yu,_.qu],styles:["@media screen and (max-width: 600px){.hidden-on-page-width-small[_ngcontent-%COMP%]{display:none}}"]});
var Gfi=function(a,b,c={},d){const e=c.envVarRef?0:1,f=c.volumeRef||{};var g=f.keys||[];let l,p;var r=null!=(p=null==(l=c.envVarRef)?void 0:l.references)?p:[];g=b.array(g.map(v=>zdi(b,v)));r=b.array(r.map(v=>Adi(b,v)));let t;return b.group({secretPicker:b.group({secret:b.control(Bdi(c.name,d),[_.fu])}),isExternal:b.control(null!=(t=c.isExternal)?t:!1),referenceType:b.control(e,[_.fu]),envVarRef:b.group({references:r}),volumeRef:b.group({mountPath:[a.trimPath(f.mountPath),1===e?_.fu:[]],keys:g,volumeName:[f.volumeName||
""],defaultMode:[f.defaultMode||0]})})},Hfi=class{trimPath(a=""){return a.startsWith("/")?a.slice(1):a}},Kdi=function(a,b){const c=a.keyPairs;return a.keys.filter(d=>d===b||!c.some(e=>d===e.key))},Mdi=function(a){var b=Kdi(a);b=Adi(a.formBuilder,{key:Sdi(b),name:""});a.envVarReferencesControl.push(b)},Ifi=function(a){return a.orgPolicyService.isAllowedValue(0,a.projectId,a.orgPolicyConstraint,a.apiName).pipe(_.Je(()=>_.w(!0)),_.y(b=>b?null:{[a.orgPolicyConstraint]:!0}))},Jfi=function(a){let b=a.secretName;
a.secretNameControl.valueChanges.pipe(_.B(a.destroyed$)).subscribe(c=>{c!==b&&(b=c,a.onConfigChange())})},Kfi=function(a){const b=zdi(a.formBuilder,{key:"latest",path:Tdi(a.secretName)});a.projectedKeysControl.push(b)},Lfi=function(a){for(const b of a.envVarReferencesControl.controls){const c=b.get("key");if(!c.value){const d=Kdi(a);c.setValue(Sdi(d))}}},Mfi=class{constructor(a,b,c,d){this.formBuilder=a;this.projectService=b;this.projectParamService=c;this.orgPolicyService=d;this.destroyed$=new _.hf(1);
this.apiName=this.serviceAccount="";this.keysAvailable$=new _.hf(1);this.isFirstVersionChange=!0;this.msgVersionLabel="Version";this.msgDisabledAddButtonTooltip="All secret versions have been added";this.referenceTypeEnum=qfi;this.envVarAccessOrgPolicyConstraint="constraints/gcp.SecretManagerEnvvarAccess";this.fileSystemAccessOrgPolicyConstraint="constraints/gcp.SecretManagerFilesystemAccess";this.projectId=_.oq(this.projectParamService);this.keys=["latest"];this.secretsOrgPolicyEnforcementEnabled=
_.zc(_.bbi);this.projectService.getProject(this.projectId).pipe(_.B(this.destroyed$)).subscribe(e=>{this.projectNumber=e.projectNumber})}ngOnInit(){this.secretsOrgPolicyEnforcementEnabled&&this.apiName&&setTimeout(()=>{_.wac(this.referenceTypeControl,()=>Ifi(this));this.referenceTypeControl.updateValueAndValidity()});this.currentReferenceType=this.referenceTypeControl.value;this.referenceTypeControl.valueChanges.pipe(_.B(this.destroyed$)).subscribe(()=>{const a=this.referenceTypeControl.value;a!==
this.currentReferenceType&&(this.currentReferenceType=a,1===this.referenceType?(this.envVarReferencesControl.clear(),this.mountPathControl.setValidators([_.fu]),Kfi(this)):(this.mountPathControl.setValue(""),this.projectedKeysControl.clear(),this.form.controls.volumeRef.controls.volumeName.setValue(""),this.form.controls.volumeRef.controls.defaultMode.setValue(0),Mdi(this),this.mountPathControl.validator=null),this.mountPathControl.updateValueAndValidity())});Jfi(this);this.mountPathPrefix$=this.mountPathControl.valueChanges.pipe(_.y(Rdi))}ngOnDestroy(){this.destroyed$.next()}get orgPolicyConstraint(){switch(this.referenceType){case 0:return"constraints/gcp.SecretManagerEnvvarAccess";
default:case 1:return"constraints/gcp.SecretManagerFilesystemAccess"}}onConfigChange(){this.keysAvailable$=new _.hf(1);this.isFirstVersionChange=!0;this.envVarReferencesControl.clear();this.projectedKeysControl.clear();0===this.referenceType&&Mdi(this);1===this.referenceType&&Kfi(this);if(this.secretName){const a=this.secretName.split("/")[1];this.form.controls.isExternal.setValue(a!==this.projectId&&a!==this.projectNumber)}}onSecretPickerVersionsChange(a){this.keys=[...a.map(b=>b.displayName),"latest"];
Lfi(this);(0<a.length||!this.isFirstVersionChange)&&this.keysAvailable$.complete();this.isFirstVersionChange=!1}get secretNameControl(){return this.form.controls.secretPicker.controls.secret}get secretName(){return this.secretNameControl.value}get referenceTypeControl(){return this.form.controls.referenceType}get referenceType(){return this.referenceTypeControl.value}get envVarReferencesControl(){return this.form.controls.envVarRef.controls.references}get envVarReferences(){return this.envVarReferencesControl.value}get envVarReferencesControls(){return this.envVarReferencesControl.controls}get projectedKeysControl(){return this.form.controls.volumeRef.controls.keys}get projectedKeys(){return this.projectedKeysControl.value}get projectedKeysControls(){return this.projectedKeysControl.controls}get mountPathControl(){return this.form.controls.volumeRef.controls.mountPath}get shouldDisableKeysAddButton(){return!this.secretName||
this.keys.length<=this.keyPairs.length}get keyPairs(){return 1===this.referenceType?this.projectedKeys:this.envVarReferences}get shouldDisableEnvRefsDelete(){return 2>this.envVarReferencesControl.length}};Mfi.\u0275fac=function(a){return new (a||Mfi)(_.A(_.Fu),_.A(_.Tq),_.A(_.pq),_.A(_.eP))};
Mfi.\u0275cmp=_.m({type:Mfi,selectors:[["s8s-config-form-list-item"]],inputs:{form:"form",serviceAccount:"serviceAccount",apiName:"apiName"},decls:16,vars:10,consts:()=>[" Mounted as volume "," Exposed as environment variable "," Reference method "," Secrets exposed as environment variable are disallowed by your Organization Policy. "," Secrets mounted as volume are disallowed by your Organization Policy. "," Mount path "," Mount path is required. "," Mount path must be unique. "," Name is required ",
" Name must be unique ",["bindParentFormSubmitEvent","",3,"formGroup"],["formGroupName","secretPicker",3,"versionsChange"],[3,"secret","serviceAccount"],["formControlName","referenceType","refreshOnStatusChange",""],[3,"value"],["matError","",4,"cfcDebounceErrorFor"],["formGroupName","volumeRef",4,"ngIf"],["formGroupName","envVarRef",4,"ngIf"],["matError",""],["formGroupName","volumeRef"],"matInput  formControlName mountPath refreshOnStatusChange ".split(" "),["matPrefix",""],["formGroupName","envVarRef"],
["formArrayName","references","addButtonMessage","Add",3,"onRowAdditionRequested","addDisabled","addDisabledTooltipMessage"],["stackTitle","Environment variables",3,"titleHeadingVisualLevel"],["itemLabel","Variable","deleteDisabledTooltipMessage","At least one key should be referenced","bindParentFormSubmitEvent","",3,"deleteButtonDisabled","formGroup",4,"ngFor","ngForOf"],["itemLabel","Variable","deleteDisabledTooltipMessage","At least one key should be referenced","bindParentFormSubmitEvent","",
3,"deleteButtonDisabled","formGroup"],"matInput  formControlName name refreshOnStatusChange ".split(" "),["label","Name"],["formControlName","key",3,"observable"],[3,"value",4,"ngFor","ngForOf"],[3,"label"],["formArrayName","keys","addButtonMessage","Add",3,"onRowAdditionRequested","addDisabled","addDisabledTooltipMessage"],["stackTitle","Specified paths for secret versions",3,"titleHeadingVisualLevel"],["itemLabel","Key",3,"formGroup",4,"ngFor","ngForOf"],["itemLabel","Key",3,"formGroup"],["matInput",
"","formControlName","path"],["label","Path"]],template:function(a,b){a&1&&(_.K(0,10),_.G(1,"cfc-secret-picker",11),_.O("versionsChange",function(c){return b.onSecretPickerVersionsChange(c)}),_.I(),_.J(2,"gse-service-account-warning",12),_.G(3,"mat-form-field")(4,"cfc-select",13)(5,"mat-option",14),_.N(6,0),_.I(),_.G(7,"mat-option",14),_.N(8,1),_.I()(),_.G(9,"mat-label"),_.N(10,2),_.I(),_.E(11,Cdi,2,0,"cm-error",15)(12,Ddi,2,0,"cm-error",15),_.I(),_.E(13,Gdi,8,2,"mat-form-field",16)(14,Ndi,4,4,"ng-container",
17)(15,Qdi,4,4,"ng-container",16),_.L());a&2&&(_.F("formGroup",b.form),_.z(2),_.F("secret",b.secretName)("serviceAccount",b.serviceAccount),_.z(3),_.F("value",b.referenceTypeEnum.VOLUME),_.z(2),_.F("value",b.referenceTypeEnum.ENV_VAR),_.z(4),_.F("cfcDebounceErrorFor",b.envVarAccessOrgPolicyConstraint),_.z(),_.F("cfcDebounceErrorFor",b.fileSystemAccessOrgPolicyConstraint),_.z(),_.F("ngIf",b.referenceType===b.referenceTypeEnum.VOLUME),_.z(),_.F("ngIf",b.referenceType===b.referenceTypeEnum.ENV_VAR),
_.z(),_.F("ngIf",b.referenceType===b.referenceTypeEnum.VOLUME))},dependencies:[_.dt,_.oy,_.OD,_.py,_.iy,_.hy,_.ND,_.DC,_.wy,_.xy,_.uy,_.Al,_.Bl,_.PD,_.u6,_.U5,_.KE,_.VE,_.GE,_.HE,_.IE,_.Xt,_.Lt,_.ly,_.Ky,_.ru,_.uu,_.su,_.tu,_.Mai,_.abi,_.az,_.$y,_.fz,_.Gl],encapsulation:2,changeDetection:0});
var Nfi=class{constructor(){this.name$=new _.zg("");this.referenceType=1;this.firstEnvVarName="";this.envVarReferencesCount=0;this.mountPath="";this.summary$=new _.zg("")}set name(a){this.name$.next(Tdi(a))}ngOnChanges(){this.summary$.next(this.getSummary())}getSummary(){switch(this.referenceType){case 0:return 1!==this.envVarReferencesCount?(new _.Wp("{count, plural, =1 {# environment variable}other {# environment variables}}")).format({count:this.envVarReferencesCount}):(new _.Wp("Environment variable: {variableName}")).format({variableName:this.firstEnvVarName});
default:return(new _.Wp("Mounted: {path}")).format({path:`/${this.mountPath}`})}}};Nfi.\u0275fac=function(a){return new (a||Nfi)};
Nfi.\u0275cmp=_.m({type:Nfi,selectors:[["s8s-config-form-list-summary"]],inputs:{name:"name",referenceType:"referenceType",firstEnvVarName:"firstEnvVarName",envVarReferencesCount:"envVarReferencesCount",mountPath:"mountPath"},features:[_.od],decls:6,vars:6,consts:[[1,"cfc-text-body"],[1,"cfc-text-caption"]],template:function(a,b){a&1&&(_.G(0,"div",0),_.Q(1),_.S(2,"nonNullAsync"),_.I(),_.G(3,"div",1),_.Q(4),_.S(5,"nonNullAsync"),_.I());a&2&&(_.z(),_.bg(_.U(2,2,b.name$)),_.z(3),_.bg(_.U(5,4,b.summary$)))},
dependencies:[_.S5],encapsulation:2,changeDetection:0});var Ofi=["content"],Pfi=class{constructor(){this.wasShown=!1}set hidden(a){a||(this.wasShown=!0)}};Pfi.\u0275fac=function(a){return new (a||Pfi)};
Pfi.\u0275cmp=_.m({type:Pfi,selectors:[["s8s-lazy-content-renderer"]],contentQueries:function(a,b,c){a&1&&_.Yf(c,Ofi,7);if(a&2){let d;_.Zf(d=_.$f())&&(b.content=d.first)}},inputs:{hidden:"hidden"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(a,b){a&1&&_.E(0,Wdi,2,1,"div",0);a&2&&_.F("ngIf",b.wasShown)},dependencies:[_.Bl,_.Fl],encapsulation:2});Qfi=["formList"];
Rfi=function(a){const b=new Set(a.envVars.map(d=>d.name)),c=new Map;for(const d of a.configs.controls){a=d.controls.envVarRef.controls.references.controls;for(const e of a){a=e.controls.name;const f=a.value;if(f&&b.has(f)){a.setErrors({unique:!0});let g;null==(g=c.get(f))||g.setErrors({unique:!0})}else a.updateValueAndValidity({emitEvent:!1});b.add(f);c.set(f,a)}}};
_.Sfi=class extends _.W5{constructor(a,b,c){super(a);this.projectParamService=b;this.projectService=c;this.envVars=[];this.form=this.formBuilder.group({configs:this.formBuilder.array([])});this.apiName=this.serviceAccount="";this.headingLevel=5;this.secretManagerConfigurationLink=_.t_h.create().link().build();this.toggleLastItemWhenVisible=!1;this.formGroupBuilder=new Hfi}initForm(){let a;for(const b of null!=(a=this.initialAttachedConfigs)?a:[])this.configs.push(Gfi(this.formGroupBuilder,this.formBuilder,
b,this.getProjectNumber()));this.configs.valueChanges.pipe(_.B(this.destroyed$)).subscribe(()=>{Rfi(this);const b=new Map;for(const c of this.configs.controls){if(1!==c.controls.referenceType.value)continue;const d=c.controls.volumeRef.controls.mountPath,e=d.value;e&&(b.has(e)||b.set(e,[]),b.get(e).push(d))}for(const c of b.values())for(const d of c)1<c.length?d.setErrors({unique:!0}):d.updateValueAndValidity({emitEvent:!1})})}ngOnChanges(a){"envVars"in a&&Rfi(this)}getProjectNumber(){let a;const b=
_.oq(this.projectParamService);this.projectService.getProject(b).subscribe(c=>{a=c.projectNumber}).unsubscribe();return a}ngAfterViewInit(){this.formList.items.changes.pipe(_.B(this.destroyed$)).subscribe(()=>{this.toggleLastItemWhenVisible&&(this.toggleLastItemWhenVisible=!1,setTimeout(()=>{0<this.formList.items.length&&this.formList.items.last.collapsed&&_.jte(this.formList,this.formList.items.last)}))})}get configs(){return this.form.controls.configs}};
_.Sfi.\u0275fac=function(a){return new (a||_.Sfi)(_.A(_.Fu),_.A(_.pq),_.A(_.Tq))};
_.Sfi.\u0275cmp=_.m({type:_.Sfi,selectors:[["s8s-config-form-list"]],viewQuery:function(a,b){a&1&&_.Xf(Qfi,5);if(a&2){let c;_.Zf(c=_.$f())&&(b.formList=c.first)}},inputs:{initialAttachedConfigs:"initialAttachedConfigs",envVars:"envVars",serviceAccount:"serviceAccount",apiName:"apiName",headingLevel:"headingLevel"},features:[_.Bf,_.od],decls:9,vars:4,consts:()=>[["formList",""],["gcpSecretsSectionTooltip",""],["item",""],["content",""]," Secrets allow you to securely store API keys, passwords, certificates, and other sensitive data. You can use one or more secrets from \ufffd#2\ufffd Secret Manager \ufffd/#2\ufffd in your service. Cross-project secrets can be referenced by providing their full path. Mount the secret as volume to ensure the latest version is returned when reading it. ",
" Learn more ",["bindParentFormSubmitEvent","",3,"formGroup"],["formArrayName","configs","newItemHeader","New Secret reference","editItemHeader","Edit Secret reference","newItemButtonLabel","Add a Secret reference","itemLabel","Secret reference",1,"cfc-space-above-base","cfc-space-below-minus-4","cfc-no-scroll-horizontal",3,"onItemAdditionRequested"],["listTitle","Secrets",3,"titleHeadingVisualLevel"],["ariaLabel","Help with GCP Secrets","cfcTooltipPosition","right",1,"cfc-button-small"],[4,"ngTemplateOutlet"],
[4,"ngFor","ngForOf"],[3,"name","referenceType","firstEnvVarName","envVarReferencesCount","mountPath"],[3,"formGroupName",4,"cfcFormListKeepInitialModel"],[3,"formGroupName"],[3,"hidden"],[3,"form","serviceAccount","apiName"],["target","_blank",3,"cfcRouterLink"],[1,"cfc-button-align-left"],"cfcDocHref;CONSOLE__SECRET_MANAGER;mat-button;;color;primary;aria-label;Learn more about Secret Manager".split(";")],template:function(a,b){if(a&1){const c=_.n();_.K(0,6);_.G(1,"cfc-form-list",7,0);_.O("onItemAdditionRequested",
function(){_.q(c);b.configs.push(Gfi(b.formGroupBuilder,b.formBuilder));return _.u()});_.G(3,"cfc-form-list-title",8)(4,"cfc-help-button",9);_.E(5,Ydi,1,0,null,10);_.I()();_.E(6,aei,5,5,"cfc-form-list-item",11);_.I();_.L();_.E(7,bei,6,1,"ng-template",null,1,_.ig)}if(a&2){a=_.ag(2);const c=_.ag(8);_.F("formGroup",b.form);_.z(3);_.F("titleHeadingVisualLevel",b.headingLevel);_.z(2);_.F("ngTemplateOutlet",c);_.z();_.F("ngForOf",a.getListItemControls())}},dependencies:[_.dt,_.Qu,_.nt,_.Pu,_.Al,_.Fl,_.u6,
_.ut,_.nV,_.lV,_.jV,_.kV,_.pfi,_.mV,_.bA,Pfi,_.Ky,_.ru,_.su,_.tu,_.cw,Mfi,Nfi],encapsulation:2,changeDetection:0});Tfi=a=>[a];Ufi={PREVENT_NEW_CONTAINER_INSTANCE:"Prevent new container instance",SHUT_DOWN_AS_SOON_AS_POSSIBLE:"Shutdown as soon as possible",CUSTOM_SHUTDOWN_DELAY:"Custom shutdown delay"};
_.Vfi=class extends _.W5{get encryptionKey(){return this.keyPicker.controls.key}get encryptionPlan(){return this.keyPicker.controls.encryptionPlan}get keyPicker(){return this.form.controls.keyPicker}get postKeyRevocationActionPicker(){return this.form.controls.postKeyRevocationAction}get delayedTimeInput(){return this.form.controls.delayedShutdownHours}constructor(a){super(a);this.CONSOLE__RUN_DOCS_SECURING_USING_CMEK=ofi;this.serviceName="run.googleapis.com";this.minDelayedTime=1;this.maxDelayedTime=
24;this.keyRevocationType=Ufi;this.isTpc=_.qh();this.form=this.formBuilder.group({keyPicker:this.formBuilder.group({key:["",_.fu],encryptionPlan:["google-managed",_.fu]}),postKeyRevocationAction:[this.keyRevocationType.PREVENT_NEW_CONTAINER_INSTANCE,_.fu],delayedShutdownHours:["6"]});this.targetRegion="";this.showPostKeyRevocationAction=!1;this.ve={ServerlessCMEKPicker:130029};this.encryptionPlan.valueChanges.pipe(_.B(this.destroyed$)).subscribe(()=>{this.delayedTimeInput.updateValueAndValidity()});
this.postKeyRevocationActionPicker.valueChanges.pipe(_.B(this.destroyed$)).subscribe(()=>{this.delayedTimeInput.updateValueAndValidity()})}initForm(){var a;const b=null==(a=this.initialEncryptionKeySettings)?void 0:a.key;if(b){this.encryptionKey.setValue(b);this.encryptionPlan.setValue("customer-managed");let c;if("SHUT_DOWN"===(null==(c=this.initialEncryptionKeySettings)?void 0:c.postKeyRevocationAction)){let d;(a=null==(d=this.initialEncryptionKeySettings)?void 0:d.shutdownHours)?(this.postKeyRevocationActionPicker.setValue(this.keyRevocationType.CUSTOM_SHUTDOWN_DELAY),
this.delayedTimeInput.setValue(a.toString())):this.postKeyRevocationActionPicker.setValue(this.keyRevocationType.SHUT_DOWN_AS_SOON_AS_POSSIBLE)}else this.postKeyRevocationActionPicker.setValue(this.keyRevocationType.PREVENT_NEW_CONTAINER_INSTANCE)}}setupFormValidation(){this.form.controls.delayedShutdownHours.setValidators(()=>{var a=this.form;"google-managed"===a.controls.keyPicker.controls.encryptionPlan.value||"Custom shutdown delay"!==a.controls.postKeyRevocationAction.value?a=null:a.controls.delayedShutdownHours.value?
(a=Number(a.controls.delayedShutdownHours.value),a=!Number.isInteger(a)||1>a||24<a?{invalidDelayedTime:!0}:null):a={required:!0};return a})}get revocationActionHintMsg(){return this.postKeyRevocationActionPicker.value===this.keyRevocationType.PREVENT_NEW_CONTAINER_INSTANCE?"Do not shutdown instances when key is disabled or destroyed.":"Shutdown instances when key is disabled or destroyed, could take from 4-24 hours."}get selectedValue(){return this.postKeyRevocationActionPicker.value}};
_.Vfi.\u0275fac=function(a){return new (a||_.Vfi)(_.A(_.Fu))};
_.Vfi.\u0275cmp=_.m({type:_.Vfi,selectors:[["cmek-picker"]],inputs:{initialEncryptionKeySettings:"initialEncryptionKeySettings",targetRegion:"targetRegion",showPostKeyRevocationAction:"showPostKeyRevocationAction"},features:[_.Bf],decls:15,vars:14,consts:()=>[["cmekTooltipInTpc",""],"Encryption"," The key must be a symmetric key created for the same region where you will deploy the Cloud Run service. "," Learn more "," By default, container images are encrypted with a Google-managed key. If you need to manage your encryption you can use a customer-encrypted key instead. "," By default, container images are encrypted with a Google Cloud-powered key. If you need to manage your encryption you can use a customer-encrypted key instead. ",
" Key Revocation Action "," Prevent new container instance "," Shutdown as soon as possible "," Custom shutdown delay "," Learn more "," Delayed time "," Hours "," The service will be shutdown after the number of hours specified has passed. The maximum is 24 hours. \ufffd#10\ufffd Learn more \ufffd/#10\ufffd"," Delayed time is required. "," Choose an integer value between \ufffd0\ufffd and \ufffd1\ufffd. ",[3,"formGroup"],[1,"cfc-text-title-4","cfc-space-below-minus-2"],["id","encryptionHeader"],
["ariaLabel","Help with Encryption key","cfcTooltipPosition","top",1,"cfc-form-control-suffix","cfc-button-small"],[4,"ngIf","ngIfElse"],[1,"cfc-space-above-minus-2"],[1,"cfc-button-align-left"],["mat-button","","color","primary","aria-label","Learn more about CMEK",3,"cfcDocLink"],["formGroupName","keyPicker",3,"serviceName","locations","enforceCmekOrgPolicyServicesConstraint","enforceCmekOrgPolicyProjectsConstraint","hideLabel","ve","veClick"],[4,"ngIf"],[1,"cfc-indent"],["formControlName","postKeyRevocationAction",
3,"isRequired"],[3,"value"],["aria-label","Learn more about CMEK settings",3,"cfcDocLink"],"matInput  formControlName delayedShutdownHours placeholder 6".split(" "),["matSuffix",""],["aria-label","Learn more about delayed hours",3,"cfcDocLink"],["matError","",4,"cfcDebounceErrorFor"],["matError",""]],template:function(a,b){a&1&&(_.K(0,16),_.G(1,"div",17)(2,"span",18),_.N(3,1),_.I(),_.G(4,"cfc-help-button",19),_.E(5,fei,2,0,"div",20)(6,gei,2,0,"ng-template",null,0,_.ig),_.G(8,"div",21),_.N(9,2),_.I(),
_.G(10,"div",22)(11,"a",23),_.N(12,3),_.I()()()(),_.J(13,"cfc-key-picker",24),_.E(14,lei,14,6,"ng-container",25),_.L());a&2&&(a=_.ag(7),_.F("formGroup",b.form),_.z(5),_.F("ngIf",!b.isTpc)("ngIfElse",a),_.z(6),_.F("cfcDocLink",b.CONSOLE__RUN_DOCS_SECURING_USING_CMEK),_.z(2),_.F("serviceName",b.serviceName)("locations",_.fg(12,Tfi,b.targetRegion))("enforceCmekOrgPolicyServicesConstraint",!0)("enforceCmekOrgPolicyProjectsConstraint",!0)("hideLabel",!0)("ve",b.ve.ServerlessCMEKPicker)("veClick",!0),_.z(),
_.F("ngIf",b.showPostKeyRevocationAction&&"customer-managed"===b.encryptionPlan.value))},dependencies:[_.dt,_.at,_.Qu,_.nt,_.Pu,_.oy,_.OD,_.py,_.iy,_.hy,_.gy,_.ND,_.Qz,_.wy,_.xy,_.uy,_.Bl,_.PD,_.vt,_.jz,_.Lt,_.ly,_.Ky,_.bA,_.rP,_.Xt,_.ru,_.uu,_.su,_.az,_.$y,_.fz],encapsulation:2,changeDetection:0});
Wfi=function(a,b){b.stopPropagation();b=_.gt(_.jD.CONSOLE__RUN_BUILD_DEPLOY_QUICKSTART);b={projectId:_.oq(a.projectParamService),links:{noContainers:b},additionalArNodes:[{name:"Demo containers",children:[{name:"hello",url:a.demoContainer}]}],hideGcrTab:_.sh(),maxTagLength:20};a.form.markAsUntouched();a.pickerIsOpen=!0;rfi(a.imageSelectorService,b).subscribe(c=>{c&&(c===a.demoContainer&&a.concordReportingService.analyticsService.sendEvent({type:"cloudRun",name:"demoContainerChosenInPicker"}),a.form.setValue(c));
a.pickerIsOpen=!1})};Xfi=function(a){a.pickerIsOpen||a.form.touched||requestAnimationFrame(()=>{a.form.markAsTouched();a.changeDetector.markForCheck()})};
_.M6=class extends _.W5{set gcbTriggerLocator(a){this.cloudBuildTriggerLink=_.j0h(a)}constructor(a,b,c,d,e){super(d);this.projectParamService=a;this.concordReportingService=b;this.imageSelectorService=c;this.changeDetector=e;this.CONSOLE__RUN_BUILD_DEPLOY_QUICKSTART=kfi;this.form=this.formBuilder.control("");this.displayRequestHint=!0;this.mouseIsDown=this.pickerIsOpen=this.isContainerSampleTestButtonEnabled=!1;this.cloudBuildTriggerLink=[]}ngOnInit(){super.ngOnInit()}initForm(){let a;this.form.setValue(null!=
(a=this.initialContainerImage)?a:"")}setupFormValidation(){this.form.setValidators(()=>this.cloudBuildSetup?null:_.Ft(this.form)||(_.o0h.test(pdi(this.form.value))?null:{registryImagePattern:!0}))}ngOnChanges(a){"cloudBuildSetup"in a&&this.form.updateValueAndValidity()}};_.M6.\u0275fac=function(a){return new (a||_.M6)(_.A(_.pq),_.A(_.N5),_.A(sfi),_.A(_.Fu),_.A(_.rl))};
_.M6.\u0275cmp=_.m({type:_.M6,selectors:[["container-input"]],inputs:{initialContainerImage:"initialContainerImage",cloudBuildSetup:"cloudBuildSetup",demoContainer:"demoContainer",howToDocHref:"howToDocHref",displayRequestHint:"displayRequestHint",isContainerSampleTestButtonEnabled:"isContainerSampleTestButtonEnabled",gcbTriggerLocator:"gcbTriggerLocator"},features:[_.Bf,_.od],decls:16,vars:8,consts:()=>[" Container image URL "," Select "," How to build a container? "," Test with a sample container ",
" E.g. \ufffd0\ufffd "," Should listen for HTTP requests on \ufffd#2\ufffd$PORT\ufffd/#2\ufffd and not rely on local state. "," Container image URL is required. Try a sample: \ufffd0\ufffd \ufffd#2\ufffd\ufffd/#2\ufffd\ufffd#3\ufffd How to build a container? \ufffd/#3\ufffd"," Container image URL should match pattern [region.]gcr.io/repo-path[:tag and/or @digest], [region.]pkg.dev/repo-path[:tag and/or @digest] or [[index. or registry-1.]docker.io/]repo-path[:tag and/or @digest]. "," Container images are deployed automatically using a \ufffd#3\ufffdCloud Build trigger\ufffd/#3\ufffd. If you manually deploy a new container image, it will be overridden the next time the Cloud Build trigger runs. ",
["refreshOnSubmit",""],["refreshOnStatusChange","","matInput","",3,"formControl"],["matButton","","matSuffix","","mat-button","","type","button","color","primary",3,"click","focus","focusout","mousedown","mouseup"],["class","cfc-button-align-left cfc-space-above-minus-6 cfc-space-below-minus-6 ","align","start","mat-button","","type","button","color","primary",3,"click",4,"ngIf"],[4,"ngIf"],["cfcTrackedEvent","","track-type","cloudRun","track-name","docsLinkClick",3,"cfcDocHref"],["matError","",4,
"cfcDebounceErrorFor"],["type","warning",4,"ngIf"],["align","start","mat-button","","type","button","color","primary",1,"cfc-button-align-left","cfc-space-above-minus-6","cfc-space-below-minus-6",3,"click"],["matError",""],["cfcTrackedEvent","","track-type","cloudRun","track-name","docsLinkClick",3,"cfcDocLink"],["type","warning"],["target","_blank",1,"cfc-space-above-minus-5",3,"cfcRouterLink"]],template:function(a,b){a&1&&(_.G(0,"mat-form-field",9)(1,"mat-label"),_.N(2,0),_.I(),_.J(3,"input",10),
_.G(4,"button",11),_.O("click",function(c){return Wfi(b,c)})("focus",function(){b.mouseIsDown||b.form.markAsUntouched()})("focusout",function(){return Xfi(b)})("mousedown",function(){b.mouseIsDown=!0})("mouseup",function(){b.mouseIsDown=!1}),_.N(5,1),_.I(),_.G(6,"mat-hint"),_.E(7,nei,2,0,"button",12)(8,oei,2,1,"ng-container",13),_.J(9,"br"),_.E(10,pei,3,0,"ng-container",13),_.G(11,"a",14),_.N(12,2),_.I()(),_.E(13,qei,4,2,"cm-error",15)(14,rei,2,0,"cm-error",15),_.I(),_.E(15,sei,4,1,"cfc-message",
16));a&2&&(_.z(3),_.F("formControl",b.form),_.z(4),_.F("ngIf",b.isContainerSampleTestButtonEnabled),_.z(),_.F("ngIf",!b.isContainerSampleTestButtonEnabled),_.z(2),_.F("ngIf",b.displayRequestHint),_.z(),_.F("cfcDocHref",b.howToDocHref),_.z(2),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("cfcDebounceErrorFor","registryImagePattern"),_.z(),_.F("ngIf",0<b.cloudBuildTriggerLink.length))},dependencies:[_.dt,_.Qu,_.Lp,_.Pu,_.oy,_.OD,_.py,_.iy,_.hy,_.gy,_.ND,_.Qz,_.wy,_.xy,_.uy,_.Bl,_.PD,_.v6,_.U5,_.tt,
_.vt,_.cD,_.Vo,_.Wo,_.Lt,_.ly,_.qu,_.cw],encapsulation:2,changeDetection:0});var N6=class{};N6.\u0275fac=function(a){return new (a||N6)};N6.\u0275mod=_.ed({type:N6});N6.\u0275inj=_.Qc({});var Yfi=[_.et,_.Uu,_.Hl,_.QD,_.Pz,_.iA,_.dD,_.iV,_.Hu,_.dA,_.dp,_.ry,_.yy,_.ep,_.Az,_.Rz,_.Iu,_.NA,N6],Zfi=class{};Zfi.\u0275fac=function(a){return new (a||Zfi)};Zfi.\u0275mod=_.ed({type:Zfi});Zfi.\u0275inj=_.Qc({imports:[Yfi]});
var $fi=function(a){const b={projectId:a.projectId,mode:"directVpc"};if(a.vpcNetworkInterface)if(uei(a.vpcNetworkInterface.network,a.projectId))b.xpnSubnetworkInputs={xpnNetworkName:a.vpcNetworkInterface.network,regionName:a.targetRegion};else{var c=a.projectId;var d=a.vpcNetworkInterface.network;c=d.includes("/")?d:`projects/${c}/global/networks/${d}`;b.subnetworkInputs={networkUrl:c,regionName:a.targetRegion}}return b},agi=class extends _.W5{constructor(a,b,c,d,e){super(a);this.cdr=b;this.subnetPickerService=
c;this.projectParamService=d;this.apiService=e;this.subnetPickerMode="directVpc";this.form=this.formBuilder.group({});this.projectId=_.oq(this.projectParamService);this.sourceProject="CURRENT";this.targetRegion=""}ngOnInit(){super.ngOnInit();this.loadData();this.vpcNetworkInterface&&(uei(this.vpcNetworkInterface.network,this.projectId)?(this.sourceProject="XPN",this.selectedXpnNetwork={name:this.vpcNetworkInterface.network.split("/").pop(),selfLink:this.vpcNetworkInterface.network},this.selectedXpnSubnetwork=
{name:this.vpcNetworkInterface.subnetwork.split("/").pop(),selfLink:this.vpcNetworkInterface.subnetwork}):(this.sourceProject="CURRENT",this.selectedNetwork={name:this.vpcNetworkInterface.network.split("/").pop()},this.selectedSubnetwork={kind:"compute#subnetwork",name:this.vpcNetworkInterface.subnetwork.split("/").pop()}),this.selectedTags=this.vpcNetworkInterface.tags)}loadData(){_.x8h(this.apiService.tesseractClient,{projectId:this.projectId}).pipe(_.B(this.destroyed$)).subscribe(a=>{this.usedSubnets=
a.subnets.map(b=>`projects/${b.projectId}/regions/${b.regionId}/subnetworks/${b.name}`);this.cdr.markForCheck()});this.subnetPickerService.loadData($fi(this)).pipe(_.B(this.destroyed$)).subscribe(a=>{this.subnetPickerData=a;this.cdr.markForCheck()})}get vpcNetworkInterface(){let a,b;return null==(a=this.initialDirectVpc)?void 0:null==(b=a.vpcNetworkInterfaces)?void 0:b[0]}};agi.\u0275fac=function(a){return new (a||agi)(_.A(_.Fu),_.A(_.rl),_.A(_.Pbi),_.A(_.pq),_.A(_.k6))};
agi.\u0275cmp=_.m({type:agi,selectors:[["direct-vpc"]],inputs:{targetRegion:"targetRegion",initialDirectVpc:"initialDirectVpc",resourceTypeName:"resourceTypeName"},features:[_.Bf],decls:4,vars:3,consts:()=>[["content",""]," The VPC network that this \ufffd0\ufffd can send traffic to. "," The VPC subnetwork that this \ufffd0\ufffd will get IPs from. The subnetwork must be at least /26 or larger. ",[3,"isLoading"],[3,"formReady","initialNetworkTags","resourceTypeName"],["name","subnet-picker",3,"networkFormReady",
"subnetworkFormReady","xpnNetworkFormReady","xpnSubnetworkFormReady","sourceProjectFormReady","mode","data","projectId","sourceProject","regionName","network","subnetwork","usedSubnets","xpnNetwork","xpnSubnetwork"]],template:function(a,b){if(a&1){const c=_.n();_.G(0,"cfc-loader",3);_.E(1,tei,5,12,"ng-template",null,0,_.ig);_.I();_.G(3,"network-tags-input",4);_.O("formReady",function(d){_.q(c);return _.u(b.form.setControl("tags",d))});_.I()}a&2&&(_.F("isLoading",!b.subnetPickerData),_.z(3),_.F("initialNetworkTags",
b.selectedTags)("resourceTypeName",b.resourceTypeName))},dependencies:[_.Kbi,_.Bbi,_.Cbi,_.$E,_.ybi],encapsulation:2,changeDetection:0});
var bgi=function(a){a:switch(a.form.value){case "all-traffic":a=a.egressForbiddenAll$;break a;case "private-ranges-only":a=a.egressForbiddenPrivateRangesOnly$;break a;default:a=_.w(!1)}return a.pipe(_.y(b=>b?{disallowedByOrgPolicy:!0}:null))},cgi=class extends _.W5{initForm(){let a;this.form.setValue(null!=(a=this.initialVpcAccessEgress)?a:"");this.allowedEgressSettings$.subscribe(b=>{this.initialVpcAccessEgress||(b.includes("private-ranges-only")?this.form.setValue("private-ranges-only"):b.includes("all-traffic")&&
this.form.setValue("all-traffic"))})}constructor(a,b){super(a);this.orgPolicyService=b;this.dl={CONSOLE__RUN_DOCS_SECURING_PRIVATE_NETWORKING_FROM_OTHER_SERVICES:_.zzb};this.form=this.formBuilder.control("");this.allowedEgressSettings$=_.s3h(this.orgPolicyService,"constraints/run.allowedVPCEgress",Array.from(Object.values(jfi))).pipe(_.B(this.destroyed$));this.egressForbiddenAll$=this.allowedEgressSettings$.pipe(_.y(c=>!c.includes("all-traffic")));this.egressForbiddenPrivateRangesOnly$=this.allowedEgressSettings$.pipe(_.y(c=>
!c.includes("private-ranges-only")));this.MSG_TOOLTIP_EGRESS_ORG_POLICY_FORBIDDEN='This value is forbidden by your organization\u2019s "allowed VPC Connector egress settings" policy.';this.ve={ServerlessVpcAccessEgressPrivateRangesOnlyOptionToggle:189916,ServerlessVpcAccessEgressAllTrafficOptionToggle:189915}}setupFormValidation(){this.form.setValidators(_.fu);_.Kt(this.form,[()=>bgi(this)])}};cgi.\u0275fac=function(a){return new (a||cgi)(_.A(_.Fu),_.A(_.l6))};
cgi.\u0275cmp=_.m({type:cgi,selectors:[["vpc-access-egress"]],inputs:{initialVpcAccessEgress:"initialVpcAccessEgress"},features:[_.Bf],decls:15,vars:17,consts:()=>[" Traffic routing\n"," Route only requests to private IPs to the VPC "," Traffic to other Cloud Run services might require additional configuration. \ufffd#9\ufffd Learn more \ufffd/#9\ufffd"," Route all traffic to the VPC "," Traffic routing is required. ",["labelId","cr-vpc-access-egress-type",3,"control"],["aria-labelledby","cr-vpc-access-egress-type",
3,"formControl"],["value","private-ranges-only",3,"cfcDisable","cfcDisableTooltip","ve","veClick"],[1,"cfc-form-control-hint"],["aria-label","Learn more about configuring traffic between Cloud Run services,\n         (external link)",3,"cfcDocLink"],["value","all-traffic",3,"cfcDisable","cfcDisableTooltip","ve","veClick"],[3,"control",4,"ngIf"],[3,"control"]],template:function(a,b){a&1&&(_.G(0,"cfc-form-label",5),_.N(1,0),_.I(),_.G(2,"mat-radio-group",6)(3,"mat-radio-button",7),_.S(4,"async"),_.G(5,
"span"),_.N(6,1),_.I(),_.G(7,"div",8),_.Of(8,2),_.J(9,"a",9),_.Pf(),_.I()(),_.G(10,"mat-radio-button",10),_.S(11,"async"),_.N(12,3),_.I(),_.E(13,vei,2,2,"cfc-form-error",11)(14,wei,2,1,"cfc-form-error",11),_.I());if(a&2){let c,d;_.F("control",b.form);_.z(2);_.F("formControl",b.form);_.z();_.F("cfcDisable",null!==(c=_.U(4,13,b.egressForbiddenPrivateRangesOnly$))&&void 0!==c?c:!1)("cfcDisableTooltip",b.MSG_TOOLTIP_EGRESS_ORG_POLICY_FORBIDDEN)("ve",b.ve.ServerlessVpcAccessEgressPrivateRangesOnlyOptionToggle)("veClick",
!0);_.z(6);_.F("cfcDocLink",b.dl.CONSOLE__RUN_DOCS_SECURING_PRIVATE_NETWORKING_FROM_OTHER_SERVICES);_.z();_.F("cfcDisable",null!==(d=_.U(11,15,b.egressForbiddenAll$))&&void 0!==d?d:!1)("cfcDisableTooltip",b.MSG_TOOLTIP_EGRESS_ORG_POLICY_FORBIDDEN)("ve",b.ve.ServerlessVpcAccessEgressAllTrafficOptionToggle)("veClick",!0);_.z(3);_.F("ngIf",b.form.hasError("disallowedByOrgPolicy"));_.z();_.F("ngIf",b.form.hasError("required"))}},dependencies:[_.dt,_.at,_.xz,_.wz,_.yz,_.uz,_.vz,_.Bl,_.Hz,_.vt,_.vE,_.AE,
_.ly,_.qu,_.Gl],encapsulation:2,changeDetection:0});var dgi=[_.IU],egi=class{};egi.\u0275fac=function(a){return new (a||egi)};egi.\u0275mod=_.ed({type:egi});egi.\u0275inj=_.Qc({imports:[_.Hl,dgi]});var fgi=[_.Hl,_.QD,_.iA,_.ry,_.yy,_.ep,_.Iu,_.NA,N6],ggi=class{};ggi.\u0275fac=function(a){return new (a||ggi)};ggi.\u0275mod=_.ed({type:ggi});ggi.\u0275inj=_.Qc({imports:[fgi]});var hgi=[_.Hl,_.QD,_.Pz,_.iA,_.ry,_.yy,_.Iu,_.NA,Efi,N6],igi=class{};igi.\u0275fac=function(a){return new (a||igi)};
igi.\u0275mod=_.ed({type:igi});igi.\u0275inj=_.Qc({imports:[hgi]});var jgi=[_.Hl,_.Pz,_.ry,_.Iu,_.NA],kgi=class{};kgi.\u0275fac=function(a){return new (a||kgi)};kgi.\u0275mod=_.ed({type:kgi});kgi.\u0275inj=_.Qc({imports:[jgi]});var lgi=[_.aD,_.h6,_.et,_.Uu,_.Hl,_.gv,_.dH,_.AI,_.yD,_.Rz,_.Iu,_.dw,_.rF,ggi,Zfi,_.s5,egi,kgi,_.aF,_.ep,igi,_.rF],mgi=class{};mgi.\u0275fac=function(a){return new (a||mgi)};mgi.\u0275mod=_.ed({type:mgi});mgi.\u0275inj=_.Qc({imports:[lgi]});
var ngi=[_.et,_.n6,_.Hl,_.QD,_.V5,_.Pz,_.iA,_.dD,_.Hu,_.dp,_.Uu,_.ry,_.yy,_.Iu,_.ep,_.dw,_.NA,_.L5,_.rF,mgi],ogi=class{};ogi.\u0275fac=function(a){return new (a||ogi)};ogi.\u0275mod=_.ed({type:ogi});ogi.\u0275inj=_.Qc({imports:[ngi]});pgi=["asia-northeast3","asia-southeast1","us-central2"];qgi={NONE:"NONE",VPC_CONNECTOR:"VPC_CONNECTOR",DIRECT_VPC:"DIRECT_VPC"};
_.rgi=class extends _.W5{constructor(a,b){super(a);this.listFormat=b;this.dl={CONSOLE__RUN_DOCS_CONFIGURING_VPC_CONNECTORS:mfi,CONSOLE__RUN_DOCS_CONFIGURING_CONNECTING_VPC:_.y8h,CONSOLE__RUN_DOCS_CONFIGURING_VPC_DIRECT_VPC:nfi};this.VpcSettingsType=qgi;this.unsupportedRegionsTooltip=_.Jy("Direct VPC is not available in the following regions: {UNSUPPORTED_REGIONS}.",{UNSUPPORTED_REGIONS:this.listFormat.format(pgi)});this.targetRegion="";this.form=this.formBuilder.group({enabled:!1,type:"DIRECT_VPC"});
this.ve={ServerlessVpcSettingsDirectVpcOptionToggle:189917,ServerlessVpcSettingsVpcConnectorOptionToggle:189919,ServerlessVpcSettingsEnableVpcToggle:189918}}initForm(){this.form.controls.enabled.setValue(this.hasVpcConnector||this.hasDirectVpc);this.hasVpcConnector&&this.form.controls.type.setValue("VPC_CONNECTOR");this.hasDirectVpc&&this.form.controls.type.setValue("DIRECT_VPC")}setupFormValidation(){this.form.valueChanges.pipe(_.pf(this.form.value),_.B(this.destroyed$)).subscribe(({enabled:a,type:b})=>
{Aei(this.form.controls.connector,!!a&&"VPC_CONNECTOR"===b);Aei(this.form.controls.directVpc,!!a&&"DIRECT_VPC"===b)})}ngOnChanges(a){"targetRegion"in a&&this.isRegionUnsupported&&this.form.controls.type.setValue("VPC_CONNECTOR")}get hasVpcConnector(){let a;return!(null==(a=this.initialVpcSettings)||!a.vpcConnector)}get hasDirectVpc(){let a;return!(null==(a=this.initialVpcSettings)||!a.directVpc)}get enabled(){return this.form.controls.enabled.value}get type(){return Bei(this.form)}get isRegionUnsupported(){return pgi.includes(this.targetRegion)}};
_.rgi.\u0275fac=function(a){return new (a||_.rgi)(_.A(_.Fu),_.A(_.Wy))};
_.rgi.\u0275cmp=_.m({type:_.rgi,selectors:[["vpc-settings"]],inputs:{initialVpcSettings:"initialVpcSettings",targetRegion:"targetRegion",resourceTypeName:"resourceTypeName"},features:[_.Bf,_.od],decls:7,vars:6,consts:()=>[" Connect to a VPC for outbound traffic "," Allow your \ufffd0\ufffd to send traffic to a Virtual Private Cloud. \ufffd#5\ufffd How to choose between VPC options? \ufffd/#5\ufffd","\ufffd#5\ufffdSend traffic directly to a VPC\ufffd/#5\ufffd"," Lower latency, higher throughput, uses more IPs. \ufffd#8\ufffd Learn more \ufffd/#8\ufffd",
" Use Serverless VPC Access connectors "," Use VPC connectors to proxy the traffic. \ufffd#15\ufffd Learn more \ufffd/#15\ufffd",[3,"formControl","ve","veClick"],[1,"cfc-form-control-hint"],["aria-label","External link to learn more about choosing VPC option",3,"cfcDocLink"],["class","cfc-indent",4,"ngIf"],[1,"cfc-indent"],["aria-label","VPC type selection radio group",3,"formControl"],[3,"value","cfcDisable","cfcDisableTooltip","ve","veClick"],["type","preview"],["aria-label","External link to learn more about direct VPC option",
3,"cfcDocLink"],[3,"value","ve","veClick"],["aria-label","External link to learn more about VPC connectors option",3,"cfcDocLink"],[3,"formReady","initialVpcAccessEgress"],[3,"formReady","targetRegion","initialDirectVpc","resourceTypeName"],[3,"formReady","initialVpcConnector","targetRegion","resourceTypeName"]],template:function(a,b){a&1&&(_.G(0,"mat-checkbox",6)(1,"div"),_.N(2,0),_.I(),_.G(3,"div",7),_.Of(4,1),_.J(5,"a",8),_.Pf(),_.I()(),_.E(6,zei,18,14,"div",9));a&2&&(_.F("formControl",b.form.controls.enabled)("ve",
b.ve.ServerlessVpcSettingsEnableVpcToggle)("veClick",!0),_.z(5),_.F("cfcDocLink",b.dl.CONSOLE__RUN_DOCS_CONFIGURING_CONNECTING_VPC),_.Qf(b.resourceTypeName),_.Rf(4),_.z(),_.F("ngIf",b.enabled))},dependencies:[_.dt,_.at,_.Wv,_.lx,_.mx,_.ix,_.xz,_.wz,_.yz,_.uz,_.vz,_.Bl,agi,_.Hz,_.vt,_.ly,_.qu,cgi,_.yci],encapsulation:2,changeDetection:0});sgi=["serviceAccountSelect"];tgi=["serviceAccountSubtask"];ugi=()=>[];vgi=()=>["iam.serviceAccounts.create","iam.serviceAccounts.actAs"];
_.wgi=class extends _.W5{constructor(a,b){super(a);this.dialog=b;this.form=this.formBuilder.control("",_.fu);this.serviceAccounts=[];this.newNamePlaceholder="";this.IamCheckOperator=_.EC;this.createButtonDisabledLearnMoreLink=_.gt(_.jD.CONSOLE__RUN_DOCS_SECURING_SERVICE_IDENTITY_PERMISSIONS_REQUIRED_TO_ASSIGN)}ngOnInit(){super.ngOnInit();this.initialServiceAccount&&this.serviceAccounts&&!this.serviceAccounts.find(a=>a.name===this.initialServiceAccount)&&this.serviceAccounts.push({name:this.initialServiceAccount,
displayName:this.initialServiceAccount.split("@")[0]})}ngOnChanges(a){"initialServiceAccount"in a&&!this.form.value&&this.initForm()}initForm(){let a;this.form.setValue(null!=(a=this.initialServiceAccount)?a:"")}getServiceAccountPrimaryName(a){return a.displayName||a.name}areServiceAccountsAvailable(){return this.serviceAccounts&&0!==this.serviceAccounts.length}createServiceAccountClicked(){const a=this.serviceAccountSubtask.firstTime,b=this.serviceAccountSubtask.run();b&&(b.subscribe(c=>{this.serviceAccounts.push(c);
this.form.setValue(c.name)},()=>{}),a&&this.serviceAccountSubtask.displayNameControl.setValue(this.newNamePlaceholder||"service-account"));this.serviceAccountSelect.close()}enterServiceAccountClicked(){this.dialog.open(Ffi,{data:{enableFullEmail:!0}}).afterClosed().subscribe(a=>{if(a){this.serviceAccounts.find(c=>c.name===a.email)||this.serviceAccounts.push({name:a.email,displayName:a.displayName});let b;this.form.setValue(null!=(b=a.email)?b:"")}});this.serviceAccountSelect.close()}};
_.wgi.\u0275fac=function(a){return new (a||_.wgi)(_.A(_.Fu),_.A(_.go))};
_.wgi.\u0275cmp=_.m({type:_.wgi,selectors:[["service-account-picker"]],viewQuery:function(a,b){a&1&&(_.Xf(sgi,5),_.Xf(tgi,5));if(a&2){let c;_.Zf(c=_.$f())&&(b.serviceAccountSelect=c.first);_.Zf(c=_.$f())&&(b.serviceAccountSubtask=c.first)}},inputs:{initialServiceAccount:"initialServiceAccount",serviceAccounts:"serviceAccounts",hintsFor:"hintsFor",newNamePlaceholder:"newNamePlaceholder"},features:[_.Bf,_.od],decls:18,vars:16,consts:()=>[["serviceAccountSelect",""],["serviceAccountSubtask",""]," Service account ",
" Create new service account "," Enter manually "," You do not have the \ufffd#2\ufffdiam.serviceAccounts.actAs\ufffd/#2\ufffd IAM permission on any service account. "," Identity to be used by the created revision. "," Identity to be used by the job. "," Service account is required. ",["refreshOnSubmit",""],[3,"isRequired","formControl","hasFilter"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled",4,"ngIf"],["cfcSelectFooter",""],["mat-button","","color","primary","cfcDisable","",3,"click","cfcIamCheck",
"cfcIamOperator","cfcIamLearnMoreLink"],["mat-button","","color","primary",3,"click"],[4,"ngIf"],["matError","",4,"cfcDebounceErrorFor"],[3,"existingServiceAccounts","addRolesSupport"],[3,"value"],[3,"primary","secondary"],[3,"disabled"],["matError",""]],template:function(a,b){if(a&1){const c=_.n();_.G(0,"mat-form-field",9)(1,"mat-label");_.N(2,2);_.I();_.G(3,"cfc-select",10,0);_.E(5,Dei,2,3,"mat-option",11)(6,Eei,3,1,"mat-option",12);_.G(7,"div",13)(8,"div")(9,"button",14);_.O("click",function(){_.q(c);
return _.u(b.createServiceAccountClicked())});_.N(10,3);_.I();_.G(11,"button",15);_.O("click",function(){_.q(c);return _.u(b.enterServiceAccountClicked())});_.N(12,4);_.I()()()();_.E(13,Fei,2,0,"mat-hint",16)(14,Gei,2,0,"mat-hint",16)(15,Hei,2,0,"cm-error",17);_.I();_.J(16,"s8s-service-account-subtask",18,1)}a&2&&(_.z(3),_.F("isRequired",!0)("formControl",b.form)("hasFilter",!0),_.z(2),_.F("ngForOf",b.serviceAccounts||_.eg(13,ugi)),_.z(),_.F("ngIf",!b.areServiceAccountsAvailable()),_.z(3),_.F("cfcIamCheck",
_.eg(14,vgi))("cfcIamOperator",b.IamCheckOperator.AND)("cfcIamLearnMoreLink",b.createButtonDisabledLearnMoreLink),_.z(4),_.F("ngIf","revision"===b.hintsFor),_.z(),_.F("ngIf","job"===b.hintsFor),_.z(),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("existingServiceAccounts",b.serviceAccounts||_.eg(15,ugi))("addRolesSupport",!0))},dependencies:[_.dt,_.Qu,_.Lp,_.Pu,_.oy,_.OD,_.py,_.iy,_.hy,_.gy,_.ND,_.Al,_.Bl,_.PD,_.v6,_.Gz,_.FC,_.Xt,_.ly,_.qu,_.az,_.$y,_.fz,_.JA,_.LA,_.e0h],encapsulation:2,changeDetection:0});
xgi=function(a,b,c){c=a.formBuilder.group({sqlInstancesList:[b,[_.fu]],sqlInstancesInput:[c,[_.fu,_.Gt(1E4),_.Ht("[a-zA-Z0-9-]{1,}:[a-zA-Z0-9-]{1,}:[a-zA-Z0-9-]{1,}")]]});"Custom connection string..."!==b&&c.controls.sqlInstancesInput.disable();a.sqlInstances.push(c)};
_.ygi=class extends _.W5{get sqlInstancesFromProject(){return this.instancesFromProject}set sqlInstancesFromProject(a){a=a||[];a.push("Custom connection string...");this.instancesFromProject=a}get sqlInstances(){return this.form.controls.sqlInstances}constructor(a,b,c,d){super(d);this.projectParamService=a;this.serviceUsageService=b;this.sequentialServiceEnablednessCheckingService=c;this.CONSOLE__RUN_DOCS_CONFIGURING_CONNECT_CLOUDSQL=lfi;this.placeholderCustomConnection="project:region:instance";
this.instancesFromProject=[];this.isCloudSqlAdminApiEnabledInitially$=this.sequentialServiceEnablednessCheckingService.isServiceEnabled(_.oq(this.projectParamService),"sqladmin.googleapis.com").pipe(_.Je(e=>{e.errorExperience=2;return _.w(!0)}),_.pf(!0),_.B(this.destroyed$));this.enableCloudSqlAdminApiButtonClicked$=new _.kf;this.enableCloudSqlAdminApi$=this.enableCloudSqlAdminApiButtonClicked$.pipe(_.de(()=>this.serviceUsageService.enableService(_.oq(this.projectParamService),"sqladmin.googleapis.com")),
_.af(!0),_.Je(e=>{e.errorExperience=2;return _.w(!1)}),_.mf(1),_.B(this.destroyed$));this.isEnablingCloudSqlAdminApiInProgress$=_.le(this.enableCloudSqlAdminApiButtonClicked$.pipe(_.af(!0)),this.enableCloudSqlAdminApi$.pipe(_.af(!1))).pipe(_.pf(!1),_.B(this.destroyed$));this.isCloudSqlAdminApiEnabled$=_.le(this.isCloudSqlAdminApiEnabledInitially$,this.enableCloudSqlAdminApi$);this.form=this.formBuilder.group({sqlInstances:this.formBuilder.array([])});this.headingLevel=5}ngOnInit(){super.ngOnInit()}initForm(){let a;
for(const b of null!=(a=this.initialSqlInstances)?a:[])this.sqlInstancesFromProject.includes(b)?xgi(this,b,""):xgi(this,"Custom connection string...",b)}};_.ygi.\u0275fac=function(a){return new (a||_.ygi)(_.A(_.pq),_.A(_.gI),_.A(_.M5),_.A(_.Fu))};
_.ygi.\u0275cmp=_.m({type:_.ygi,selectors:[["sql-stack"]],inputs:{initialSqlInstances:"initialSqlInstances",headingLevel:"headingLevel",sqlInstancesFromProject:"sqlInstancesFromProject",hintsFor:"hintsFor"},features:[_.Bf],decls:10,vars:7,consts:()=>{let a;a=_.ft("[\ufffd#2\ufffd|\ufffd#3\ufffd]Allow this Cloud Run revision to connect to specific Cloud SQL instances. This automatically enables and configures the Cloud SQL proxy.[\ufffd/#2\ufffd|\ufffd/#3\ufffd][\ufffd#2\ufffd|\ufffd#3\ufffd]This is only required to connect to Cloud SQL. Other database services like Firestore can be accessed with no additional configuration.[\ufffd/#2\ufffd|\ufffd/#3\ufffd]\ufffd#4\ufffd\ufffd#5\ufffd Learn more \ufffd/#5\ufffd\ufffd/#4\ufffd");
let b;b=_.ft("[\ufffd#2\ufffd|\ufffd#3\ufffd]Allow this Cloud Run job to connect to specific Cloud SQL instances. This automatically enables and configures the Cloud SQL proxy.[\ufffd/#2\ufffd|\ufffd/#3\ufffd][\ufffd#2\ufffd|\ufffd#3\ufffd]This is only required to connect to Cloud SQL. Other database services like Firestore can be accessed with no additional configuration.[\ufffd/#2\ufffd|\ufffd/#3\ufffd]\ufffd#4\ufffd\ufffd#5\ufffd Learn more \ufffd/#5\ufffd\ufffd/#4\ufffd");return[["sqlConnectionsTooltip",
""]," Enable Cloud SQL Admin API "," Cloud SQL connection is required. "," Cloud SQL connection is required. "," Invalid Cloud SQL connection format. Expected format: project:region:instance. ",a,b,[3,"formGroup"],["formArrayName","sqlInstances","id","sqlInstances","addButtonMessage","Add Connection",3,"onRowAdditionRequested"],["id","sqlInstancesTitle","stackTitle","Cloud SQL connections",3,"titleHeadingVisualLevel"],["cfcTooltipPosition","right",1,"cfc-button-small"],[4,"ngTemplateOutlet"],["type",
"informational",4,"ngIf"],["itemLabel","Instance",3,"formGroup",4,"ngFor","ngForOf"],["type","informational"],[1,"cfc-space-below-minus-4","cfc-space-above-minus-4"],[3,"inProgress"],["type","button","mat-raised-button","","color","primary",3,"click"],["itemLabel","Instance",3,"formGroup"],[4,"ngIf"],["formControlName","sqlInstancesList",3,"change"],[3,"value",4,"ngFor","ngForOf"],["label","Cloud SQL instance"],["matError","",4,"cfcDebounceErrorFor"],[3,"value"],["matError",""],["matInput","","formControlName",
"sqlInstancesInput",3,"placeholder"],["label","Cloud SQL instance"],[1,"cfc-button-align-left"],["mat-button","","color","primary","cfcTrackedEvent","","track-type","cloudRun","track-name","docsLinkClick","aria-label","Learn more about configuring Cloud SQL for Cloud Run",3,"cfcDocLink"],["mat-button","","color","primary","cfcTrackedEvent","","track-type","cloudRun","track-name","docsLinkClick","aria-label","Learn more about configuring Cloud SQL for Cloud Run",3,"cfcDocLink"]]},template:function(a,
b){if(a&1){const c=_.n();_.K(0,7);_.G(1,"cfc-form-stack",8);_.O("onRowAdditionRequested",function(){_.q(c);xgi(b,"","");return _.u()});_.G(2,"cfc-form-stack-title",9)(3,"cfc-help-button",10);_.E(4,Jei,1,0,null,11);_.I()();_.E(5,Kei,8,3,"cfc-message",12);_.S(6,"nonNullAsync");_.E(7,Rei,4,3,"cfc-form-stack-row",13);_.I();_.L();_.E(8,Uei,2,2,"ng-template",null,0,_.ig)}a&2&&(a=_.ag(9),_.F("formGroup",b.form),_.z(2),_.F("titleHeadingVisualLevel",b.headingLevel),_.z(2),_.F("ngTemplateOutlet",a),_.z(),_.F("ngIf",
!_.U(6,5,b.isCloudSqlAdminApiEnabled$)),_.z(2),_.F("ngForOf",b.sqlInstances.controls))},dependencies:[_.dt,_.Qu,_.nt,_.Lp,_.Pu,_.oy,_.OD,_.py,_.iy,_.hy,_.ND,_.wy,_.xy,_.uy,_.Al,_.Bl,_.Fl,_.PD,_.jz,_.cD,_.KE,_.VE,_.GE,_.HE,_.IE,_.bA,_.Xt,_.Vo,_.Dx,_.Lt,_.ly,_.Ky,_.ru,_.uu,_.tu,_.az,_.$y,_.fz,_.S5],encapsulation:2,changeDetection:0});zgi=function(a){a.binAuthzNamedPolicySupportEnabled?a.fetchPolicies(!1):_.mdi(a.binAuthzService,a.projectId).pipe(_.B(a.destroyed$)).subscribe(b=>{a.cloudBinAuthzApiMissing$.next(!b)})};
Agi=function(a){const b=a.binauthzCheckbox.value;a.isApiEnablednessInProgress$.next(!0);a.activateApi().subscribe(()=>{a.isApiEnablednessInProgress$.next(!1);a.binAuthzNamedPolicySupportEnabled?a.fetchPolicies(b):a.cloudBinAuthzApiMissing$.next(!1)},()=>{a.binAuthzNamedPolicySupportEnabled||(a.cloudBinAuthzApiMissing$.next(!0),a.binauthzCheckbox.setValue(!1));a.isApiEnablednessInProgress$.next(!1)})};
_.Bgi=class extends _.W5{get binauthzCheckbox(){return this.form.controls.binauthzCheckbox}constructor(a,b,c,d){super(c);this.orgPolicyService=a;this.projectParamService=b;this.binAuthzService=d;this.dl={CONSOLE__BINARY_AUTHORIZATION_DOCS_RUN_OVERVIEW:_.hdi};this.binauthzPolicies=["default",""];this.MSG_TOOLTIP_BINAUTHZ_ORG_POLICY_ENFORCED='Binary Authorization is enforced by your organization\u2019s "Allowed Binary Authorization Policies (Cloud Run)" policy';this.binAuthzNamedPolicySupportEnabled=
_.zc(_.Jci);this.projectId=_.oq(this.projectParamService);this.ve={ServerlessBinaryAuthorizationCheckbox:130023};this.form=this.formBuilder.group({binauthzCheckbox:[!1]});this.cloudBinAuthzApiMissing$=new _.zg(!1);this.isApiEnablednessInProgress$=new _.zg(!1);this.shouldDisplayNoValidPolicyWarning$=new _.zg(!1);this.policies$=new _.hf(1);this.orgPolicy$=this.binAuthzNamedPolicySupportEnabled?_.gdi(this.orgPolicyService).pipe(_.mf(1),_.B(this.destroyed$)):_.hl;this.allowedBinAuthzPolicies$=this.binAuthzNamedPolicySupportEnabled?
_.hl:_.s3h(this.orgPolicyService,"constraints/run.allowedBinaryAuthorizationPolicies",this.binauthzPolicies).pipe(_.mf(1),_.B(this.destroyed$));this.isBinAuthzDisabled$=(this.binAuthzNamedPolicySupportEnabled?this.orgPolicy$.pipe(_.y(e=>{var f;if(!(f=ffi(e))){let g;f="DENY"===(null==e?void 0:null==(g=e.listPolicy)?void 0:g.allValues)}return f})):this.allowedBinAuthzPolicies$.pipe(_.y(e=>!gfi(e)))).pipe(_.pf(!1));this.binauthzLink=_.idi.create().link().build()}ngOnInit(){super.ngOnInit();this.binauthzCheckbox.valueChanges.pipe(_.B(this.destroyed$),
_.Qe()).subscribe(()=>{this.binauthzCheckbox.value&&this.cloudBinAuthzApiMissing$.value&&Agi(this);if(this.binAuthzNamedPolicySupportEnabled&&!this.binauthzCheckbox.value){let a;null==(a=this.form.controls.binauthzPolicySelector)||a.disable()}});zgi(this);this.binAuthzNamedPolicySupportEnabled||(this.binauthzCheckbox.setValue(!!this.initialBinAuthzPolicy),this.allowedBinAuthzPolicies$.subscribe(a=>{gfi(a)||this.binauthzCheckbox.setValue(!0)}))}activateApi(){return this.binAuthzService.activateApi(this.projectId)}fetchPolicies(a){const b=
this.binAuthzService.list(this.projectId).pipe(_.B(this.destroyed$),_.tf(()=>{this.cloudBinAuthzApiMissing$.next(!1)}),_.Je(c=>{let d;this.cloudBinAuthzApiMissing$.next(!!_.L3(null!=(d=c.message)?d:""));return _.w(void 0)}));_.$d([this.orgPolicy$,b]).subscribe(([c,d])=>{d=_.fdi(c,d,this.projectId);this.policies$.next(d.policies);this.shouldDisplayNoValidPolicyWarning$.next(d.allowedPoliciesAreInvalid);this.binauthzCheckbox.setValue(a||ffi(c)||!!this.initialBinAuthzPolicy)})}};
_.Bgi.\u0275fac=function(a){return new (a||_.Bgi)(_.A(_.l6),_.A(_.pq),_.A(_.Fu),_.A(_.ndi))};
_.Bgi.\u0275cmp=_.m({type:_.Bgi,selectors:[["binauthz"]],inputs:{initialBinAuthzPolicy:"initialBinAuthzPolicy"},features:[_.Bf],decls:7,vars:7,consts:()=>[["binauthzTooltip",""]," Verify container deployment with Binary Authorization "," Updates to this service will be subject to the default Binary Authorization policy of this project. \ufffd*2:1\ufffd\ufffd#1:1\ufffd Learn more \ufffd/#1:1\ufffd\ufffd/*2:1\ufffd",["class","cfc-space-below-base  cfc-space-above-minus-6",4,"ngIf"],[3,"formGroup"],
["class","cfc-space-below-base cfc-space-above-minus-6",4,"ngIf"],[1,"cfc-space-below-base","cfc-space-above-minus-6"],[3,"inProgress"],["mat-button","",3,"hidden"],[1,"cfc-form-control-wrapper","cfc-space-last"],["formControlName","binauthzCheckbox",3,"cfcDisable","cfcDisableTooltip","ve","veClick"],["ariaLabel","Help with reason for 'enable binary authentication'\n                                  checkbox being disabled","cfcTooltipPosition","right",1,"cfc-button-small"],[4,"ngTemplateOutlet"],
[3,"cfcIndentation"],[4,"ngIf"],["mat-button","","class","cfc-space-above-minus-4","target","_blank","color","primary","cfcDisable","","s8sByoidCheck","","aria-label","Configure Policy",3,"cfcRouterLink",4,"ngIf"],["class","cfc-space-above-minus-4",3,"isLoading",4,"ngIf"],["mat-button","","target","_blank","color","primary","cfcDisable","","s8sByoidCheck","","aria-label","Configure Policy",1,"cfc-space-above-minus-4",3,"cfcRouterLink"],[1,"cfc-space-above-minus-4",3,"isLoading"],[3,"binAuthzNamedPolicy",
"policies","shouldDisplayNoValidPolicyWarning","formReady",4,"ngIf"],[3,"formReady","binAuthzNamedPolicy","policies","shouldDisplayNoValidPolicyWarning"],["aria-label","Learn more about cloud run binary authorization platform policies",3,"cfcDocLink",4,"ngIf"],["aria-label","Learn more about cloud run binary authorization platform policies",3,"cfcDocLink"]],template:function(a,b){a&1&&(_.E(0,Wei,5,2,"div",3),_.S(1,"nonNullAsync"),_.K(2,4),_.E(3,cfi,14,14,"div",5),_.S(4,"nonNullAsync"),_.L(),_.E(5,
efi,3,1,"ng-template",null,0,_.ig));a&2&&(_.F("ngIf",_.U(1,3,b.isApiEnablednessInProgress$)),_.z(2),_.F("formGroup",b.form),_.z(),_.F("ngIf",!_.U(4,5,b.isApiEnablednessInProgress$)))},dependencies:[_.dt,_.at,_.Nci,_.m6,_.Bl,_.Fl,_.gy,_.Dx,_.Gz,_.EE,_.vt,_.bA,_.K5,_.$E,_.Qu,_.nt,_.Lp,_.Pu,_.lx,_.mx,_.ix,_.ly,_.Ky,_.ru,_.uu,_.cw,_.Gl,_.S5],encapsulation:2,changeDetection:0});_.O6=class{};_.O6.\u0275fac=function(a){return new (a||_.O6)};_.O6.\u0275mod=_.ed({type:_.O6});
_.O6.\u0275inj=_.Qc({imports:[_.Hl,_.Fo,_.Bx,_.Z2b]});var Cgi=class{constructor(a,b){_.Er(a,118,b)}};Cgi.\u0275fac=function(a){return new (a||Cgi)(_.k(_.Fr),_.k(_.Gr))};Cgi.\u0275mod=_.ed({type:Cgi});Cgi.\u0275inj=_.Qc({imports:[xfi,_.et,_.Uu,_.Hl,Cfi,_.QD,_.Pz,_.iA,_.GC,Dfi,_.ox,_.ry,_.ep,_.Iu,_.lai,_.NA,_.rF,_.TD]});_.P6=class{};_.P6.\u0275fac=function(a){return new (a||_.P6)};_.P6.\u0275mod=_.ed({type:_.P6});_.P6.\u0275inj=_.Qc({imports:[Cgi,Cgi]});var Dgi=class{};Dgi.\u0275fac=function(a){return new (a||Dgi)};Dgi.\u0275mod=_.ed({type:Dgi});Dgi.\u0275inj=_.Qc({imports:[_.Hl]});var Egi;Egi=[_.et,_.Hl,_.Pz,_.iA,_.GC,_.Uu,_.ep,_.Rz];_.Fgi=class{};_.Fgi.\u0275fac=function(a){return new (a||_.Fgi)};_.Fgi.\u0275mod=_.ed({type:_.Fgi});_.Fgi.\u0275inj=_.Qc({imports:[Egi]});_.Ggi=class{};_.Ggi.\u0275fac=function(a){return new (a||_.Ggi)};_.Ggi.\u0275mod=_.ed({type:_.Ggi});_.Ggi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ry,_.yy,_.Hl,_.QD,_.V5,_.iA,_.oV,_.WE,_.dA,_.dp,Dgi,_.Zt,_.T5,_.Iu,_.dw,_.P6,_.Fgi,_.NA]});_.Q6=class{};_.Q6.\u0275fac=function(a){return new (a||_.Q6)};_.Q6.\u0275mod=_.ed({type:_.Q6});_.Q6.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.uo,_.ry,_.yy,_.Hl,_.QD,_.V5,_.iA,_.dD,_.ep,_.Iu,_.dw]});_.Hgi=class{};_.Hgi.\u0275fac=function(a){return new (a||_.Hgi)};_.Hgi.\u0275mod=_.ed({type:_.Hgi});_.Hgi.\u0275inj=_.Qc({imports:[_.et,_.odi,_.n6,_.Hl,_.ry,_.T5,_.Rz,_.Pz,_.iA,_.Tw,_.dA,_.L5,_.aF,_.Uu,_.ox,_.Iu,_.dw]});_.Igi=class{};_.Igi.\u0275fac=function(a){return new (a||_.Igi)};_.Igi.\u0275mod=_.ed({type:_.Igi});_.Igi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ox,_.ry,_.yy,_.Hl,_.QD,_.iA,_.Hu,_.dA,_.L5,_.sP,_.Zt,_.Iu,_.NA]});var Jgi;Jgi=[_.fH,_.Hl,_.H6,_.tz,_.ry,_.Iu];_.R6=class{};_.R6.\u0275fac=function(a){return new (a||_.R6)};_.R6.\u0275mod=_.ed({type:_.R6});_.R6.\u0275inj=_.Qc({imports:[_.QD,_.Hu,_.WE,_.dA,_.dp,_.yy,_.ep,_.dw,Jgi]});_.S6=class{};_.S6.\u0275fac=function(a){return new (a||_.S6)};_.S6.\u0275mod=_.ed({type:_.S6});_.S6.\u0275inj=_.Qc({imports:[_.et,_.Yv,_.Uu,_.ox,_.ry,_.yy,_.Hl,_.QD,_.V5,_.Hu,_.L5,_.Zt,_.Iu,_.dw,_.NA]});_.Kgi=class{};_.Kgi.\u0275fac=function(a){return new (a||_.Kgi)};_.Kgi.\u0275mod=_.ed({type:_.Kgi});_.Kgi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ry,_.Hl,_.QD,_.V5,_.Pz,_.iA,_.GC,_.Zt,_.Iu,_.NA,_.g0h]});_.Lgi=class{};_.Lgi.\u0275fac=function(a){return new (a||_.Lgi)};_.Lgi.\u0275mod=_.ed({type:_.Lgi});_.Lgi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ry,_.yy,_.Hl,_.QD,_.iA,_.dD,_.WE,_.dA,_.Zt,_.ep,_.T5,_.Rz,_.Iu,_.NA]});var Mgi=[_.et,_.fH,_.tz,_.ry,_.Hl,_.QD,_.dA,_.H6,_.Iu],Ngi=class{};Ngi.\u0275fac=function(a){return new (a||Ngi)};Ngi.\u0275mod=_.ed({type:Ngi});Ngi.\u0275inj=_.Qc({imports:[Mgi]});var Ogi=[_.aF,Ngi],Pgi=class{};Pgi.\u0275fac=function(a){return new (a||Pgi)};Pgi.\u0275mod=_.ed({type:Pgi});Pgi.\u0275inj=_.Qc({imports:[Zfi,Ogi]});var Qgi=[_.et,_.Az,_.Hl,_.Pz,_.iA,_.wE,_.BE,_.Iu],Rgi=class{};Rgi.\u0275fac=function(a){return new (a||Rgi)};Rgi.\u0275mod=_.ed({type:Rgi});Rgi.\u0275inj=_.Qc({imports:[Qgi]});var Sgi=[_.iA,_.dD,ogi],Tgi=class{};Tgi.\u0275fac=function(a){return new (a||Tgi)};Tgi.\u0275mod=_.ed({type:Tgi});Tgi.\u0275inj=_.Qc({imports:[Sgi]});var Ugi;Ugi=[_.et,_.Yv,_.ox,_.Az,_.Hl,Pgi,_.Pz,_.iA,_.Iu,Rgi,Tgi];_.Vgi=class{};_.Vgi.\u0275fac=function(a){return new (a||_.Vgi)};_.Vgi.\u0275mod=_.ed({type:_.Vgi});_.Vgi.\u0275inj=_.Qc({imports:[Ugi]});
}catch(e){_._DumpException(e)}
try{
var kki,lki,mki,nki,oki,pki,qki,rki,ski,tki,uki,vki,wki,xki,yki,zki,Aki,Bki,Cki,Dki,Eki,Fki,Gki,Hki,Iki,Jki,Kki,Mki,Nki,Oki,Pki,Qki,Rki,Ski,Tki,Uki,Vki,Wki,Xki,Yki,Zki,$ki,ali,bli,cli,dli,eli,fli,gli,hli,b7,kli,lli,mli,nli,oli,pli,qli,rli,sli,tli,uli,vli,wli,xli,yli,zli,Ali,Bli,Cli,Dli,Eli,Fli,Gli,Hli,Ili,Jli,Kli,Lli,Mli,Nli,Oli,Pli,Rli,Tli,Vli,Wli,Yli,Zli,$li,ami,bmi,cmi,gmi,hmi,imi,jmi,kmi,lmi,mmi,nmi,omi,pmi,qmi,rmi,smi,umi,wmi,Ami,Bmi,Cmi,Dmi,Emi,Fmi,Gmi,Hmi,Imi,Jmi,Kmi,Lmi,Mmi,Nmi,Omi,Pmi,Qmi,
Rmi,Smi,Tmi,Umi,Vmi,Wmi,Xmi,Ymi,Zmi,$mi,ani,bni,cni,dni,eni,fni,gni,hni,ini,jni,kni,lni,mni,nni,oni,pni,qni,rni,sni,tni,uni,vni,wni,xni,yni,zni,Ani,Bni,Cni,Dni,Eni,Gni,Hni,Ini,Jni,Kni,Lni,Mni,Nni,Pni,Rni,Sni,Wni,Xni,Yni,Zni,koi,$ni,doi,coi,loi,moi,noi,ooi,hoi,roi,soi,toi,poi,qoi,aoi,c7,Tni,Vni,Uni,joi,goi,ioi,foi,boi,uoi,voi,woi,xoi,yoi,dpi,zmi,tmi,vmi,xmi,Fni;
_.jki=function(a){const b=_.ifi(a.vpcSettings);let c,d,e;const f={containerImage:a.containerImage,containerPort:a.containerPort,containerCommands:a.containerCommands,containerArgs:a.containerArgs,containers:a.containers,cpuThrottling:a.cpuThrottling,memory:a.memory,maxCpuMillis:a.cpuMillis,timeoutSeconds:a.timeoutSeconds,concurrency:a.containerConcurrency,executionEnvironment:a.executionEnvironment,autoscaleMinScale:a.autoscaling.minScale,autoscaleMaxScale:a.autoscaling.maxScale,envVar:a.envVars,
secrets:a.secrets,http2ConnectionsEnabled:a.http2Enabled,sqlInstances:a.sqlInstances,vpcConnector:null!=(d=null==b?void 0:null==(c=b.vpcConnector)?void 0:c.displayName)?d:"",vpcAccessEgress:null!=(e=null==b?void 0:b.vpcAccessEgress)?e:"",serviceAccountName:a.serviceAccount,startupCpuBoost:a.startupCpuBoost,sessionAffinityEnabled:a.sessionAffinityEnabled,healthCheckProbes:a.healthChecks,encryptionKeySettings:a.cmek,vpcSettings:b,volumes:a.volumes};_.zc(_.q0h)&&(f.confidentialComputing=a.confidentialComputing);
_.zc(_.ddi)&&(f.baseImage=a.runtime);return f};kki=function(a){return a.value.filter(b=>0<b)};lki=function(a){let b,c;return{startupProbe:null!=(b=a.controls.startupProbe.value)?b:void 0,livenessProbe:null!=(c=a.controls.livenessProbe.value)?c:void 0}};mki=function(a){return _.Yci(a.controls.environmentVariableStack).map(b=>({type:"REGULAR",regularEnvVar:{key:b.name,value:b.value},typeSpecificEnvironmentVariableDetails:"regularEnvVar"}))};nki=function(a,b){return _.zii(a)===b?_.yii(a):a};
oki=function(a){return{secretName:nki(a.controls.secretPicker.controls.secret.value,a.controls.projectNumber.value),secretVersions:a.controls.secretVersions.controls.map(b=>({version:b.controls.version.value,path:b.controls.path.value})),defaultMode:a.controls.defaultMode.value}};pki=function(a){return{type:"SECRET",secretEnvVar:{key:a.controls.name.value,secretName:nki(a.controls.secretPicker.controls.secret.value,a.controls.projectNumber.value),secretVersion:a.controls.version.value},typeSpecificEnvironmentVariableDetails:"secretEnvVar"}};
qki=function(a){if(a&1){const b=_.n();_.K(0);_.G(1,"span",5);_.Of(2,0);_.G(3,"a",6);_.O("click",function(){_.q(b);_.P().revisionFormTabSwitchService.tabSwitchSubject.next(1);return _.u()});_.I();_.Pf();_.I();_.L()}};rki=function(a,b){a&1&&(_.G(0,"code"),_.Q(1),_.G(2,"span"),_.Q(3),_.I()());a&2&&(a=b.rowData,b=_.P(2),_.z(),_.R(" ",b.secretName,""),_.z(2),_.R(":",a.version||"-",""))};ski=function(a){a&1&&(_.G(0,"cfc-help-button",14),_.N(1,2),_.I())};
tki=function(a){a&1&&(_.G(0,"cfc-help-button",15),_.N(1,3),_.I())};uki=function(a){a&1&&(_.K(0),_.G(1,"span",11),_.Q(2," \u2014 "),_.I(),_.E(3,ski,2,0,"cfc-help-button",12)(4,tki,2,0,"cfc-help-button",13),_.L());a&2&&(a=_.P(3),_.z(3),_.F("ngIf",!a.mountPath),_.z(),_.F("ngIf",a.mountPath))};vki=function(a){a&1&&(_.K(0),_.G(1,"code"),_.Q(2),_.I(),_.L());if(a&2){a=_.P().rowData;const b=_.P(2);_.z(2);_.Ju("/",b.mountPath,"/",a.subpath,"")}};
wki=function(a,b){a&1&&_.E(0,uki,5,2,"ng-container",4)(1,vki,3,2,"ng-container",4);a&2&&(a=b.rowData,b=_.P(2),_.F("ngIf",!b.mountPath||!a.subpath),_.z(),_.F("ngIf",b.mountPath&&a.subpath))};
xki=function(a){a&1&&(_.K(0),_.G(1,"div"),_.N(2,1),_.I(),_.G(3,"cfc-table",7)(4,"cfc-table-column",8),_.E(5,rki,4,2,"ng-template",9),_.I(),_.G(6,"cfc-table-column",10),_.E(7,wki,2,2,"ng-template",9),_.I()(),_.L());a&2&&(a=_.P(),_.z(3),_.F("items",a.versionsTableRows)("columnsConfig",a.columnsConfig)("tableRendererV2",!1))};yki=function(a,b){a&1&&(_.G(0,"mat-option",21),_.Q(1),_.I());a&2&&(a=b.$implicit,_.F("value",a.key),_.z(),_.R(" ",a.value," "))};
zki=function(a){a&1&&(_.G(0,"cm-error",22),_.N(1,1),_.I())};Aki=function(a){a&1&&(_.G(0,"cm-error",22),_.N(1,2),_.I())};Bki=function(a){a&1&&(_.G(0,"cm-error",22),_.N(1,3),_.I())};Cki=function(a){a&1&&(_.G(0,"mat-hint"),_.J(1,"secret-volume-mount-hint",23),_.I());if(a&2){let b;a=_.P().$implicit;const c=_.P();_.z();_.F("mountPath",a.controls.mountPath.value||"")("volume",null==(b=c.volumesMap.get(a.controls.volumeId.value))?null:b.secretVolume)}};
Dki=function(a,b){a&1&&(_.G(0,"cfc-form-stack-row",11)(1,"cfc-form-stack-input-wrapper",12)(2,"mat-form-field",13)(3,"cfc-select",14),_.E(4,yki,2,2,"mat-option",15),_.S(5,"keyvalue"),_.I(),_.G(6,"mat-label"),_.J(7,"cfc-form-stack-field-label",16),_.I(),_.E(8,zki,2,0,"cm-error",17),_.I()(),_.G(9,"cfc-form-stack-input-wrapper")(10,"mat-form-field",13)(11,"mat-label"),_.J(12,"cfc-form-stack-field-label",18),_.I(),_.J(13,"input",19),_.G(14,"span",20),_.Q(15,"/"),_.I(),_.E(16,Aki,2,0,"cm-error",17)(17,
Bki,2,0,"cm-error",17)(18,Cki,2,2,"mat-hint",10),_.I()()());if(a&2){b=b.$implicit;a=_.P();_.F("formGroup",b);_.z();_.F("disableResizing",!0);_.z(2);_.F("formControl",b.controls.volumeId)("isRequired",!0);_.z();_.F("ngForOf",_.U(5,10,a.volumesOptionsMap));_.z(4);_.F("cfcDebounceErrorFor","required");_.z(5);_.F("formControl",b.controls.mountPath);_.z(3);_.F("cfcDebounceErrorFor","required");_.z();_.F("cfcDebounceErrorFor","pattern");_.z();b=b.controls.volumeId.value;if(void 0===b)a=!1;else{var c;a=
!(null==(c=a.volumesMap.get(b))||!c.secretVolume)}_.F("ngIf",a)}};Eki=function(a){if(a&1){const b=_.n();_.K(0);_.G(1,"cfc-message",24)(2,"cfc-message-text");_.N(3,4);_.I();_.G(4,"cfc-message-actions")(5,"button",25);_.O("click",function(){_.q(b);_.P().revisionFormTabSwitchService.tabSwitchSubject.next(1);return _.u()});_.N(6,5);_.I()()();_.L()}};Fki=function(a){return{volumeId:a.controls.volumeId.value,mountPath:`/${a.controls.mountPath.value}`,readOnly:a.controls.readOnly.value}};
Gki=function(a){return new Map(a.map(b=>[b.id,{image:b.image,initialName:b.name,isDeleted:!1}]))};Hki=function(a){a&1&&_.J(0,"cloud-build-setup-info",6);a&2&&(a=_.P(),_.F("cloudBuildSourceLink",a.cloudBuildSourceLink))};Iki=function(a,b){a&1&&(_.G(0,"div",9),_.Q(1),_.I());a&2&&(a=b.ngIf,_.z(),_.R(" ",a," "))};Jki=function(a){a&1&&(_.G(0,"div",10),_.N(1,3),_.I())};
Kki=function(a){a&1&&(_.G(0,"div",7),_.K(1),_.N(2,2),_.L(),_.I(),_.E(3,Iki,2,1,"div",8)(4,Jki,2,0,"ng-template",null,1,_.ig));if(a&2){a=_.ag(5);const b=_.P();_.z(3);_.F("ngIf",null==b.deploymentConfig?null:b.deploymentConfig.containerImage)("ngIfElse",a)}};Mki=function(a){if(a&1){const b=_.n();_.K(0);_.G(1,"ingress-deployment-config-info",12);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(Lki(d,c))});_.I();_.L()}a&2&&(a=_.P(),_.z(),_.F("deploymentConfig",a.deploymentConfig))};
Nki=function(a){if(a&1){const b=_.n();_.G(0,"container-input",13);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(Lki(d,c))});_.I()}a&2&&(a=_.P(),_.F("initialContainerImage",null==a.initialContainer?null:a.initialContainer.image)("demoContainer",a.demoContainer)("howToDocHref","CONSOLE__RUN_BUILD_DEPLOY_QUICKSTART")("displayRequestHint",a.isIngress)("gcbTriggerLocator",a.isIngress?a.gcbTriggerLocator:void 0))};
Oki=function(a){if(a&1){const b=_.n();_.G(0,"container-port-input",14);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.onContainerPortFormReady(c))});_.I()}a&2&&(a=_.P(),_.F("initialContainerPort",null==a.initialContainer?null:a.initialContainer.port))};Pki=function(a){return a.controls.id.value};Qki=function(a){return a.controls.port?Number(a.controls.port.value):0};
Rki=function(a){let b;return(null==(b=a.controls.containerSettings)?0:b.controls.limits)?_.L6(a.controls.containerSettings.controls.limits):_.C6};Ski=function(){};Tki=function(a){a&1&&_.E(0,Ski,0,0,"ng-template")};Uki=function(a){a&1&&(_.K(0),_.E(1,Tki,1,0,null,28),_.L());a&2&&(_.P(),a=_.ag(27),_.z(),_.F("ngTemplateOutlet",a))};Vki=function(){};Wki=function(a){a&1&&_.E(0,Vki,0,0,"ng-template")};
Xki=function(a){a&1&&(_.K(0),_.E(1,Wki,1,0,null,28),_.L());a&2&&(_.P(),a=_.ag(29),_.z(),_.F("ngTemplateOutlet",a))};Yki=function(a){a&1&&(_.G(0,"mat-hint"),_.Of(1,6),_.J(2,"a",29),_.Pf(),_.I());a&2&&(a=_.P(),_.z(2),_.F("cfcDocLink",a.dl.CONSOLE__RUN_DOCS_CONFIGURING_MIN_INSTANCES))};Zki=function(a){a&1&&(_.G(0,"div"),_.N(1,7),_.I())};$ki=function(a){a&1&&(_.G(0,"mat-hint"),_.E(1,Zki,2,0,"div",19),_.I());a&2&&(a=_.P(),_.z(),_.F("ngIf",a.serviceCreationMinInstancesConfigEnabled))};
ali=function(a){a&1&&(_.G(0,"cm-error",30),_.N(1,8),_.I())};bli=function(a){a&1&&(_.G(0,"cm-error",30),_.N(1,9),_.I())};cli=function(a){a&1&&(_.G(0,"cm-error",30),_.Of(1,10),_.J(2,"a",31),_.S(3,"number"),_.Pf(),_.I());a&2&&(a=_.P(),_.z(2),_.F("cfcRouterLink",a.quotasRouterLink)("queryParams",a.quotasQueryParams),_.z(),_.Qf(null==a.form.errors?null:a.form.errors.maxXMemoryExceedsQuotaLimit)(_.U(3,4,a.maxInstancesXMemoryGib)),_.Rf(1))};
dli=function(a){a&1&&(_.G(0,"cm-error",30),_.Of(1,11),_.J(2,"a",31),_.S(3,"number"),_.Pf(),_.I());a&2&&(a=_.P(),_.z(2),_.F("cfcRouterLink",a.quotasRouterLink)("queryParams",a.quotasQueryParams),_.z(),_.Qf(null==a.form.errors?null:a.form.errors.maxXCpuExceedsQuotaLimit)(_.U(3,4,a.maxInstancesXCpu)),_.Rf(1))};eli=function(a){a&1&&(_.G(0,"cm-error",30),_.N(1,12),_.I())};fli=function(a){a&1&&(_.G(0,"cm-error",30),_.N(1,13),_.S(2,"number"),_.I());a&2&&(a=_.P(),_.z(2),_.Qf(_.U(2,1,a.max32BitInteger)),_.Rf(1))};
gli=function(a){a&1&&(_.G(0,"div"),_.Of(1,14),_.J(2,"p"),_.G(3,"p"),_.S(4,"number"),_.J(5,"a",31),_.S(6,"number"),_.I(),_.Pf(),_.I());a&2&&(a=_.P(),_.z(5),_.F("cfcRouterLink",a.quotasRouterLink)("queryParams",a.quotasQueryParams),_.z(),_.Qf(_.U(4,4,a.instancesLimit))(_.U(6,6,a.instancesLimit)),_.Rf(1))};hli=function(a){a&1&&(_.G(0,"div"),_.Of(1,15),_.J(2,"p"),_.G(3,"p"),_.J(4,"a",31),_.I(),_.Pf(),_.I());a&2&&(a=_.P(),_.z(4),_.F("cfcRouterLink",a.quotasRouterLink)("queryParams",a.quotasQueryParams))};
b7=function(a){return""===a.value?Number.NaN:Number(a.value)};_.ili=function(a){return{minScale:Number(a.controls.minScale.value),maxScale:Number(a.controls.maxScale.value)}};_.jli=function(a){return{isDisabled:a.value}};kli=function(a){a&1&&(_.K(0),_.N(1,2),_.L());a&2&&(a=_.P(2),_.z(),_.Qf(a.name),_.Rf(1))};lli=function(a){a&1&&(_.K(0),_.N(1,3),_.L());a&2&&(a=_.P(2),_.z(),_.Qf(a.name),_.Rf(1))};
mli=function(a){a&1&&(_.K(0),_.E(1,kli,2,1,"ng-container",9)(2,lli,2,1,"ng-container",9),_.L());a&2&&(a=_.P(),_.z(),_.F("ngIf",a.isIngress&&a.isMulticontainer),_.z(),_.F("ngIf",!a.isIngress||!a.isMulticontainer))};nli=function(a){a&1&&_.Q(0);a&2&&(a=_.P(),_.R(" ",a.numberedContainerLabel," "))};oli=function(a){a&1&&(_.K(0),_.N(1,4),_.L());a&2&&(a=_.P(),_.z(),_.Qf(a.port)(a.formatCpu(a.limits.cpuMillis))(a.formatMemory(a.limits.memory,!0)),_.Rf(1))};
pli=function(a){a&1&&_.N(0,5);a&2&&(a=_.P(),_.Qf(a.formatCpu(a.limits.cpuMillis))(a.formatMemory(a.limits.memory,!0)),_.Rf(0))};qli=function(a){a&1&&_.Lf(0)};rli=function(a,b){a&1&&_.J(0,"container-item-summary",17);if(a&2){let d;a=b.ngIf;var c=_.P();b=c.$implicit;c=c.index;const e=_.P();_.F("name",null!==(d=a.get(e.toContainerId(b)))&&void 0!==d?d:"")("limits",e.toContainerLimits(b))("orderInFormList",c)("port",e.toContainerPort(b))("isIngress",0===c)("isMulticontainer",e.isMulticontainer)}};
sli=function(a){a&1&&(_.G(0,"cfc-form-list-item-details",18),_.J(1,"container-item-form",19),_.S(2,"async"),_.I());if(a&2){var b=_.P();a=b.$implicit;b=b.index;const c=_.P();_.F("formGroup",a)("deleteDisabled",0===b);_.z();_.F("initialContainer",c.initialContainersMap.get(a.controls.id.value))("isIngress",0===b)("isCreateServiceMode",c.isCreateServiceMode)("isMulticontainer",c.isMulticontainer)("deploymentConfig",c.deploymentConfig)("gcbTriggerLocator",c.gcbTriggerLocator)("volumes",c.volumes)("cpuThrottling",
c.cpuThrottling)("executionEnvironment",c.executionEnvironment)("dependsOnOptions",_.U(2,13,c.dependsOnOptions$))("form",a)}};tli=function(a,b){a&1&&(_.G(0,"cfc-form-list-item")(1,"cfc-form-list-item-summary",14),_.E(2,rli,1,6,"container-item-summary",15),_.S(3,"nonNullAsync"),_.I(),_.E(4,sli,3,15,"cfc-form-list-item-details",16),_.I());a&2&&(a=b.index,b=_.P(),_.z(),_.F("deleteDisabled",0===a),_.z(),_.F("ngIf",_.U(3,2,b.containerNames$)))};
uli=function(a,b){a&1&&(_.G(0,"cfc-form-error",21),_.Of(1,2),_.J(2,"br"),_.Pf(),_.I());a&2&&(a=b.ngIf,b=_.P(2),_.F("control",b.form),_.z(2),_.Qf(a.value/1E3)(a.threshold/1E3),_.Rf(1))};vli=function(a){a&1&&(_.K(0),_.N(1,4),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold/1E3),_.Rf(1))};wli=function(a){a&1&&(_.K(0),_.N(1,5),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold/1E3),_.Rf(1))};
xli=function(a,b){a&1&&(_.G(0,"cfc-form-error",21),_.K(1),_.N(2,3),_.L(),_.J(3,"br"),_.E(4,vli,2,1,"ng-container",22)(5,wli,2,1,"ng-container",22),_.I());a&2&&(a=b.ngIf,b=_.P(2),_.F("control",b.form),_.z(2),_.Qf(a.value/1E3),_.Rf(2),_.z(2),_.F("ngIf","gen2"===a.reason),_.z(),_.F("ngIf","alwaysOn"===a.reason))};yli=function(a){a&1&&(_.K(0),_.N(1,7),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold),_.Rf(1))};zli=function(a){a&1&&(_.K(0),_.N(1,8),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold),_.Rf(1))};
Ali=function(a,b){a&1&&(_.G(0,"cfc-form-error",21),_.K(1),_.N(2,6),_.L(),_.J(3,"br"),_.E(4,yli,2,1,"ng-container",22)(5,zli,2,1,"ng-container",22),_.I());a&2&&(a=b.ngIf,b=_.P(2),_.F("control",b.form),_.z(2),_.Qf(a.value),_.Rf(2),_.z(2),_.F("ngIf","gen2"===a.reason),_.z(),_.F("ngIf","alwaysOn"===a.reason))};
Bli=function(a){a&1&&_.E(0,uli,3,3,"cfc-form-error",20)(1,xli,6,4,"cfc-form-error",20)(2,Ali,6,4,"cfc-form-error",20);a&2&&(a=_.P(),_.F("ngIf",a.form.getError("sandbox-cpus-exceeded")),_.z(),_.F("ngIf",a.form.getError("sandbox-cpus-too-low")),_.z(),_.F("ngIf",a.form.getError("sandbox-memory-too-low")))};Cli=function(a,b){return a.controls.containers.controls.reduce((c,d,e)=>{d.disabled||c.push({id:Pki(d),name:b.get(Pki(d))||"",orderInFormList:e+1});return c},[])};
Dli=function(a){return 1<a.controls.containers.controls.filter(b=>!b.disabled).length};
Eli=function(a){return a.controls.containers.controls.filter(b=>!b.disabled).map(b=>{var c;const d=(null==(c=b.controls.port)?0:c.value)?Number(b.controls.port.value):0;c=b.controls.containerSettings;c={name:c.controls.name.value.trim(),commands:c.controls.commands.value,args:c.controls.args.value,limits:_.L6(c.controls.limits),dependsOn:kki(c.controls.dependsOn),healthChecks:lki(c.controls.healthChecks)};var e=Object,f=e.assign,g=b.controls.id.value,l=b.controls.image.value;var p=b.controls.variables;
p=mki(p.controls.environmentVariableStack).concat(p.controls.secretsVariableStack.controls.vars.controls.map(pki));return f.call(e,{},c,{id:g,port:d,image:l,envVars:p,volumeMounts:b.controls.volumeMounts.controls.mounts.controls.map(Fki)})})};Fli=function(a){a&1&&(_.G(0,"cfc-message",8)(1,"cfc-message-text"),_.N(2,2),_.I()())};Gli=function(a){a&1&&(_.G(0,"cm-error",9),_.N(1,3),_.I());a&2&&(a=_.P(),_.z(),_.Qf(a.minTimeoutSeconds)(a.maxTimeoutSeconds)(a.defaultTimeoutSeconds),_.Rf(1))};
Hli=function(a){var b=a.filter(c=>!c.port&&c.allocationLimits);a=b.reduce((c,{allocationLimits:d})=>c+d.cpuMillis,0);b=b.reduce((c,{allocationLimits:d})=>c+_.s6(d.memory),0);return{cpuMillis:a,memoryMib:b}};
Ili=function(a,b){if(1>=b.length)return null;const c=Hli(b);return()=>{var d=_.L6(a.controls.memoryAndCpu),e=_.s6(d.memory);d=c.cpuMillis+d.cpuMillis;e=c.memoryMib+e;if(8E3<d)return{"sandbox-cpus-exceeded":{value:d,threshold:8E3}};if(!a.controls.executionEnvironment)return null;const f="gen2"===a.controls.executionEnvironment.value;return f||a.controls.cpuThrottling&&_.jli(a.controls.cpuThrottling).isDisabled?1E3>d?{"sandbox-cpus-too-low":{value:d,reason:f?"gen2":"alwaysOn",threshold:1E3}}:512>e?
{"sandbox-memory-too-low":{value:e,reason:f?"gen2":"alwaysOn",threshold:512}}:null:null}};Jli=function(a,b){a&1&&(_.G(0,"mat-option",16),_.Q(1),_.I());a&2&&(a=b.$implicit,b=_.P(2),_.F("value",a),_.z(),_.R(" ",b.volumeTypeDisplayText.get(a)," "))};Kli=function(a){a&1&&(_.K(0),_.E(1,Jli,2,2,"mat-option",15),_.L());a&2&&(a=_.P(),_.z(),_.F("ngForOf",a.volumeTypeDisplayText.keys()))};Lli=function(a){a&1&&(_.K(0),_.G(1,"mat-option",16),_.Q(2," Other "),_.I(),_.L());a&2&&(a=_.P(),_.z(),_.F("value",a.typeSpecificDetailsOneofCase.otherVolume))};
Mli=function(a){a&1&&(_.G(0,"cm-error",17),_.N(1,2),_.I())};Nli=function(a){a&1&&(_.G(0,"cm-error",17),_.N(1,3),_.I())};Oli=function(a){a&1&&(_.G(0,"cm-error",17),_.N(1,4),_.I())};Pli=function(a){a&1&&(_.G(0,"cm-error",17),_.N(1,5),_.I())};Rli=function(a){if(a&1){const b=_.n();_.G(0,"in-memory-volume-details-form",18);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(Qli(d,c))});_.I()}a&2&&(a=_.P(),_.F("initialModel",a.inMemoryVolume))};
Tli=function(a){if(a&1){const b=_.n();_.G(0,"secret-volume-details-form",19);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(Sli(d,c))});_.I()}a&2&&(a=_.P(),_.F("initialModel",a.secretVolume)("serviceAccount",a.serviceAccount)("projectNumber",a.projectNumber))};Vli=function(a){if(a&1){const b=_.n();_.G(0,"gcs-volume-details-form",18);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(Uli(d,c))});_.I()}a&2&&(a=_.P(),_.F("initialModel",a.gcsVolume))};
Wli=function(a){if(a&1){const b=_.n();_.G(0,"cfc-message")(1,"cfc-message-text");_.N(2,6);_.I();_.G(3,"cfc-message-actions")(4,"button",20);_.O("click",function(){_.q(b);_.P().revisionFormTabSwitchService.tabSwitchSubject.next(0);return _.u()});_.N(5,7);_.I()()()}};Yli=function(a,b=Xli.id){return a.group({id:b,name:Xli.name,type:Xli.typeSpecificDetails})};
Zli=function(a){const b={id:a.controls.id.value,name:a.controls.name.value,typeSpecificDetails:a.controls.type.value};switch(b.typeSpecificDetails){case "inMemoryVolume":return Object.assign({},b,{inMemoryVolume:{sizeLimit:a.controls.inMemoryVolume.value}});case "secretVolume":return Object.assign({},b,{secretVolume:oki(a.controls.secretVolume)});case "gcsVolume":let c;a={bucketName:null!=(c=a.controls.gcsVolume.controls.bucketName.value)?c:""};return Object.assign({},b,{gcsVolume:a});case "otherVolume":return Object.assign({},
b,{otherVolume:{}});default:return b}};$li=function(a){a&1&&(_.G(0,"div",7),_.Q(1),_.I());a&2&&(a=_.P(),_.z(),_.R(" ",a.inMemoryVolumeSummary,"\n"))};ami=function(a){a&1&&(_.G(0,"div",8),_.Q(1),_.I());a&2&&(a=_.P(),_.z(),_.R(" ",a.secretVolumeSummary,"\n"))};bmi=function(a){a&1&&(_.G(0,"div",9),_.Q(1),_.I());a&2&&(a=_.P(),_.z(),_.R(" ",a.gcsVolumeSummary,"\n"))};cmi=function(a){a&1&&(_.G(0,"div",10),_.N(1,1),_.I())};
gmi=function(a){if(a&1){const b=_.n();_.G(0,"cfc-form-list-item-details")(1,"volume-item",9);_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(dmi(d,c))});_.I()()}if(a&2){a=_.P().$implicit;const b=_.P();_.z();_.F("initialName",emi(b,a).name)("initialType",emi(b,a).typeSpecificDetails)("initialInMemoryVolume",emi(b,a).inMemoryVolume)("initialSecretVolume",emi(b,a).secretVolume)("initialGcsVolume",emi(b,a).gcsVolume)("otherVolumesNames",fmi(b,a.controls.id.value))("form",a)("serviceAccount",
b.serviceAccount)("projectNumber",b.projectNumber)}};hmi=function(a,b){a&1&&(_.G(0,"cfc-form-list-item")(1,"cfc-form-list-item-summary"),_.J(2,"volume-item-summary",7),_.I(),_.E(3,gmi,2,9,"cfc-form-list-item-details",8),_.I());a&2&&(a=b.$implicit,b=_.P(),_.z(2),_.F("volumeItem",b.toIncompleteVolumeItemModel(a))("projectNumber",b.projectNumber))};
imi=function(a){const b=a.controls.type.value;return"inMemoryVolume"===b&&a.controls.inMemoryVolume||"secretVolume"===b&&a.controls.secretVolume||"gcsVolume"===b&&a.controls.gcsVolume||"typespecificdetailsNotSet"===b?Zli(a):{id:a.controls.id.value,name:a.controls.name.value,typeSpecificDetails:b}};jmi=function(a){return a.controls.volumes.controls.filter(b=>!b.disabled).map(Zli)};kmi=function(a){return a.controls.volumes.controls.filter(b=>!b.disabled).map(imi)};
lmi=function(a){return a.controls.volumes.controls.some(b=>!b.disabled&&"typespecificdetailsNotSet"!==b.controls.type.value&&"secretVolume"!==b.controls.type.value)};mmi=function(a){a&1&&_.Lf(0)};nmi=function(a){a&1&&_.Lf(0)};omi=function(a){a&1&&_.Lf(0)};pmi=function(a){a&1&&_.Lf(0)};qmi=function(a){a&1&&_.Lf(0)};rmi=function(a){a&1&&_.Lf(0)};smi=function(a){a&1&&_.Lf(0)};
umi=function(a){if(a&1){const b=_.n();_.J(0,"cfc-tab-error",49);_.G(1,"containers-form-list",50);_.S(2,"nonNullAsync");_.S(3,"nonNullAsync");_.S(4,"nonNullAsync");_.O("sandboxLimitsChanged",function(c){_.q(b);const d=_.P(2);return _.u(d.onSandboxLimitsChanged(c))})("formReady",function(c){_.q(b);const d=_.P(2);return _.u(tmi(d,c))});_.I();_.G(5,"span",51);_.N(6,25);_.I();_.E(7,mmi,1,0,"ng-container",52)(8,nmi,1,0,"ng-container",52)(9,omi,1,0,"ng-container",52)(10,pmi,1,0,"ng-container",52)(11,qmi,
1,0,"ng-container",52)(12,rmi,1,0,"ng-container",52)(13,smi,1,0,"ng-container",52)}if(a&2){a=_.P(2);const b=_.ag(20),c=_.ag(22),d=_.ag(28),e=_.ag(30),f=_.ag(46),g=_.ag(48),l=_.ag(56);_.F("forceShowErrorIcon",!a.areControlsValid(["timeoutSeconds","concurrency","autoscaling","containers","sqlInstances"]));_.z();_.F("initialContainers",null==a.initialRevision?null:a.initialRevision.containersList)("deploymentConfig",a.deploymentConfig)("gcbTriggerLocator",null==a.initialRevision?null:a.initialRevision.gcbTriggerLocator)("cpuThrottling",
_.U(2,15,a.cpuThrottling$))("executionEnvironment",_.U(3,17,a.executionEnvironment$))("volumes",_.U(4,19,a.volumes$))("isCreateServiceMode",a.isCreateServiceMode);_.z(6);_.F("ngTemplateOutlet",e);_.z();_.F("ngTemplateOutlet",d);_.z();_.F("ngTemplateOutlet",c);_.z();_.F("ngTemplateOutlet",f);_.z();_.F("ngTemplateOutlet",g);_.z();_.F("ngTemplateOutlet",b);_.z();_.F("ngTemplateOutlet",l)}};
wmi=function(a){if(a&1){const b=_.n();_.G(0,"mat-tab",48);_.E(1,umi,14,21,"ng-template",46);_.S(2,"nonNullAsync");_.O("lazyTabInit",function(){_.q(b);const c=_.P();return _.u(vmi(c))});_.I()}a&2&&(a=_.P(),_.z(),_.F("lazyTab",_.U(2,2,a.forceLazyTabInit$))("lazyTabPreloadTimeout",a.lazyTabPreloadTimeout))};
Ami=function(a){if(a&1){const b=_.n();_.J(0,"cfc-tab-error",49);_.G(1,"volumes-list",54);_.S(2,"nonNullAsync");_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(xmi(d,c))});_.I()}if(a&2){let b;a=_.P(2);_.F("forceShowErrorIcon",!a.areControlsValid(["volumes"]));_.z();_.F("initialVolumes",_.ymi(null!==(b=null==a.initialRevision?null:a.initialRevision.volumesList)&&void 0!==b?b:_.eg(6,zmi)))("serviceAccount",_.U(2,4,a.serviceAccount$))("projectNumber",a.projectNumber)}};
Bmi=function(a){if(a&1){const b=_.n();_.G(0,"mat-tab",53);_.E(1,Ami,3,7,"ng-template",46);_.S(2,"nonNullAsync");_.O("lazyTabInit",function(){_.q(b);const c=_.P();return _.u(vmi(c))});_.I()}a&2&&(a=_.P(),_.z(),_.F("lazyTab",_.U(2,2,a.forceLazyTabInit$))("lazyTabPreloadTimeout",a.lazyTabPreloadTimeout))};
Cmi=function(a){if(a&1){const b=_.n();_.G(0,"cfc-message",60,22)(2,"cfc-message-text");_.Of(3,28);_.J(4,"a",61);_.Pf();_.I();_.G(5,"cfc-message-actions")(6,"button",62);_.O("click",function(){_.q(b);const c=_.ag(1);return _.u(c.dismiss())});_.N(7,29);_.I()()()}a&2&&(a=_.P(4),_.z(4),_.F("cfcDocLink",a.CONSOLE__RUN_DOCS_REFERENCE_YAML_V1))};Dmi=function(a){a&1&&(_.K(0),_.E(1,Cmi,8,1,"cfc-message",59),_.L());a&2&&(a=_.P(3),_.z(),_.F("ngIf",a.isCreateServiceMode))};
Emi=function(a){a&1&&(_.G(0,"cfc-message",63)(1,"cfc-message-text"),_.N(2,30),_.I()())};
Fmi=function(a){if(a&1){const b=_.n();_.G(0,"container-input",64);_.O("formReady",function(c){_.q(b);const d=_.P(3);return _.u(d.form.setControl("containerImage",c))});_.I()}a&2&&(a=_.P(3),_.F("initialContainerImage",null==a.initialRevision?null:a.initialRevision.containerImage)("cloudBuildSetup",!!(null==a.initialRevision?0:null==a.initialRevision.gcbTriggerLocator?0:a.initialRevision.gcbTriggerLocator.name))("gcbTriggerLocator",null==a.initialRevision?null:a.initialRevision.gcbTriggerLocator)("isContainerSampleTestButtonEnabled",
!1)("demoContainer",a.demoContainer)("howToDocHref","CONSOLE__RUN_BUILD_DEPLOY_QUICKSTART"))};Gmi=function(a){a&1&&_.Lf(0)};Hmi=function(a){a&1&&_.Lf(0)};Imi=function(a){a&1&&_.Lf(0)};Jmi=function(a){a&1&&_.Lf(0)};Kmi=function(a){a&1&&_.Lf(0)};Lmi=function(a){a&1&&_.Lf(0)};Mmi=function(a){a&1&&_.Lf(0)};Nmi=function(a){a&1&&_.Lf(0)};Omi=function(a){a&1&&_.Lf(0)};Pmi=function(a){a&1&&_.Lf(0)};Qmi=function(a){a&1&&_.Lf(0)};Rmi=function(a){a&1&&_.Lf(0)};Smi=function(a){a&1&&_.Lf(0)};
Tmi=function(a){a&1&&_.Lf(0)};Umi=function(a){a&1&&_.Lf(0)};
Vmi=function(a){a&1&&(_.J(0,"cfc-tab-error",49),_.E(1,Dmi,2,1,"ng-container",56),_.G(2,"span",51),_.N(3,26),_.I(),_.E(4,Emi,3,0,"cfc-message",57)(5,Fmi,1,6,"container-input",58)(6,Gmi,1,0,"ng-container",52)(7,Hmi,1,0,"ng-container",52)(8,Imi,1,0,"ng-container",52)(9,Jmi,1,0,"ng-container",52)(10,Kmi,1,0,"ng-container",52),_.G(11,"span",51),_.N(12,27),_.I(),_.E(13,Lmi,1,0,"ng-container",52)(14,Mmi,1,0,"ng-container",52)(15,Nmi,1,0,"ng-container",52)(16,Omi,1,0,"ng-container",52)(17,Pmi,1,0,"ng-container",
52)(18,Qmi,1,0,"ng-container",52)(19,Rmi,1,0,"ng-container",52)(20,Smi,1,0,"ng-container",52)(21,Tmi,1,0,"ng-container",52)(22,Umi,1,0,"ng-container",52));if(a&2){const b=_.P(2),c=_.ag(14),d=_.ag(16),e=_.ag(18),f=_.ag(20),g=_.ag(22),l=_.ag(24),p=_.ag(26),r=_.ag(28),t=_.ag(30),v=_.ag(46),x=_.ag(48),C=_.ag(50),D=_.ag(52),H=_.ag(54),T=_.ag(56);let da;a=(null==(da=b.sandboxMemoryAndCpuValidator)?0:da.call(b,b.form))?!1:b.areControlsValid("autoscaling memoryAndCpu concurrency timeoutSeconds containerPort containerCommands containerArgs envVars secrets sqlInstances".split(" "));
_.F("forceShowErrorIcon",!a);_.z();_.F("ngIf",b.cloudRunMulticontainerMvpCreateServiceBannerEnabled);_.z(3);_.F("ngIf",b.shouldDisplayMulticontainersMessage);_.z();_.F("ngIf",b.isDeployRevisionMode);_.z();_.F("ngTemplateOutlet",c);_.z();_.F("ngTemplateOutlet",d);_.z();_.F("ngTemplateOutlet",e);_.z();_.F("ngTemplateOutlet",f);_.z();_.F("ngTemplateOutlet",g);_.z(3);_.F("ngTemplateOutlet",l);_.z();_.F("ngTemplateOutlet",p);_.z();_.F("ngTemplateOutlet",t);_.z();_.F("ngTemplateOutlet",r);_.z();_.F("ngTemplateOutlet",
v);_.z();_.F("ngTemplateOutlet",x);_.z();_.F("ngTemplateOutlet",D);_.z();_.F("ngTemplateOutlet",H);_.z();_.F("ngTemplateOutlet",C);_.z();_.F("ngTemplateOutlet",T)}};Wmi=function(a){if(a&1){const b=_.n();_.G(0,"mat-tab",55);_.E(1,Vmi,23,19,"ng-template",46);_.S(2,"nonNullAsync");_.O("lazyTabInit",function(){_.q(b);const c=_.P();return _.u(vmi(c))});_.I()}a&2&&(a=_.P(),_.z(),_.F("lazyTab",_.U(2,2,a.forceLazyTabInit$))("lazyTabPreloadTimeout",a.lazyTabPreloadTimeout))};Xmi=function(a){a&1&&_.Lf(0)};
Ymi=function(a){a&1&&_.Lf(0)};Zmi=function(a){a&1&&_.Lf(0)};
$mi=function(a){a&1&&(_.J(0,"cfc-tab-error",49),_.G(1,"mat-hint",65),_.Of(2,31),_.J(3,"a",66),_.Pf(),_.I(),_.E(4,Xmi,1,0,"ng-container",52)(5,Ymi,1,0,"ng-container",52)(6,Zmi,1,0,"ng-container",52));if(a&2){a=_.P();const b=_.ag(34),c=_.ag(42),d=_.ag(44);_.F("forceShowErrorIcon",!a.areControlsValid(["vpcSettings"]));_.z(3);_.F("cfcDocLink",a.CONSOLE__RUN_DOCS_USING_GCP_SERVICES_CONNECTING_TO_SERVICES_IN_CODE);_.z();_.F("ngTemplateOutlet",c);_.z();_.F("ngTemplateOutlet",d);_.z();_.F("ngTemplateOutlet",
b)}};ani=function(a){a&1&&_.Lf(0)};bni=function(a){a&1&&_.Lf(0)};cni=function(a){a&1&&_.Lf(0)};dni=function(a){a&1&&_.Lf(0)};
eni=function(a){a&1&&(_.J(0,"cfc-tab-error",49)(1,"div",67),_.E(2,ani,1,0,"ng-container",52)(3,bni,1,0,"ng-container",52)(4,cni,1,0,"ng-container",52)(5,dni,1,0,"ng-container",52));if(a&2){a=_.P();const b=_.ag(32),c=_.ag(36),d=_.ag(38),e=_.ag(40);_.F("forceShowErrorIcon",!a.isSecurityTabValid());_.z(2);_.F("ngTemplateOutlet",b);_.z();_.F("ngTemplateOutlet",c);_.z();_.F("ngTemplateOutlet",d);_.z();_.F("ngTemplateOutlet",e)}};
fni=function(a){if(a&1){const b=_.n();_.G(0,"container-port-input",68);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.onContainerPortFormReady(c))});_.I()}a&2&&(a=_.P(),_.F("initialContainerPort",null==a.initialRevision?null:a.initialRevision.containerPort))};
gni=function(a){if(a&1){const b=_.n();_.G(0,"container-commands-input",69);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("containerCommands",c))});_.I()}a&2&&(a=_.P(),_.F("initialContainerCommands",null==a.initialRevision?null:a.initialRevision.containerCommands))};
hni=function(a){if(a&1){const b=_.n();_.G(0,"container-args-input",70);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("containerArgs",c))});_.I()}a&2&&(a=_.P(),_.F("initialContainerArgs",null==a.initialRevision?null:a.initialRevision.containerArgs))};
ini=function(a){if(a&1){const b=_.n();_.G(0,"startup-cpu-boost-checkbox",71);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("startupCpuBoost",c))});_.I()}a&2&&(a=_.P(),_.F("initialStartupCpuBoostEnabled",null==a.initialRevision?null:a.initialRevision.startupCpuBoost))};
jni=function(a){if(a&1){const b=_.n();_.G(0,"cpu-allocation-and-pricing",73);_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(d.onCpuAllocationAndPricingFormReady(c))});_.I()}a&2&&(a=_.P(2),_.F("initialCpuThrottling",null==a.initialRevision?null:a.initialRevision.cpuThrottling))};kni=function(a){a&1&&_.E(0,jni,1,1,"cpu-allocation-and-pricing",72);a&2&&(a=_.P(),_.F("ngIf",a.isDeployRevisionMode))};
lni=function(a,b){a&1&&(_.G(0,"cfc-form-error",75),_.Of(1,32),_.J(2,"br"),_.Pf(),_.I());a&2&&(a=b.ngIf,b=_.P(2),_.F("control",b.form),_.z(2),_.Qf(a.value/1E3)(a.threshold/1E3),_.Rf(1))};mni=function(a){a&1&&(_.K(0),_.N(1,34),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold/1E3),_.Rf(1))};nni=function(a){a&1&&(_.K(0),_.N(1,35),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold/1E3),_.Rf(1))};
oni=function(a,b){a&1&&(_.G(0,"cfc-form-error",75),_.K(1),_.N(2,33),_.L(),_.J(3,"br"),_.E(4,mni,2,1,"ng-container",56)(5,nni,2,1,"ng-container",56),_.I());a&2&&(a=b.ngIf,b=_.P(2),_.F("control",b.form),_.z(2),_.Qf(a.value/1E3),_.Rf(2),_.z(2),_.F("ngIf","gen2"===a.reason),_.z(),_.F("ngIf","alwaysOn"===a.reason))};pni=function(a){a&1&&(_.K(0),_.N(1,37),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold),_.Rf(1))};
qni=function(a){a&1&&(_.K(0),_.N(1,38),_.L());a&2&&(a=_.P().ngIf,_.z(),_.Qf(a.threshold),_.Rf(1))};rni=function(a,b){a&1&&(_.G(0,"cfc-form-error",75),_.K(1),_.N(2,36),_.L(),_.J(3,"br"),_.E(4,pni,2,1,"ng-container",56)(5,qni,2,1,"ng-container",56),_.I());a&2&&(a=b.ngIf,b=_.P(2),_.F("control",b.form),_.z(2),_.Qf(a.value),_.Rf(2),_.z(2),_.F("ngIf","gen2"===a.reason),_.z(),_.F("ngIf","alwaysOn"===a.reason))};
sni=function(a){a&1&&_.E(0,lni,3,3,"cfc-form-error",74)(1,oni,6,4,"cfc-form-error",74)(2,rni,6,4,"cfc-form-error",74);a&2&&(a=_.P(),_.F("ngIf",a.form.getError("sandbox-cpus-exceeded")),_.z(),_.F("ngIf",a.form.getError("sandbox-cpus-too-low")),_.z(),_.F("ngIf",a.form.getError("sandbox-memory-too-low")))};
tni=function(a){if(a&1){const b=_.n();_.G(0,"div")(1,"memory-cpu-input",76);_.S(2,"nonNullAsync");_.S(3,"nonNullAsync");_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.onMemoryCpuInputFormReady(c))});_.I()()}a&2&&(a=_.P(),_.z(),_.F("initialMemoryMib",null==a.initialRevision?null:a.initialRevision.memoryMib)("initialMemory",null==a.initialRevision?null:a.initialRevision.memory)("initialCpuMillis",null==a.initialRevision?null:a.initialRevision.maxCpuMillis)("cpuThrottling",_.U(2,6,a.cpuThrottling$))("executionEnvironment",
_.U(3,8,a.executionEnvironment$))("isMulticontainer",a.isMulticontainer))};uni=function(a){if(a&1){const b=_.n();_.G(0,"container-concurrency-input",77);_.S(1,"nonNullAsync");_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("concurrency",c))});_.I()}a&2&&(a=_.P(),_.F("initialContainerConcurrency",null==a.initialRevision?null:a.initialRevision.concurrency)("cpu",_.U(1,3,a.cpu$))("isMulticontainer",a.isMulticontainer))};
vni=function(a){if(a&1){const b=_.n();_.G(0,"request-timeout-input",78);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("timeoutSeconds",c))});_.I()}a&2&&(a=_.P(),_.F("showTriggersRequestTimeoutWarning",a.isDeployRevisionMode)("initialTimeoutSeconds",null==a.initialRevision?null:a.initialRevision.timeoutSeconds))};
wni=function(a){if(a&1){const b=_.n();_.G(0,"service-account-picker",79,23);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.onServiceAccountPickerFormReady(c))});_.I()}a&2&&(a=_.P(),_.F("initialServiceAccount",a.initialServiceAccount)("serviceAccounts",a.serviceAccounts)("newNamePlaceholder",a.serviceName))};
xni=function(a){if(a&1){const b=_.n();_.G(0,"vpc-settings",80);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("vpcSettings",c))});_.I()}a&2&&(a=_.P(),_.F("initialVpcSettings",null==a.initialRevision?null:a.initialRevision.vpcSettings)("targetRegion",a.targetRegion))};
yni=function(a){if(a&1){const b=_.n();_.K(0);_.G(1,"binauthz",81);_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(d.form.setControl("binauthz",c))});_.I();_.L()}a&2&&(a=_.P(2),_.z(),_.F("initialBinAuthzPolicy",a.initialBinAuthzPolicy))};zni=function(a){a&1&&_.E(0,yni,2,1,"ng-container",56);a&2&&(a=_.P(),_.F("ngIf",a.isCreateServiceMode))};
Ani=function(a){if(a&1){const b=_.n();_.G(0,"cmek-picker",82);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("cmek",c))});_.I()}a&2&&(a=_.P(),_.F("targetRegion",a.targetRegion)("initialEncryptionKeySettings",null==a.initialRevision?null:a.initialRevision.encryptionKeySettings)("showPostKeyRevocationAction",!0))};
Bni=function(a){if(a&1){const b=_.n();_.G(0,"div")(1,"confidential-computing-checkbox",83);_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(d.form.setControl("confidentialComputing",c))});_.I()()}a&2&&(a=_.P(2),_.z(),_.F("targetRegion",a.targetRegion)("initialConfidentialComputing",null==a.initialRevision?null:a.initialRevision.confidentialComputing))};Cni=function(a){a&1&&_.E(0,Bni,2,2,"div",56);a&2&&(a=_.P(),_.F("ngIf",a.confidentialComputingEnabled))};
Dni=function(a){if(a&1){const b=_.n();_.G(0,"div",84)(1,"http2-checkbox",85);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("http2Enabled",c))});_.I()()}a&2&&(a=_.P(),_.z(),_.F("initialHttp2Enabled",null==a.initialRevision?null:a.initialRevision.http2ConnectionsEnabled))};
Eni=function(a){if(a&1){const b=_.n();_.G(0,"session-affinity-checkbox",86);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("sessionAffinityEnabled",c))});_.I()}a&2&&(a=_.P(),_.F("initialSessionAffinityEnabled",null==a.initialRevision?null:a.initialRevision.sessionAffinityEnabled))};
Gni=function(a){if(a&1){const b=_.n();_.G(0,"execution-environment-picker",87);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(Fni(d,c))});_.I()}a&2&&(a=_.P(),_.F("initialExecutionEnvironment",null==a.initialRevision?null:a.initialRevision.executionEnvironment))};
Hni=function(a){if(a&1){const b=_.n();_.G(0,"autoscaling",89);_.S(1,"nonNullAsync");_.S(2,"nonNullAsync");_.O("formReady",function(c){_.q(b);const d=_.P(2);return _.u(d.form.setControl("autoscaling",c))});_.I()}a&2&&(a=_.P(2),_.F("initialMinScale",null==a.initialRevision?null:a.initialRevision.autoscaleMinScale)("initialMaxScale",null==a.initialRevision?null:a.initialRevision.autoscaleMaxScale)("memory",_.U(1,5,a.memory$))("cpu",_.U(2,7,a.cpu$))("quotaLimit",a.maxInstancesQuotaLimit||void 0))};
Ini=function(a){a&1&&_.E(0,Hni,3,9,"autoscaling",88);a&2&&(a=_.P(),_.F("ngIf",a.isDeployRevisionMode||a.serviceCreationMinInstancesConfigEnabled))};
Jni=function(a){if(a&1){const b=_.n();_.G(0,"health-checks",90);_.S(1,"nonNullAsync");_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("healthChecks",c))});_.I()}a&2&&(a=_.P(),_.F("showButtonControls",!0)("initialHealthChecks",null==a.initialRevision?null:a.initialRevision.healthCheckProbes)("containerPort",_.U(1,4,a.containerPort$))("isCreateServiceMode",a.isCreateServiceMode))};
Kni=function(a){if(a&1){const b=_.n();_.G(0,"env-var-form",91);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.onEnvVarFormReady(c))});_.I()}a&2&&(a=_.P(),_.F("initialEnvVars",null==a.initialRevision?null:a.initialRevision.envVar))};
Lni=function(a){if(a&1){const b=_.n();_.K(0);_.G(1,"s8s-config-form-list",92,24);_.S(3,"nonNullAsync");_.S(4,"nonNullAsync");_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("secrets",c))});_.I();_.L()}a&2&&(a=_.P(),_.z(),_.F("initialAttachedConfigs",null==a.initialRevision?null:a.initialRevision.attachedSecrets)("serviceAccount",_.U(3,4,a.serviceAccount$))("envVars",_.U(4,6,a.envVars$))("apiName",a.cloudRunApiName))};
Mni=function(a){if(a&1){const b=_.n();_.G(0,"sql-stack",93);_.O("formReady",function(c){_.q(b);const d=_.P();return _.u(d.form.setControl("sqlInstances",c))});_.I()}a&2&&(a=_.P(),_.F("sqlInstancesFromProject",a.sqlInstancesFromProject)("initialSqlInstances",null==a.initialRevision?null:a.initialRevision.previousSqlInstances))};
_.ymi=function(a){let b;return null!=(b=a.map(c=>{let d;return Object.assign({},c,{typeSpecificDetails:null!=(d=c.typeSpecificDetails)?d:"typespecificdetailsNotSet"})}))?b:[]};Nni=function(a){return a?_.L6(a):_.C6};
_.Oni=function(a){var b=(b=a.controls.containerImage)?b.value.trim():"";var c=(c=a.controls.containerPort)?Number(c.value):8080;var d=(d=a.controls.containerCommands)?d.value:_.bc(_.ebi);var e=(e=a.controls.containerArgs)?e.value:_.bc(_.I0h);var f=(f=a.controls.containers)?Eli(f):_.bc(_.Oji);var g=a.controls.cpuThrottling?_.jli(a.controls.cpuThrottling):_.Jji,l=Nni(a.controls.memoryAndCpu).memory,p=Nni(a.controls.memoryAndCpu).cpuMillis,r=Number(a.controls.timeoutSeconds.value);const t=Number(a.controls.concurrency.value);
Number.isNaN(t);var v=a.controls.executionEnvironment.value,x=a.controls.autoscaling?_.ili(a.controls.autoscaling):_.Iji;var C=(C=a.controls.envVars)?_.Yci(C):_.bc(_.P0h);var D=(D=a.controls.secrets)?_.eei(D):_.bc(_.cbi);var H=a.controls.http2Enabled.value,T=_.Vei(a.controls.sqlInstances),da=_.Cei(a.controls.vpcSettings),Z=a.controls.serviceAccount.value,X=a.controls.binauthz?_.hfi(a.controls.binauthz):"",qa=_.mei(a.controls.cmek);var Da=_.zc(_.q0h)?a.controls.confidentialComputing.value:!1;var Ha=
(Ha=a.controls.healthChecks)?lki(Ha):_.oji;var Na=a.controls.sessionAffinityEnabled.value,tb=a.controls.startupCpuBoost.value;a=(a=a.controls.volumes)?jmi(a):_.bc(_.bki);return{containerImage:b,containerPort:c,containerCommands:d,containerArgs:e,containers:f,cpuThrottling:g,memory:l,cpuMillis:p,timeoutSeconds:r,containerConcurrency:t,executionEnvironment:v,autoscaling:x,envVars:C,secrets:D,http2Enabled:H,sqlInstances:T,vpcSettings:da,serviceAccount:Z,binAuthzPolicy:X,cmek:qa,confidentialComputing:Da,
sessionAffinityEnabled:Na,startupCpuBoost:tb,healthChecks:Ha,volumes:a,runtime:""}};
Pni=function(a){if(a&1){const b=_.n();_.G(0,"div")(1,"p");_.Of(2,1);_.J(3,"a",10);_.Pf();_.I();_.G(4,"pre",11);_.Q(5);_.I();_.G(6,"div",12)(7,"button",13);_.O("click",function(){_.q(b);const c=_.P();return _.u(c.executeInDevShell(c.command))});_.N(8,2);_.I()()()}a&2&&(a=_.P(),_.z(3),_.F("cfcDocLink",a.dl.CONSOLE__RUN_DOCS_DEPLOYING_COMMAND_LINE),_.Qf(a.description),_.Rf(2),_.z(2),_.R("      ",a.command,"\n    "),_.z(2),_.F("ve",a.ve.ServerlessRunEquivalentCommandLineButton)("veClick",!0))};
Rni=function(a){return Math.max(0,...Qni.filter(b=>b.isUsed(a)).map(b=>b.launchStage))};
_.eoi=function(a){var b=_.zc(_.fbi)?a.currentRevision.containers[0].image:a.currentRevision.containerImage,c=a.serviceName,d=a.region,e=a.project,f=a.additionalParam;var g=Rni(a.initialRevision);var l=Rni(a.currentRevision);g=Math.max(g,l);l=a.initialServeImmediately;const p=a.currentServeImmediately;var r=a.initialRevision;const t=a.currentRevision;var v,x=Object,C=x.assign,D=Sni(a),H=Tni(r.serviceAccount,t.serviceAccount),T=c7(r.containerConcurrency,t.containerConcurrency),da=c7(r.timeoutSeconds,
t.timeoutSeconds),Z=c7(r.autoscaling.minScale,t.autoscaling.minScale),X=c7(r.autoscaling.maxScale,t.autoscaling.maxScale),qa=Uni(r.sqlInstances,t.sqlInstances),Da=Vni(Wni(r.vpcSettings),Wni(t.vpcSettings)),Ha=Vni(Xni(r.vpcSettings),Xni(t.vpcSettings)),Na=Tni(Yni(r.vpcSettings),Yni(t.vpcSettings)),tb=null==(v=Vni(Zni(r.vpcSettings),Zni(t.vpcSettings)))?void 0:v.join(",");v=Tni($ni(r.vpcSettings),$ni(t.vpcSettings));var aa=aoi(r.http2Enabled,t.http2Enabled);var sa=(sa=t.cmek.postKeyRevocationAction)?
"SHUT_DOWN"===sa?"shut-down":"prevent-new":void 0;var ua=t.binAuthzPolicy,ta=t.cmek.key,wa=_.zc(_.q0h)&&t.confidentialComputing,Oa=aoi(!r.cpuThrottling.isDisabled,!t.cpuThrottling.isDisabled),bb=t.executionEnvironment,Qa=aoi(r.sessionAffinityEnabled,t.sessionAffinityEnabled);r=aoi(r.startupCpuBoost,t.startupCpuBoost);a=a.ingress;a=C.call(x,{},D,{serviceAccount:H,concurrency:T,timeout:da,minInstances:Z,maxInstances:X,cloudSqlInstances:qa,vpcConnector:Da,network:Ha,subnet:Na,networkTags:tb,vpcEgress:v,
additionalOptions:"",serveRevisionImmediately:p,noTraffic:l!==p&&!p,http2Enabled:aa,binAuthzPolicy:ua,cmek:ta,postKeyRevocationAction:sa,confidentialComputing:wa,cpuThrottling:Oa,executionEnvironment:bb,sessionAffinityEnabled:Qa,startupCpuBoost:r,ingress:Tni(boi(null==a?void 0:a.initial),boi(null==a?void 0:a.current))});a:switch(g){case 2:g="alpha";break a;case 1:g="beta";break a;default:g=""}b=coi([coi(["gcloud",g,"run","deploy",c.trim()]," "),`--image=${b.trim()}`,f]," \\\n");return coi([b,doi(a),
coi([`--region=${d}`,`--project=${e.trim()}`]," \\\n"),a.serveRevisionImmediately?` && gcloud run services update-traffic ${c} --to-latest`:""]," \\\n")};
Sni=function(a){const b=a.initialRevision;a=a.currentRevision;const c=d=>(d/1E3).toString();if(_.zc(_.fbi)){const d=0<b.containers.length?b.containers[0]:_.Gji,e=a.containers[0];return{port:c7(d.port,e.port),command:Uni(d.commands,e.commands),args:Uni(d.args,e.args),cpu:c7(d.limits.cpuMillis,e.limits.cpuMillis,c),memory:Tni(d.limits.memory,e.limits.memory),envVars:foi(d.envVars,e.envVars),secrets:goi(hoi(d.envVars),b.volumes,d.volumeMounts,hoi(e.envVars),a.volumes,e.volumeMounts)}}return{port:c7(b.containerPort,
a.containerPort),command:Uni(b.containerCommands,a.containerCommands),args:Uni(b.containerArgs,a.containerArgs),cpu:c7(b.cpuMillis,a.cpuMillis,c),memory:Tni(b.memory,a.memory),envVars:ioi(b.envVars,a.envVars),secrets:joi(b.secrets,a.secrets)}};Wni=function(a){return"VPC_CONNECTOR"===a.type?a.connector:""};Xni=function(a){let b,c;return null!=(c=null==(b=koi(a))?void 0:b.network)?c:""};Yni=function(a){let b,c;return null!=(c=null==(b=koi(a))?void 0:b.subnetwork)?c:""};
Zni=function(a){let b,c;return null!=(c=null==(b=koi(a))?void 0:b.tags)?c:[]};koi=function(a){return"DIRECT_VPC"===a.type?a.directVpc[0]:void 0};$ni=function(a){return"NONE"!==a.type?a.accessEgress:""};
doi=function(a){const b=a.port?`--port=${a.port}`:"",c=a.command?`--command=${a.command.trim()}`:"",d=a.args?`--args=${a.args.trim()}`:"",e=""!==a.serviceAccount?`--service-account=${a.serviceAccount}`:"",f=""!==a.concurrency?`--concurrency=${a.concurrency}`:"",g=""!==a.timeout?`--timeout=${a.timeout}`:"",l=""!==a.cpu?`--cpu=${a.cpu}`:"",p=""!==a.memory?`--memory=${a.memory}`:"",r=""!==a.minInstances?`--min-instances=${a.minInstances}`:"",t=""!==a.maxInstances?`--max-instances=${a.maxInstances}`:
"",v=a.envVars.map(x=>`--set-env-vars=${x}`).join("");return coi([b,c,d,e,f,g,l,p,r,t,v,""!==a.cloudSqlInstances?`--set-cloudsql-instances=${a.cloudSqlInstances}`:"",void 0!==a.vpcConnector?""!==a.vpcConnector?`--vpc-connector=${a.vpcConnector}`:"--clear-vpc-connector":"",void 0!==a.network?""!==a.network?`--network=${a.network}`:"--clear-network":"",a.subnet?`--subnet=${a.subnet}`:"",void 0!==a.networkTags&&""!==a.network?""!==a.networkTags?`--network-tags=${a.networkTags}`:"--clear-network-tags":
"",a.vpcEgress?`--vpc-egress=${a.vpcEgress}`:"",""!==a.secrets?`--set-secrets=${a.secrets}`:"",""!==a.additionalOptions?a.additionalOptions:"",a.noTraffic?"--no-traffic":"",void 0===a.http2Enabled?"":a.http2Enabled?"--use-http2":"--no-use-http2",void 0===a.sessionAffinityEnabled?"":a.sessionAffinityEnabled?"--session-affinity":"--no-session-affinity",a.binAuthzPolicy?`--binary-authorization ${a.binAuthzPolicy}`:"",void 0!==a.cmek?`--key=${a.cmek}`:"",void 0!==a.postKeyRevocationAction?`--post-key-revocation-action-type=${a.postKeyRevocationAction}`:
"",a.confidentialComputing?"--confidential":"",void 0===a.cpuThrottling?"":a.cpuThrottling?"--cpu-throttling":"--no-cpu-throttling",a.executionEnvironment?`--execution-environment=${a.executionEnvironment}`:"",void 0===a.startupCpuBoost?"":a.startupCpuBoost?"--cpu-boost":"--no-cpu-boost",a.ingress?`--ingress=${a.ingress}`:""]," \\\n")};coi=function(a,b){return a.filter(c=>!!c).join(b)};loi=function(a){return",\\'\" $<>&|!;`{}()[]?~#*/".split("").some(b=>a.includes(b))};
moi=function(a,b){if(loi(b)){a=a+"="+b.replace(/'/g,"'\\''");if(a.includes(",")){a:{b=["#","@","%"];for(let d=1;d<a.length;d++)for(c of b){const e=c.repeat(d);if(!a.includes(e)){var c=e;break a}}c=""}c="^"+c+"^"+a}else c=a;c=`'${c}'`}else c=a+"="+b;return c};noi=function(a){if(0===a.length)return[];const b=a.map(c=>moi(c.name,c.value));return a.some(c=>loi(c.value))?b:[b.join(",")]};
ooi=function(a){if(0===a.length)return[];const b=a.filter(c=>!!c.regularEnvVar).map(c=>moi(c.regularEnvVar.key,c.regularEnvVar.value));return a.some(c=>!!c.regularEnvVar&&loi(c.regularEnvVar.value))?b:[b.join(",")]};hoi=function(a){return a.filter(b=>!!b.secretEnvVar)};roi=function(a){return a.map(b=>b.envVarRef?poi(b):qoi(b)).join(",")};soi=function(a,b){return b.secretVolume.secretVersions.map(c=>`${a.mountPath}/${c.path}=`+`${b.secretVolume.secretName}:${c.version}`)};
toi=function(a,b,c){a=a.filter(d=>!!d.secretEnvVar).map(d=>{d=d.secretEnvVar;return`${d.key}=${d.secretName}:${d.secretVersion}`});c=c.flatMap(d=>b.filter(e=>e.volumeId===d.id).flatMap(e=>soi(e,d)));return[...a,...c].join()};poi=function(a){return a.envVarRef.references.map(b=>`${b.name}=${a.name}:${b.key}`).join(",")};qoi=function(a){const b=a.volumeRef;return b.keys.map(c=>`${b.mountPath}/${c.path}=${a.name}:${c.key}`).join(",")};aoi=function(a,b,c=d=>d){return a===b?void 0:c(b)};
c7=function(a,b,c=d=>d.toString()){return a===b?"":c(b)};Tni=function(a,b){return a===b?"":b};Vni=function(a,b){return _.jv(a,b)?void 0:b};Uni=function(a,b){return _.jv(a,b)?"":b.join(",")};joi=function(a,b){return _.jv(a,b)?"":roi(b)};goi=function(a,b,c,d,e,f){return _.jv([a,b,c],[d,e,f])?"":toi(d,f,e.filter(g=>!!g.secretVolume))};ioi=function(a,b){return _.jv(a,b)?[]:noi(b)};foi=function(a,b){return _.jv(a,b)?[]:ooi(b)};
boi=function(a){switch(a){case "INTERNAL_AND_CLOUD_LOAD_BALANCING":return"internal-and-cloud-load-balancing";case "INTERNAL":return"internal";case "ALL":return"all";default:return""}};uoi={type:1,path:"/run/docs/deploying#command-line"};voi={type:1,path:"/run/docs/reference/yaml/v1"};woi={type:1,path:"/run/docs/using-gcp-services#connecting_to_services_in_code"};xoi={inMemoryVolume:"inMemoryVolume",secretVolume:"secretVolume",otherVolume:"otherVolume",gcsVolume:"gcsVolume",nfsVolume:"nfsVolume",typespecificdetailsNotSet:"typespecificdetailsNotSet"};
yoi=class{set volume(a){this.secretName=a.secretName;this.versionsTableRows=a.secretVersions.map(b=>({name:a.secretName,version:b.version,subpath:b.path}))}constructor(a){this.revisionFormTabSwitchService=a;this.secretName="";this.versionsTableRows=[];this.columnsConfig=[{id:"name",accessor:b=>({name:b.name,version:b.version})},{id:"path",accessor:b=>`/${this.mountPath}/${b.subpath}`}]}};yoi.\u0275fac=function(a){return new (a||yoi)(_.A(_.$6))};
yoi.\u0275cmp=_.m({type:yoi,selectors:[["secret-volume-mount-hint"]],inputs:{mountPath:"mountPath",volume:"volume"},decls:2,vars:2,consts:()=>[" Selected volume has no secret version configured. \ufffd#3\ufffdGo to Volumes tab\ufffd/#3\ufffd to specify which versions should be mounted. "," The following secret versions will be mounted: "," Mount path is not specified. Set the mount path. "," Mount path to this version is not specified. Set the mount path to this version in the Volumes tab. ",[4,"ngIf"],
["data-test-id","secret-volume-mount-hint-no-versions"],["cfcSemanticButton","",3,"click"],["ariaLabel","Table containing container volume mounts.",1,"cfc-space-above-minus-4","cfc-prefix",3,"items","columnsConfig","tableRendererV2"],"id name header Name overflowMechanism never".split(" "),["cfcTableTemplate","body"],"id;path;header;Mount path;overflowMechanism;never".split(";"),["role","img","aria-label","Mount path input is empty"],["ariaLabel","Help with mount path field if mount path input is empty. It is not possible\n                       to calculate full mount path.",
4,"ngIf"],["ariaLabel","Help with mount path field if mount path in the secret\n                       volume for this specific version is empty",4,"ngIf"],["ariaLabel","Help with mount path field if mount path input is empty. It is not possible\n                       to calculate full mount path."],["ariaLabel","Help with mount path field if mount path in the secret\n                       volume for this specific version is empty"]],template:function(a,b){a&1&&_.E(0,qki,4,0,"ng-container",4)(1,
xki,8,3,"ng-container",4);a&2&&(_.F("ngIf",0===b.versionsTableRows.length),_.z(),_.F("ngIf",0<b.versionsTableRows.length))},dependencies:[_.Bl,_.bA,_.H0,_.tB,_.NB,_.sB],encapsulation:2,changeDetection:0});
var zoi=function(a,b,c="",d=!1){return a.formBuilder.group({volumeId:[b,_.fu],mountPath:[a.trimPath(c),[_.fu,_.Ht(_.vji)]],readOnly:d})},Aoi=function(a){var b,c;a.volumesOptionsMap=new Map(null!=(c=null==(b=a.volumes)?void 0:b.map((l,p)=>{var r=l.id;p=l.name||_.Jy("Volume {volumeIndex}",{volumeIndex:p+1});let t="";if(null==l?0:l.inMemoryVolume)t="In-Memory";else if(null==l?0:l.secretVolume)t="Secret";l=t?_.Jy("{name} ({volumeType})",{name:p,volumeType:t}):p;return[r,l]}))?c:[]);let d;a.volumesMap=
new Map(null==(d=a.volumes)?void 0:d.map(l=>[l.id,l]));let e=!1;const f=[];let g=0;a.detachedMounts.forEach(l=>{a.volumesOptionsMap.has(l.controls.volumeId.value)?(a.form.controls.mounts.insert(g,l,{emitEvent:!1}),g+=1,e=!0):f.push(l)});for(b=0;b<a.form.controls.mounts.controls.length;)c=a.form.controls.mounts.controls[b],c.controls.volumeId.value&&!a.volumesOptionsMap.has(c.controls.volumeId.value)?(a.form.controls.mounts.removeAt(b,{emitEvent:!1}),e=!0,f.push(c)):b+=1;a.detachedMounts=f;e&&a.form.controls.mounts.updateValueAndValidity()},
Boi=class extends _.W5{constructor(a,b){super(b);this.revisionFormTabSwitchService=a;this.form=this.formBuilder.group({mounts:this.formBuilder.array([])});this.volumesOptionsMap=new Map;this.volumesMap=new Map;this.detachedMounts=[]}initForm(){if(this.initialVolumeMounts){for(const a of this.initialVolumeMounts)this.form.controls.mounts.push(zoi(this,a.volumeId,a.mountPath,a.readOnly));Aoi(this)}}ngOnChanges(a){"volumes"in a&&Aoi(this)}get noExistingVolumes(){let a,b;return!(null!=(b=null==(a=this.volumes)?
void 0:a.length)&&b)}trimPath(a=""){return a.startsWith("/")?a.substring(1):a}};Boi.\u0275fac=function(a){return new (a||Boi)(_.A(_.$6),_.A(_.Fu))};
Boi.\u0275cmp=_.m({type:Boi,selectors:[["volume-mounts-form"]],inputs:{initialVolumeMounts:"initialVolumeMounts",volumes:"volumes"},features:[_.Bf,_.od],decls:7,vars:5,consts:()=>[" Mount In-memory File Systems and Secrets. "," Volume is required. "," Mount path is required. "," Mount path must be a valid unix absolute path. "," No existing volumes. Navigate to the 'Volumes' tab to create a volume. "," Go to Volumes tab ",["bindParentFormSubmitEvent","",3,"formGroup"],["formArrayName","mounts","addButtonMessage",
"Mount volume","addDisabledTooltipMessage","No existing volumes",1,"cfc-space-above-base","cfc-space-below-minus-4","cfc-form-stack-compact-mode",3,"onRowAdditionRequested","addDisabled"],["stackTitle","Mounted volumes",3,"titleHeadingVisualLevel"],["itemLabel","Volume Mount","bindParentFormSubmitEvent","",3,"formGroup",4,"ngFor","ngForOf"],[4,"ngIf"],["itemLabel","Volume Mount","bindParentFormSubmitEvent","",3,"formGroup"],[3,"disableResizing"],["refreshOnSubmit",""],[3,"formControl","isRequired"],
[3,"value",4,"ngFor","ngForOf"],["label","Name"],["matError","",4,"cfcDebounceErrorFor"],["label","Mount path"],["matInput","",3,"formControl"],["matPrefix",""],[3,"value"],["matError",""],[3,"mountPath","volume"],[1,"cfc-space-above-base"],["mat-button","","type","button","color","primary",3,"click"]],template:function(a,b){a&1&&(_.K(0,6),_.G(1,"cfc-form-stack",7),_.O("onRowAdditionRequested",function(){b.form.controls.mounts.push(zoi(b))}),_.J(2,"cfc-form-stack-title",8),_.G(3,"cfc-form-stack-description"),
_.N(4,0),_.I(),_.E(5,Dki,19,12,"cfc-form-stack-row",9),_.I(),_.E(6,Eki,7,0,"ng-container",10),_.L());a&2&&(_.F("formGroup",b.form),_.z(),_.F("addDisabled",b.noExistingVolumes),_.z(),_.F("titleHeadingVisualLevel",5),_.z(3),_.F("ngForOf",b.form.controls.mounts.controls),_.z(),_.F("ngIf",b.noExistingVolumes))},dependencies:[_.dt,_.Qu,_.Lp,_.Pu,_.oy,_.OD,_.py,_.iy,_.hy,_.gy,_.ND,_.DC,_.wy,_.xy,_.uy,_.Al,_.Bl,_.PD,_.u6,_.v6,_.KE,_.VE,_.LE,_.GE,_.HE,_.IE,_.hV,_.Vo,_.Lu,_.Wo,_.Lt,_.ly,_.Ky,_.qu,_.ru,_.tu,
yoi,_.az,_.$y,_.Xt,_.fz,_.ev],encapsulation:2,changeDetection:0});
var Eoi=function(a){var b=new Set(Coi(a));for(const [f,g]of a.containersDetails){var c=f,d=g;if(d.isDeleted||!d.image)Doi(a,c,"");else if(d.userProvidedName||d.initialName)Doi(a,c,d.userProvidedName||d.initialName);else{a:{d=_.qdi(d.image);if(!d){d="";break a}var e=1;let l=`${d}-${e}`;for(;b.has(l);)e+=1,l=`${d}-${e}`;d=l}d&&b.add(d);Doi(a,c,d)}}b=new Map;for(const [f,g]of a.containersDetails)c=f,d=g,e=d.userProvidedName||d.initialName||d.autogeneratedName,!d.isDeleted&&e&&b.set(c,e);a:if(c=a.namesSubject.value,
b.size!==c.size)c=!1;else{for(const [f,g]of b)if(d=f,e=g,!c.has(d)||e!==c.get(d)){c=!1;break a}c=!0}c||a.namesSubject.next(b)},Foi=function(a,b=new Map){a.containersDetails=b;a.defaultNameSubjects=new Map;for(const c of b.keys())a.defaultNameSubjects.set(c,new _.hf(1));Eoi(a)},Goi=function(a,b){a.defaultNameSubjects.has(b);return a.defaultNameSubjects.get(b)},Coi=function(a){const b=[...a.containersDetails.values()].filter(c=>!c.isDeleted&&(c.userProvidedName||c.initialName)).map(c=>c.userProvidedName||
c.initialName||"");_.jv(b,a.existingNamesSubject.value)||a.existingNamesSubject.next(b);return b},Doi=function(a,b,c){var d=a.containersDetails.get(b);if(c!==d.autogeneratedName){d.autogeneratedName=c;let e;null==(e=a.defaultNameSubjects.get(b))||e.next(c)}},Hoi=class{constructor(){this.containersDetails=new Map;this.defaultNameSubjects=new Map;this.existingNamesSubject=new _.zg([]);this.namesSubject=new _.zg(new Map)}};Hoi.\u0275fac=function(a){return new (a||Hoi)};
Hoi.\u0275prov=_.h({token:Hoi,factory:Hoi.\u0275fac,providedIn:"root"});var Ioi=class{constructor(){this.msgCloudBuildSetup="A Cloud Build trigger will be created in order to automatically build and deploy your code.";this.msgCloudBuildSourceHeading="Source repository";this.msgCloudBuildWarningHeading="Cloud Build trigger"}};Ioi.\u0275fac=function(a){return new (a||Ioi)};
Ioi.\u0275cmp=_.m({type:Ioi,selectors:[["cloud-build-setup-info"]],inputs:{cloudBuildSourceLink:"cloudBuildSourceLink"},decls:8,vars:4,consts:[[1,"cfc-font-weight-bold"],["data-test-id","cloud-build-source-link"],[1,"cfc-space-above-minus-2","cfc-font-weight-bold"]],template:function(a,b){a&1&&(_.G(0,"div",0),_.Q(1),_.I(),_.G(2,"div",1),_.Q(3),_.I(),_.G(4,"div",2),_.Q(5),_.I(),_.G(6,"div"),_.Q(7),_.I());a&2&&(_.z(),_.bg(b.msgCloudBuildSourceHeading),_.z(2),_.R(" ",b.cloudBuildSourceLink,"\n"),_.z(2),
_.R(" ",b.msgCloudBuildWarningHeading,"\n"),_.z(2),_.R(" ",b.msgCloudBuildSetup,"\n"))},encapsulation:2,changeDetection:0});
var Joi=function(a){if(a.deploymentConfig){let b;a.form.setValue(null!=(b=a.deploymentConfig.containerImage)?b:"gcr.io/cloudrun/placeholder")}},Koi=class extends _.W5{initForm(){Joi(this)}constructor(a){super(a);this.deploymentConfig={containerType:"sourceRepositoryImage",containerImage:""};this.form=this.formBuilder.control("")}ngOnChanges(a){"deploymentConfig"in a&&Joi(this)}get cloudBuildSourceLink(){let a;return void 0===(null==(a=this.deploymentConfig)?void 0:a.cloudBuildSetupConfig)?"":`http://github.com/${this.deploymentConfig.cloudBuildSetupConfig.notMirroredRepoName}`}};
Koi.\u0275fac=function(a){return new (a||Koi)(_.A(_.Fu))};
Koi.\u0275cmp=_.m({type:Koi,selectors:[["ingress-deployment-config-info"]],inputs:{deploymentConfig:"deploymentConfig"},features:[_.Bf,_.od],decls:4,vars:2,consts:()=>[["existingImageInfo",""],["imageNotSelected",""]," Container image URL "," Not selected ",[1,"cfc-space-below-minus-2","cfc-text-body"],[3,"cloudBuildSourceLink",4,"ngIf","ngIfElse"],[3,"cloudBuildSourceLink"],[1,"cfc-font-weight-bold"],["data-test-id","image-readonly-url",4,"ngIf","ngIfElse"],["data-test-id","image-readonly-url"],
["data-test-id","image-not-selected"]],template:function(a,b){a&1&&(_.G(0,"div",4),_.E(1,Hki,1,1,"cloud-build-setup-info",5)(2,Kki,6,2,"ng-template",null,0,_.ig),_.I());if(a&2){a=_.ag(3);_.z();let c;b="sourceRepositoryImage"===(null==(c=b.deploymentConfig)?void 0:c.containerType);_.F("ngIf",b)("ngIfElse",a)}},dependencies:[Ioi,_.Bl],encapsulation:2,changeDetection:0});
var Lki=function(a,b){setTimeout(()=>{a.form.setControl("image",b);_.X5(a,b,()=>{var c=a.containerNameService,d=b.value;c.containersDetails.get(Pki(a.form)).image=d;Eoi(c)})})},Loi=function(a,b){setTimeout(()=>{a.form.setControl("containerSettings",b);_.X5(a,b,()=>{var c;let d;var e=null!=(d=null==(c=b.controls.name)?void 0:c.value)?d:"";c=a.containerNameService;c.containersDetails.get(Pki(a.form)).userProvidedName=e;Eoi(c)})})},Moi=function(a,b){setTimeout(()=>{a.form.setControl("variables",b)})},
Noi=function(a,b){setTimeout(()=>{a.form.setControl("volumeMounts",b)})},Ooi=class extends _.W5{set dependsOnOptions(a){null!==a&&void 0!==a&&setTimeout(()=>{const b=a.filter(c=>c.id!==Pki(this.form));this.dependsOnOptions$.next(b)})}get isContainerImageReadonly(){return this.isIngress&&this.isCreateServiceMode}get deploymentConfigImage(){let a,b;return null!=(b=null==(a=this.deploymentConfig)?void 0:a.containerImage)?b:"gcr.io/cloudrun/placeholder"}constructor(a,b){super(b);this.containerNameService=
a;this.isMulticontainer=!1;this.defaultName$=new _.zg("");this.dependsOnOptions$=new _.zg([]);this.existingNames$=this.containerNameService.existingNamesSubject;this.containerPort$=new _.zg;this.demoContainer="us-docker.pkg.dev/cloudrun/container/hello"}initForm(){this.isContainerImageReadonly&&this.form.setControl("image",this.formBuilder.control(this.deploymentConfigImage));Goi(this.containerNameService,Pki(this.form)).pipe(_.B(this.destroyed$)).subscribe(a=>{this.defaultName$.next(a)})}ngOnChanges(a){if("deploymentConfig"in
a&&this.isContainerImageReadonly){let b;null==(b=this.form.controls.image)||b.setValue(this.deploymentConfigImage)}}onContainerPortFormReady(a){setTimeout(()=>{this.form.setControl("port",a)});_.X5(this,a,()=>{this.containerPort$.next(a.valid?Number(a.value):8080)})}};Ooi.\u0275fac=function(a){return new (a||Ooi)(_.A(Hoi),_.A(_.Fu))};
Ooi.\u0275cmp=_.m({type:Ooi,selectors:[["container-item-form"]],inputs:{initialContainer:"initialContainer",isIngress:"isIngress",isCreateServiceMode:"isCreateServiceMode",isMulticontainer:"isMulticontainer",deploymentConfig:"deploymentConfig",gcbTriggerLocator:"gcbTriggerLocator",volumes:"volumes",cpuThrottling:"cpuThrottling",executionEnvironment:"executionEnvironment",dependsOnOptions:"dependsOnOptions",form:"form"},features:[_.Bf,_.od],decls:21,vars:34,consts:()=>[["imageInputTemplate",""],["bindParentFormSubmitEvent",
"",3,"formGroup"],[4,"ngIf","ngIfElse"],[3,"initialContainerPort","formReady",4,"ngIf"],["label","Settings"],[3,"errorFor"],[1,"cfc-space-above-base"],[3,"formReady","initialName","initialContainerCommands","initialContainerArgs","initialLimits","initialHealthChecks","initialDependsOn","isCreateServiceMode","isIngress","isMulticontainer","containerPort","cpuThrottling","executionEnvironment","defaultName","existingNames","dependsOnOptions"],["label","Variables & Secrets"],[3,"formReady","initialEnvironmentVariables",
"isIngress"],["label","Volume Mounts"],[3,"formReady","initialVolumeMounts","volumes"],[3,"formReady","deploymentConfig"],[3,"formReady","initialContainerImage","demoContainer","howToDocHref","displayRequestHint","gcbTriggerLocator"],[3,"formReady","initialContainerPort"]],template:function(a,b){if(a&1){const c=_.n();_.K(0,1);_.E(1,Mki,2,1,"ng-container",2)(2,Nki,1,5,"ng-template",null,0,_.ig);_.K(4);_.E(5,Oki,1,1,"container-port-input",3);_.G(6,"mat-tab-group")(7,"mat-tab",4);_.J(8,"cfc-tab-error",
5)(9,"div",6);_.G(10,"container-settings-form",7);_.S(11,"nonNullAsync");_.S(12,"nonNullAsync");_.S(13,"nonNullAsync");_.S(14,"nonNullAsync");_.O("formReady",function(d){_.q(c);return _.u(Loi(b,d))});_.I()();_.G(15,"mat-tab",8);_.J(16,"cfc-tab-error",5);_.G(17,"container-variables-form",9);_.O("formReady",function(d){_.q(c);return _.u(Moi(b,d))});_.I()();_.G(18,"mat-tab",10);_.J(19,"cfc-tab-error",5);_.G(20,"volume-mounts-form",11);_.O("formReady",function(d){_.q(c);return _.u(Noi(b,d))});_.I()()();
_.L()()}a&2&&(a=_.ag(3),_.F("formGroup",b.form),_.z(),_.F("ngIf",b.isContainerImageReadonly)("ngIfElse",a),_.z(4),_.F("ngIf",b.isIngress),_.z(3),_.F("errorFor",b.form.controls.containerSettings),_.z(2),_.F("initialName",null==b.initialContainer?null:b.initialContainer.name)("initialContainerCommands",null==b.initialContainer?null:b.initialContainer.commands)("initialContainerArgs",null==b.initialContainer?null:b.initialContainer.args)("initialLimits",null==b.initialContainer?null:b.initialContainer.limits)("initialHealthChecks",
null==b.initialContainer?null:b.initialContainer.healthChecks)("initialDependsOn",null==b.initialContainer?null:b.initialContainer.dependsOn)("isCreateServiceMode",b.isCreateServiceMode)("isIngress",b.isIngress)("isMulticontainer",b.isMulticontainer)("containerPort",_.U(11,26,b.containerPort$))("cpuThrottling",b.cpuThrottling)("executionEnvironment",b.executionEnvironment)("defaultName",_.U(12,28,b.defaultName$))("existingNames",_.U(13,30,b.existingNames$))("dependsOnOptions",_.U(14,32,b.dependsOnOptions$)),
_.z(6),_.F("errorFor",b.form.controls.variables),_.z(),_.F("initialEnvironmentVariables",null==b.initialContainer?null:b.initialContainer.envVars)("isIngress",b.isIngress),_.z(2),_.F("errorFor",b.form.controls.volumeMounts),_.z(),_.F("initialVolumeMounts",null==b.initialContainer?null:b.initialContainer.volumeMounts)("volumes",b.volumes))},dependencies:[_.dt,_.yA,_.Yq,_.Zq,_.xA,_.Bl,_.M6,_.Zii,_.rji,_.Dji,_.u6,Koi,_.Ky,_.ru,_.ufi,Boi,_.S5],encapsulation:2,changeDetection:0});
_.Poi=class extends _.W5{set quotaLimit(a){const b=this.quotaLimitInternal;this.quotaLimitInternal=a;void 0===b&&this.instancesLimit&&(this.initialMaxScale||this.minScaleControl.touched||this.maxScaleControl.touched||this.maxScaleControl.setValue(Math.min(this.instancesLimit,b7(this.maxScaleControl)).toString()))}get quotaLimit(){return this.quotaLimitInternal}constructor(a){super(a);this.dl={CONSOLE__RUN_DOCS_CONFIGURING_MIN_INSTANCES:_.yzb};this.max32BitInteger=2147483647;this.minScaleErrorMatcher=
{isErrorState(b,c){let d;return(null==b?void 0:b.dirty)&&(null==b?void 0:b.invalid)||"minScaleGreaterThanMaxScale"in(null!=(d=null==c?void 0:c.errors)?d:[])}};this.maxScaleErrorMatcher={isErrorState(b,c){let d,e,f;return(null==b?void 0:b.dirty)&&(null==b?void 0:b.invalid)||"minScaleGreaterThanMaxScale"in(null!=(d=null==c?void 0:c.errors)?d:[])||"maxXCpuExceedsQuotaLimit"in(null!=(e=null==c?void 0:c.errors)?e:[])||"maxXMemoryExceedsQuotaLimit"in(null!=(f=null==c?void 0:c.errors)?f:[])}};this.form=
this.formBuilder.group({minScale:"",maxScale:""});this.serviceCreationMinInstancesConfigEnabled=_.zc(_.Hji);a=_.sBc.create();a=a.link().set(a.service,"run.googleapis.com");this.quotasRouterLink=a.build();this.quotasQueryParams=a.buildQueryParams()}initForm(){let a=_.Iji.maxScale;this.instancesLimit&&(a=Math.min(this.instancesLimit,a));let b;this.minScaleControl.setValue((null!=(b=this.initialMinScale)?b:_.Iji.minScale).toString());let c;this.maxScaleControl.setValue((null!=(c=this.initialMaxScale)?
c:a).toString())}setupFormValidation(){this.minScaleControl.setValidators(()=>{const a=b7(this.minScaleControl);return!Number.isInteger(a)||0>a?{valueLessThanZero:!0}:null});this.maxScaleControl.setValidators(()=>{const a=b7(this.maxScaleControl);return!Number.isInteger(a)||1>a?{valueLessThanOne:!0}:2147483647<a?{valueTooBig:!0}:null});this.form.setValidators([()=>{const a=b7(this.form.controls.minScale),b=b7(this.form.controls.maxScale);return 0<a&&0<b&&a>b?{minScaleGreaterThanMaxScale:!0}:null},
()=>{if(this.quotaLimit)if(this.cpuMilliesRequired>this.cpuMilliesLimit&&this.memoryMibRequired>this.memoryMibLimit){var a=Math.min(this.maxScaleByQuotaOnCpu,this.maxScaleByQuotaOnMemory);a=this.maxScaleByQuotaOnCpu<this.maxScaleByQuotaOnMemory?{maxXCpuExceedsQuotaLimit:a}:{maxXMemoryExceedsQuotaLimit:a}}else a=this.cpuMilliesRequired>this.cpuMilliesLimit?{maxXCpuExceedsQuotaLimit:this.maxScaleByQuotaOnCpu}:this.memoryMibRequired>this.memoryMibLimit?{maxXMemoryExceedsQuotaLimit:this.maxScaleByQuotaOnMemory}:
null;else a=null;return a}])}ngOnChanges(a){("cpu"in a||"memory"in a||"quotaLimit"in a)&&this.form.updateValueAndValidity()}get minScaleControl(){return this.form.controls.minScale}get maxScaleControl(){return this.form.controls.maxScale}get instancesLimit(){if(this.quotaLimit)return Math.min(this.maxInstancesXCpu,this.maxInstancesXMemoryGib)}get maxInstancesXCpu(){return this.quotaLimit}get maxInstancesXMemoryGib(){return 2*this.quotaLimit}showColdStartsHint(){return 0===b7(this.minScaleControl)}get cpuMilliesRequired(){let a;
return(null!=(a=this.cpu)?a:0)*b7(this.maxScaleControl)}get memoryMibRequired(){let a;return(null!=(a=this.memory)?a:0)*b7(this.maxScaleControl)}get memoryMibLimit(){return 2048*this.quotaLimit}get cpuMilliesLimit(){return 1E3*this.quotaLimit}get maxScaleByQuotaOnCpu(){return Math.floor(1E3*this.quotaLimit/this.cpu)}get maxScaleByQuotaOnMemory(){return Math.floor(2048*this.quotaLimit/this.memory)}};_.Poi.\u0275fac=function(a){return new (a||_.Poi)(_.A(_.Fu))};
_.Poi.\u0275cmp=_.m({type:_.Poi,selectors:[["autoscaling"]],inputs:{initialMinScale:"initialMinScale",initialMaxScale:"initialMaxScale",memory:"memory",cpu:"cpu",quotaLimit:"quotaLimit"},features:[_.Bf,_.od],decls:30,vars:13,consts:()=>{let a;a=_.ft("[\ufffd#2\ufffd|\ufffd#3\ufffd]Bounds the number of container instances for the created revision.[\ufffd/#2\ufffd|\ufffd/#3\ufffd][\ufffd#2\ufffd|\ufffd#3\ufffd] You can set a maximum of up to [\ufffd0\ufffd|\ufffd1\ufffd] container instances. Increase your \ufffd#5\ufffdquota\ufffd/#5\ufffd if you need more than [\ufffd0\ufffd|\ufffd1\ufffd] instances of a chosen size. [\ufffd/#2\ufffd|\ufffd/#3\ufffd]");
let b;b=_.ft("[\ufffd#2\ufffd|\ufffd#3\ufffd]Bounds the number of container instances for the created revision.[\ufffd/#2\ufffd|\ufffd/#3\ufffd][\ufffd#2\ufffd|\ufffd#3\ufffd] The actual maximum limit depends on the region of the Cloud Run service and its CPU and memory configurations. Increase your \ufffd#4\ufffdquota\ufffd/#4\ufffd if you need more instances. [\ufffd/#2\ufffd|\ufffd/#3\ufffd]");return[["tooltip",""],["tooltipNoQuotaLimit",""]," Revision autoscaling "," Minimum and maximum numbers of instances for the new revision.\n",
" Minimum number of instances "," Maximum number of instances "," Set to 1 to reduce cold starts. \ufffd#2\ufffd Learn more \ufffd/#2\ufffd"," The service minimum instances is preferable for most use-cases. Only use this setting if you specifically require per-revision settings. "," Choose an integer value not less than 0 "," The minimum needs to be no greater than the maximum "," Value can not exceed \ufffd0\ufffd. You need to have increased the \ufffd#2\ufffdquota\ufffd/#2\ufffd to use more than \ufffd1\ufffd GiB of total memory. ",
" Value can not exceed \ufffd0\ufffd. You need to have increased the \ufffd#2\ufffdquota\ufffd/#2\ufffd to use more than \ufffd1\ufffd of total CPU. "," Choose an integer value not less than 1 "," Choose an integer value not bigger than \ufffd0\ufffd ",a,b,[1,"cfc-text-title-4","cfc-space-last"],["id","autoscalingHeader"],["cfcTooltipPosition","right","ariaLabel","Autoscaling help",1,"cfc-button-small"],[4,"ngIf"],[1,"cfc-space-first","cfc-space-below-minus-2"],[1,"cfc-uniform-width-form-row"],[3,
"formGroup"],[1,"cfc-uniform-width-form-control"],["matInput","","required","","formControlName","minScale",1,"cps-autoscaling-min-input",3,"errorStateMatcher"],["matError","",4,"cfcDebounceErrorFor"],["matError","",4,"cfcDebounceErrorIf"],["matInput","","required","","formControlName","maxScale",1,"cps-autoscaling-max-input",3,"errorStateMatcher"],[4,"ngTemplateOutlet"],["aria-label","Learn more about using minimum instances in Cloud Run",3,"cfcDocLink"],["matError",""],["target","_blank",3,"cfcRouterLink",
"queryParams"]]},template:function(a,b){a&1&&(_.G(0,"div",16)(1,"span",17),_.N(2,2),_.I(),_.G(3,"cfc-help-button",18),_.E(4,Uki,2,1,"ng-container",19)(5,Xki,2,1,"ng-container",19),_.I()(),_.G(6,"div",20),_.N(7,3),_.I(),_.G(8,"div",21),_.K(9,22),_.G(10,"mat-form-field",23)(11,"mat-label"),_.N(12,4),_.I(),_.J(13,"input",24),_.E(14,Yki,3,1,"mat-hint",19)(15,$ki,2,1,"mat-hint",19)(16,ali,2,0,"cm-error",25)(17,bli,2,0,"cm-error",26),_.I(),_.G(18,"mat-form-field",23)(19,"mat-label"),_.N(20,5),_.I(),_.J(21,
"input",27),_.E(22,cli,4,6,"cm-error",26)(23,dli,4,6,"cm-error",26)(24,eli,2,0,"cm-error",25)(25,fli,3,3,"cm-error",25),_.I(),_.L(),_.I(),_.E(26,gli,7,8,"ng-template",null,0,_.ig)(28,hli,5,2,"ng-template",null,1,_.ig));a&2&&(_.z(4),_.F("ngIf",b.quotaLimit),_.z(),_.F("ngIf",!b.quotaLimit),_.z(4),_.F("formGroup",b.form),_.z(4),_.F("errorStateMatcher",b.minScaleErrorMatcher),_.z(),_.F("ngIf",b.showColdStartsHint()&&!b.serviceCreationMinInstancesConfigEnabled),_.z(),_.F("ngIf",b.serviceCreationMinInstancesConfigEnabled),
_.z(),_.F("cfcDebounceErrorFor","valueLessThanZero"),_.z(),_.F("cfcDebounceErrorIf",b.form.errors&&b.form.errors.minScaleGreaterThanMaxScale),_.z(4),_.F("errorStateMatcher",b.maxScaleErrorMatcher),_.z(),_.F("cfcDebounceErrorIf",b.form.hasError("maxXMemoryExceedsQuotaLimit")),_.z(),_.F("cfcDebounceErrorIf",b.form.hasError("maxXCpuExceedsQuotaLimit")),_.z(),_.F("cfcDebounceErrorFor","valueLessThanOne"),_.z(),_.F("cfcDebounceErrorFor","valueTooBig"))},dependencies:[_.Bl,_.Fl,_.PD,_.vt,_.bA,_.oy,_.OD,
_.py,_.iy,_.hy,_.gy,_.ND,_.wy,_.xy,_.uy,_.Lt,_.ly,_.Ky,_.yu,_.ru,_.uu,_.cw,_.MD],encapsulation:2,changeDetection:0});var Qoi=class{constructor(a){this.locale=a;this.formatMemory=_.phi}formatCpu(a){return _.ohi(this.locale,a,!0)}get numberedContainerLabel(){return this.isIngress?this.isMulticontainer?"Ingress container":"Container":_.Jy("Container {NUMBER}",{NUMBER:this.orderInFormList+1})}};Qoi.\u0275fac=function(a){return new (a||Qoi)(_.A(_.ch))};
Qoi.\u0275cmp=_.m({type:Qoi,selectors:[["container-item-summary"]],inputs:{name:"name",limits:"limits",orderInFormList:"orderInFormList",port:"port",isIngress:"isIngress",isMulticontainer:"isMulticontainer"},decls:8,vars:4,consts:()=>[["numberedContainerLabelTemplate",""],["sidecarContainerCaptionTemplate",""]," Ingress container: \ufffd0\ufffd "," Container: \ufffd0\ufffd "," Port \ufffd0\ufffd, \ufffd1\ufffd CPU, \ufffd2\ufffd memory "," \ufffd0\ufffd CPU, \ufffd1\ufffd memory ",[1,"cfc-text-body"],
[4,"ngIf","ngIfElse"],[1,"cfc-text-caption"],[4,"ngIf"]],template:function(a,b){a&1&&(_.G(0,"div",6),_.E(1,mli,3,2,"ng-container",7)(2,nli,1,1,"ng-template",null,0,_.ig),_.I(),_.G(4,"div",8),_.E(5,oli,2,3,"ng-container",7)(6,pli,1,2,"ng-template",null,1,_.ig),_.I());if(a&2){a=_.ag(3);const c=_.ag(7);_.z();_.F("ngIf",b.name)("ngIfElse",a);_.z(4);_.F("ngIf",b.isIngress)("ngIfElse",c)}},dependencies:[_.Bl],encapsulation:2,changeDetection:0});
var Roi=["formList"],Soi=function(a,b=0){const c=b||a.containerIdSeq;a.containersFormArray.push(a.formBuilder.group({id:c}));if(0===b){var d=a.containerNameService;d.containersDetails.has(c);0===d.containersDetails.size||[...d.containersDetails.keys()];d.containersDetails.set(c,{isDeleted:!1});d.defaultNameSubjects.set(c,new _.hf(1))}a.containerIdSeq=Math.max(a.containerIdSeq,b)+1},Toi=function(a){let b=0,c=0;a.containersFormArray.controls.forEach(d=>{d.disabled||(d=Rki(d),b+=d.cpuMillis,c+=_.s6(d.memory))});
return{cpuMillis:b,memoryMiBs:c}},Uoi=function(a){if(!a.isMulticontainer)return null;const {cpuMillis:b,memoryMiBs:c}=a.sandboxLimits$.getValue();if(8E3<b)return{"sandbox-cpus-exceeded":{value:b,threshold:8E3}};if(!a.executionEnvironment)return null;const d="gen2"===a.executionEnvironment;let e;return d||null!=(e=a.cpuThrottling)&&e.isDisabled?1E3>b?{"sandbox-cpus-too-low":{value:b,reason:d?"gen2":"alwaysOn",threshold:1E3}}:512>c?{"sandbox-memory-too-low":{value:c,reason:d?"gen2":"alwaysOn",threshold:512}}:
null:null},Voi=class extends _.W5{constructor(a,b){super(b);this.containerNameService=a;this.sandboxLimitsChanged=new _.jl;this.containersFormArray=this.formBuilder.array([]);this.form=this.formBuilder.group({containers:this.containersFormArray});this.containerNames$=this.containerNameService.namesSubject.pipe(_.B(this.destroyed$));let c;this.dependsOnOptions$=_.$d([this.form.valueChanges,this.containerNames$]).pipe(_.B(this.destroyed$),_.Qe(_.jv),_.y(([,d])=>Cli(this.form,d)),_.pf((null!=(c=this.initialContainers)?
c:[]).map((d,e)=>({id:d.id,name:d.name,orderInFormList:e+1}))),_.Qe(_.jv));this.sandboxLimits$=new _.zg({cpuMillis:_.C6.cpuMillis,memoryMiBs:_.s6(_.C6.memory)});this.initialContainersMap=new Map;this.toContainerId=Pki;this.toContainerLimits=Rki;this.toContainerPort=Qki;this.ve={ServerlessRevisionFormContainersFormList:196332};this.containerIdSeq=1}initForm(){if(this.initialContainers&&0<this.initialContainers.length){Foi(this.containerNameService,Gki(this.initialContainers));for(const a of this.initialContainers)this.initialContainersMap.set(a.id,
a),Soi(this,a.id)}else Foi(this.containerNameService),Soi(this);this.form.valueChanges.pipe(_.B(this.destroyed$),_.Qe(_.jv),_.y(()=>Toi(this)),_.Qe(_.jv)).subscribe(a=>{this.sandboxLimits$.next(a);this.sandboxLimitsChanged.emit(a)})}setupFormValidation(){setTimeout(()=>{this.form.setValidators(()=>Uoi(this));this.form.updateValueAndValidity()},200)}ngAfterViewInit(){setTimeout(()=>{_.jte(this.formList,this.formListItems.first)})}get isMulticontainer(){return Dli(this.form)}getListItemControls(){return this.containersFormArray.controls}};
Voi.\u0275fac=function(a){return new (a||Voi)(_.A(Hoi),_.A(_.Fu))};
Voi.\u0275cmp=_.m({type:Voi,selectors:[["containers-form-list"]],viewQuery:function(a,b){a&1&&(_.Xf(Roi,5),_.Xf(_.lV,5));if(a&2){let c;_.Zf(c=_.$f())&&(b.formList=c.first);_.Zf(c=_.$f())&&(b.formListItems=c)}},inputs:{initialContainers:"initialContainers",deploymentConfig:"deploymentConfig",gcbTriggerLocator:"gcbTriggerLocator",isCreateServiceMode:"isCreateServiceMode",cpuThrottling:"cpuThrottling",executionEnvironment:"executionEnvironment",volumes:"volumes"},outputs:{sandboxLimitsChanged:"sandboxLimitsChanged"},
features:[_.Bf],decls:8,vars:8,consts:()=>[["formList",""],["sandboxCpuAndMemoryErrorsTmpl",""]," The sum of the CPUs for all containers is \ufffd0\ufffd. \ufffd#2\ufffd\ufffd/#2\ufffd Total CPUs cannot exceed \ufffd1\ufffd. "," The sum of the CPUs for all containers is \ufffd0\ufffd. "," Second generation execution environment requires a minimum of \ufffd0\ufffd CPU. "," Always-on CPU requires a minimum of \ufffd0\ufffd CPU. "," The sum of the memory for all containers is \ufffd0\ufffd Mi. "," Second generation execution environment requires a minimum of \ufffd0\ufffd Mi. ",
" Always-on CPU requires a minimum of \ufffd0\ufffd Mi. ",["bindParentFormSubmitEvent","",3,"formGroup"],["formArrayName","containers","editItemHeader","Edit Container","newItemButtonLabel","Add Container","newItemHeader","New Container","itemLabel","Container",3,"onItemAdditionRequested","onItemDeleted","onRestore","headingNumber","maxSize","ve"],["listTitle","Container(s)",3,"screenReaderOnly","titleHeadingVisualLevel"],[4,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],["deleteDisabledTooltipMessage",
"Service requires an ingress container",3,"deleteDisabled"],[3,"name","limits","orderInFormList","port","isIngress","isMulticontainer",4,"ngIf"],["bindParentFormSubmitEvent","","deleteDisabledTooltipMessage","Service requires an ingress container",3,"formGroup","deleteDisabled",4,"cfcFormListKeepInitialModel"],[3,"name","limits","orderInFormList","port","isIngress","isMulticontainer"],["bindParentFormSubmitEvent","","deleteDisabledTooltipMessage","Service requires an ingress container",3,"formGroup",
"deleteDisabled"],[3,"initialContainer","isIngress","isCreateServiceMode","isMulticontainer","deploymentConfig","gcbTriggerLocator","volumes","cpuThrottling","executionEnvironment","dependsOnOptions","form"],[3,"control",4,"ngIf"],[3,"control"],[4,"ngIf"]],template:function(a,b){if(a&1){const c=_.n();_.K(0,9);_.G(1,"cfc-form-list",10,0);_.O("onItemAdditionRequested",function(){_.q(c);Soi(b);return _.u()})("onItemDeleted",function(d){_.q(c);var e=b.containerNameService;e.containersDetails.get(d.item.id).isDeleted=
!0;Eoi(e);return _.u()})("onRestore",function(d){_.q(c);var e=b.containerNameService;e.containersDetails.get(d.id).isDeleted=!1;Eoi(e);return _.u()});_.J(3,"cfc-form-list-title",11);_.E(4,qli,1,0,"ng-container",12)(5,tli,5,4,"cfc-form-list-item",13);_.I();_.L();_.E(6,Bli,3,3,"ng-template",null,1,_.ig)}a&2&&(a=_.ag(7),_.F("formGroup",b.form),_.z(),_.F("headingNumber",b.isCreateServiceMode?4:3)("maxSize",10)("ve",b.ve.ServerlessRevisionFormContainersFormList),_.z(2),_.F("screenReaderOnly",b.isCreateServiceMode)("titleHeadingVisualLevel",
5),_.z(),_.F("ngTemplateOutlet",a),_.z(),_.F("ngForOf",b.getListItemControls()))},dependencies:[_.at,_.Al,_.Bl,_.Fl,Ooi,Qoi,_.u6,_.vE,_.nV,_.lV,_.jV,_.kV,_.pfi,_.mV,_.Ky,_.ru,_.tu,_.Gl,_.S5],encapsulation:2,changeDetection:0});
var Woi=()=>["timeoutSecondsOutOfBoundsError","timeoutSecondsNotAnIntegerError"],Xoi=function(a){if(!a.triggersExist$){const b=_.$3.create(a.route),c=_.oq(a.projectParamService);a.triggersExist$=a.triggerService.listTriggers(c,1E3,{destination:{descriptor:"cloudRun",cloudRun:{service:b.name.snapshot,region:b.region.snapshot}}}).pipe(_.y(d=>0<d.length),_.B(a.destroyed$),_.mf(1))}return a.triggersExist$},Yoi=class extends _.W5{constructor(a,b,c,d){super(a);this.route=b;this.projectParamService=c;this.triggerService=
d;this.minTimeoutSeconds=1;this.maxTimeoutSeconds=3600;this.defaultTimeoutSeconds=300;this.showTriggersRequestTimeoutWarning=!1;this.form=this.formBuilder.control((300).toString());this.isTriggersWarningDisplayed$=this.form.valueChanges.pipe(_.oe(e=>this.showTriggersRequestTimeoutWarning&&900<Number(e)),_.qf(()=>Xoi(this)),_.pf(!1))}initForm(){let a;this.form.setValue((null!=(a=this.initialTimeoutSeconds)?a:300).toString())}setupFormValidation(){this.form.setValidators([()=>{const a=Number(this.form.value);
return 1<=a&&3600>=a?null:{timeoutSecondsOutOfBoundsError:!0}},()=>Number.isInteger(Number(this.form.value))?null:{timeoutSecondsNotAnIntegerError:!0}])}};Yoi.\u0275fac=function(a){return new (a||Yoi)(_.A(_.Fu),_.A(_.yg),_.A(_.pq),_.A(_.e6))};
Yoi.\u0275cmp=_.m({type:Yoi,selectors:[["request-timeout-input"]],inputs:{showTriggersRequestTimeoutWarning:"showTriggersRequestTimeoutWarning",initialTimeoutSeconds:"initialTimeoutSeconds"},features:[_.Bf],decls:12,vars:7,consts:()=>[" Request timeout "," Time within which a response must be returned (maximum \ufffd0\ufffd seconds). "," This service has triggers, which are not compatible with request timeout over 15 minutes. "," Choose an integer value between \ufffd0\ufffd and \ufffd1\ufffd. Default value is \ufffd2\ufffd. ",
["matInput","","aria-describedby","describe-timeout-unit",3,"formControl"],["matSuffix","","id","describe-timeout-unit"],["type","warning","class","cfc-space-last cfc-space-above-minus-2",4,"ngIf"],["matError","",4,"cfcDebounceErrorFor"],["type","warning",1,"cfc-space-last","cfc-space-above-minus-2"],["matError",""]],template:function(a,b){a&1&&(_.G(0,"mat-form-field")(1,"mat-label"),_.N(2,0),_.I(),_.J(3,"input",4),_.G(4,"span",5),_.Q(5,"seconds"),_.I(),_.G(6,"mat-hint"),_.K(7),_.N(8,1),_.L(),_.E(9,
Fli,3,0,"cfc-message",6),_.S(10,"nonNullAsync"),_.I(),_.E(11,Gli,2,3,"cm-error",7),_.I());a&2&&(_.z(3),_.F("formControl",b.form),_.z(5),_.Qf(b.maxTimeoutSeconds),_.Rf(8),_.z(),_.F("ngIf",_.U(10,4,b.isTriggersWarningDisplayed$)),_.z(2),_.F("cfcDebounceErrorFor",_.eg(6,Woi)))},dependencies:[_.Bl,_.PD,_.Lt,_.ly,_.oy,_.OD,_.py,_.iy,_.hy,_.gy,_.ND,_.Qz,_.wy,_.xy,_.uy,_.Vo,_.Wo,_.qu,_.S5],encapsulation:2,changeDetection:0});
var Zoi=["cloudsql"],Xli={id:0,name:"",typeSpecificDetails:"typespecificdetailsNotSet"},Qli=function(a,b){setTimeout(()=>{a.form.removeControl("secretVolume");a.form.removeControl("gcsVolume");a.form.setControl("inMemoryVolume",b)})},Sli=function(a,b){setTimeout(()=>{a.form.removeControl("inMemoryVolume");a.form.removeControl("gcsVolume");a.form.setControl("secretVolume",b)})},Uli=function(a,b){setTimeout(()=>{a.form.removeControl("inMemoryVolume");a.form.removeControl("secretVolume");a.form.setControl("gcsVolume",
b)})},$oi=class extends _.W5{constructor(a,b){super(b);this.revisionFormTabSwitchService=a;this.gcsVolumesCreateEditEnabled=_.zc(_.$ji);this.typeSpecificDetailsOneofCase=xoi;this.volumeTypeDisplayText=new Map([["inMemoryVolume","In-Memory"],["secretVolume","Secret"]].concat(this.gcsVolumesCreateEditEnabled?[["gcsVolume","Cloud Storage bucket"]]:[]));this.initialName=Xli.name;this.initialType=Xli.typeSpecificDetails;this.initialInMemoryVolume=_.Yji;this.initialSecretVolume=_.xji;this.initialGcsVolume=
_.Wji;this.otherVolumesNames=[];this.form=Yli(this.formBuilder);this.serviceAccount="";this.inMemoryVolume=_.Yji;this.secretVolume=_.xji;this.gcsVolume=_.Wji}initForm(){_.X5(this,this.form.controls.type,()=>{const e=this.form.controls.type.value;if(!this.form.controls.name.value&&_.aki.has(e)){let f=0,g;do f+=1,g=`${_.aki.get(e)}-${f}`;while(this.otherVolumesNames.includes(g));this.form.controls.name.setValue(g)}});this.form.controls.name.setValue(this.initialName);let a;this.form.controls.type.setValue(null!=
(a=this.initialType)?a:Xli.typeSpecificDetails);"otherVolume"===this.initialType&&(this.form.controls.name.disable({onlySelf:!0,emitEvent:!1}),this.form.controls.type.disable({onlySelf:!0,emitEvent:!1}));let b;this.inMemoryVolume=null!=(b=this.initialInMemoryVolume)?b:_.Yji;let c;this.secretVolume=null!=(c=this.initialSecretVolume)?c:_.xji;let d;this.gcsVolume=null!=(d=this.initialGcsVolume)?d:_.Wji;"inMemoryVolume"!==this.initialType&&(this.inMemoryVolume=_.Yji);"secretVolume"!==this.initialType&&
(this.secretVolume=_.xji);"gcsVolume"!==this.initialType&&(this.gcsVolume=_.Wji)}setupFormValidation(){setTimeout(()=>{this.form.controls.name.setValidators([_.fu,_.r0h(Zoi),()=>this.otherVolumesNames.includes(this.form.controls.name.value)?{duplicateVolumeName:!0}:null]);this.form.controls.type.setValidators(()=>"typespecificdetailsNotSet"===this.form.controls.type.value?{required:!0}:null);this.form.controls.name.updateValueAndValidity();this.form.controls.type.updateValueAndValidity()})}};
$oi.\u0275fac=function(a){return new (a||$oi)(_.A(_.$6),_.A(_.Fu))};
$oi.\u0275cmp=_.m({type:$oi,selectors:[["volume-item"]],inputs:{initialName:"initialName",initialType:"initialType",initialInMemoryVolume:"initialInMemoryVolume",initialSecretVolume:"initialSecretVolume",initialGcsVolume:"initialGcsVolume",otherVolumesNames:"otherVolumesNames",form:"form",serviceAccount:"serviceAccount",projectNumber:"projectNumber"},features:[_.Bf],decls:19,vars:12,consts:()=>[" Volume type "," Volume name "," Volume type is required. "," Volume name is required. "," Volume name must be unique. ",
" Volume name 'cloudsql' is reserved. "," This volume type is not yet fully supported by Cloud Console. To update its mounts go to the Container(s). You can view and modify this volume's full configuration from the service details' YAML tab. "," Go to Container(s) tab ",["refreshOnSubmit",""],[3,"formControl"],[4,"ngIf"],["matError","",4,"cfcDebounceErrorFor"],["matInput","",3,"formControl"],[3,"initialModel","formReady",4,"ngIf"],[3,"initialModel","serviceAccount","projectNumber","formReady",4,"ngIf"],
[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matError",""],[3,"formReady","initialModel"],[3,"formReady","initialModel","serviceAccount","projectNumber"],["mat-button","","type","button","color","primary",3,"click"]],template:function(a,b){a&1&&(_.K(0,8),_.G(1,"mat-form-field")(2,"cfc-select",9),_.E(3,Kli,2,1,"ng-container",10)(4,Lli,3,1,"ng-container",10),_.I(),_.G(5,"mat-label"),_.N(6,0),_.I(),_.E(7,Mli,2,0,"cm-error",11),_.I(),_.G(8,"mat-form-field")(9,"mat-label"),_.N(10,1),_.I(),_.J(11,"input",
12),_.E(12,Nli,2,0,"cm-error",11)(13,Oli,2,0,"cm-error",11)(14,Pli,2,0,"cm-error",11),_.I(),_.E(15,Rli,1,1,"in-memory-volume-details-form",13)(16,Tli,1,3,"secret-volume-details-form",14)(17,Vli,1,1,"gcs-volume-details-form",13)(18,Wli,6,0,"cfc-message",10),_.L());a&2&&(_.z(2),_.F("formControl",b.form.controls.type),_.z(),_.F("ngIf",b.form.controls.type.value!==b.typeSpecificDetailsOneofCase.otherVolume),_.z(),_.F("ngIf",b.form.controls.type.value===b.typeSpecificDetailsOneofCase.otherVolume),_.z(3),
_.F("cfcDebounceErrorFor","required"),_.z(4),_.F("formControl",b.form.controls.name),_.z(),_.F("cfcDebounceErrorFor","required"),_.z(),_.F("cfcDebounceErrorFor","duplicateVolumeName"),_.z(),_.F("cfcDebounceErrorFor","uniqueValue"),_.z(),_.F("ngIf",b.form.controls.type.value===b.typeSpecificDetailsOneofCase.inMemoryVolume),_.z(),_.F("ngIf",b.form.controls.type.value===b.typeSpecificDetailsOneofCase.secretVolume),_.z(),_.F("ngIf",b.form.controls.type.value===b.typeSpecificDetailsOneofCase.gcsVolume),
_.z(),_.F("ngIf",b.form.controls.type.value===b.typeSpecificDetailsOneofCase.otherVolume))},dependencies:[_.dt,_.Qu,_.Lp,_.Pu,_.oy,_.OD,_.py,_.iy,_.hy,_.ND,_.wy,_.xy,_.uy,_.az,_.PD,_.v6,_.Xji,_.Zji,_.Vo,_.Lu,_.Wo,_.Al,_.Bl,_.Lt,_.ly,_.qu,_.yji,_.$y,_.Xt,_.fz],encapsulation:2,changeDetection:0});
var api=class{constructor(){this.typeSpecificDetailsOneofCase=xoi;this.projectNumber=""}get inMemoryVolumeSummary(){let a,b,c;return(null==(a=this.volumeItem.inMemoryVolume)?0:a.sizeLimit)?_.Jy("In-Memory File System, {sizeLimit}",{sizeLimit:null!=(c=null==(b=this.volumeItem.inMemoryVolume)?void 0:b.sizeLimit)?c:""}):"In-Memory File System"}get secretVolumeSummary(){let a,b;const c=nki(null!=(b=null==(a=this.volumeItem.secretVolume)?void 0:a.secretName)?b:"",this.projectNumber);if(this.volumeItem.secretVolume){let d;
return 0<(null!=(d=this.volumeItem.secretVolume.secretVersions)?d:[]).length?_.Jy("Secret, {secretName}:{versions}",{secretName:c,versions:this.volumeItem.secretVolume.secretVersions.map(e=>e.version).join(",")}):_.Jy("Secret, {secretName}",{secretName:c})}return"Secret"}get gcsVolumeSummary(){let a,b,c;return(null==(a=this.volumeItem.gcsVolume)?0:a.bucketName)?_.Jy("Cloud Storage bucket, {bucketName}",{bucketName:null!=(c=null==(b=this.volumeItem.gcsVolume)?void 0:b.bucketName)?c:""}):"Cloud Storage bucket"}};
api.\u0275fac=function(a){return new (a||api)};
api.\u0275cmp=_.m({type:api,selectors:[["volume-item-summary"]],inputs:{volumeItem:"volumeItem",projectNumber:"projectNumber"},decls:6,vars:5,consts:()=>[" Volume: \ufffd0\ufffd\n"," This volume type is not yet fully supported by Cloud Console.\n",[1,"cfc-text-body"],["class","cfc-text-caption","data-test-id","in-memory-volume-summary",4,"ngIf"],["class","cfc-text-caption","data-test-id","secret-volume-summary",4,"ngIf"],["class","cfc-text-caption","data-test-id","gcs-volume-summary",4,"ngIf"],["class",
"cfc-text-caption","data-test-id","other-volume-summary",4,"ngIf"],["data-test-id","in-memory-volume-summary",1,"cfc-text-caption"],["data-test-id","secret-volume-summary",1,"cfc-text-caption"],["data-test-id","gcs-volume-summary",1,"cfc-text-caption"],["data-test-id","other-volume-summary",1,"cfc-text-caption"]],template:function(a,b){a&1&&(_.G(0,"div",2),_.N(1,0),_.I(),_.E(2,$li,2,1,"div",3)(3,ami,2,1,"div",4)(4,bmi,2,1,"div",5)(5,cmi,2,0,"div",6));a&2&&(_.z(),_.Qf(b.volumeItem.name),_.Rf(1),_.z(),
_.F("ngIf",b.volumeItem.typeSpecificDetails===b.typeSpecificDetailsOneofCase.inMemoryVolume),_.z(),_.F("ngIf",b.volumeItem.typeSpecificDetails===b.typeSpecificDetailsOneofCase.secretVolume),_.z(),_.F("ngIf",b.volumeItem.typeSpecificDetails===b.typeSpecificDetailsOneofCase.gcsVolume),_.z(),_.F("ngIf",b.volumeItem.typeSpecificDetails===b.typeSpecificDetailsOneofCase.otherVolume))},dependencies:[_.Bl],encapsulation:2,changeDetection:0});
var dmi=function(a,b){_.X5(a,b,()=>{const c=imi(b);a.volumeItemsNamesById.set(c.id,c.name)})},emi=function(a,b){let c;return null!=(c=a.initialVolumeItemModelsById.get(b.controls.id.value))?c:Xli},fmi=function(a,b){return[...a.volumeItemsNamesById.entries()].filter(([c])=>c!==b).map(([,c])=>c)},bpi=function(a,b){b=Yli(a.formBuilder,b);a.form.controls.volumes.push(b)},cpi=class extends _.W5{constructor(a,b){super(b);this.revisionFormTabSwitchService=a;this.initialVolumes=[];this.form=this.formBuilder.group({volumes:this.formBuilder.array([])});
this.serviceAccount="";this.toIncompleteVolumeItemModel=imi;this.volumeItemsNamesById=new Map([]);this.initialVolumeItemModelsById=new Map([]);this.volumesIdSequenceHead=0}initForm(){this.initialVolumeItemModelsById=new Map(this.initialVolumes.map(a=>[a.id,a]));this.volumesIdSequenceHead=Math.max(...this.initialVolumeItemModelsById.keys(),this.volumesIdSequenceHead);for(const a of this.initialVolumeItemModelsById.keys())bpi(this,a)}getListItemControls(){return this.formList.getListItemControls()}};
cpi.\u0275fac=function(a){return new (a||cpi)(_.A(_.$6),_.A(_.Fu))};
cpi.\u0275cmp=_.m({type:cpi,selectors:[["volumes-list"]],viewQuery:function(a,b){a&1&&_.Xf(_.nV,7);if(a&2){let c;_.Zf(c=_.$f())&&(b.formList=c.first)}},inputs:{initialVolumes:"initialVolumes",serviceAccount:"serviceAccount",projectNumber:"projectNumber"},features:[_.Bf],decls:8,vars:3,consts:()=>[["formList",""]," After creating a volume, navigate to the \ufffd#6\ufffd Container(s) tab \ufffd/#6\ufffd to mount it to a container. ",["bindParentFormSubmitEvent","",3,"formGroup"],["formArrayName","volumes",
"newItemHeader","New Volume","editItemHeader","Edit Volume","newItemButtonLabel","Add Volume","itemLabel","Volume",1,"cfc-space-above-base","cfc-space-below-minus-4","cfc-no-scroll-horizontal",3,"onItemAdditionRequested"],["listTitle","Volumes",3,"titleHeadingVisualLevel"],["cfcSemanticButton","",3,"click"],[4,"ngFor","ngForOf"],[3,"volumeItem","projectNumber"],[4,"cfcFormListKeepInitialModel"],[3,"formReady","initialName","initialType","initialInMemoryVolume","initialSecretVolume","initialGcsVolume",
"otherVolumesNames","form","serviceAccount","projectNumber"]],template:function(a,b){if(a&1){const c=_.n();_.K(0,2);_.G(1,"cfc-form-list",3,0);_.O("onItemAdditionRequested",function(){_.q(c);b.volumesIdSequenceHead++;return _.u(bpi(b,b.volumesIdSequenceHead))});_.J(3,"cfc-form-list-title",4);_.G(4,"cfc-form-list-description");_.Of(5,1);_.G(6,"a",5);_.O("click",function(){_.q(c);b.revisionFormTabSwitchService.tabSwitchSubject.next(0);return _.u()});_.I();_.Pf();_.I();_.E(7,hmi,4,2,"cfc-form-list-item",
6);_.I();_.L()}a&2&&(_.F("formGroup",b.form),_.z(3),_.F("titleHeadingVisualLevel",5),_.z(4),_.F("ngForOf",b.getListItemControls()))},dependencies:[_.Al,_.u6,_.nV,_.xte,_.lV,_.jV,_.kV,_.pfi,_.mV,_.Ky,_.ru,_.tu,_.H0,$oi,api],encapsulation:2,changeDetection:0});dpi=["serviceAccountPicker"];zmi=()=>[];tmi=function(a,b){a.form.setControl("containers",b);_.X5(a,b,()=>{a.isMulticontainer$.next(Dli(b))})};vmi=function(a){a.lazyTabs.some(b=>!b.initialized)||a.initialized.emit()};
xmi=function(a,b){a.form.setControl("volumes",b);_.X5(a,b,()=>{a.hasNonSecretVolumes$.next(lmi(b));a.volumes$.next(kmi(b))})};Fni=function(a,b){a.form.setControl("executionEnvironment",b);_.X5(a,b,()=>{a.executionEnvironment$.next(b.value)})};
_.epi=class extends _.W5{set cpuThrottling(a){this.cpuThrottling$.next(a)}constructor(a,b){super(b);this.revisionFormTabSwitchService=a;this.CONSOLE__RUN_DOCS_USING_GCP_SERVICES_CONNECTING_TO_SERVICES_IN_CODE=woi;this.CONSOLE__RUN_DOCS_REFERENCE_YAML_V1=voi;this.form=this.formBuilder.group({});this.serviceAccounts=[];this.serviceName=this.targetRegion="";this.maxInstancesQuotaLimit=0;this.isVisible=!0;this.mode=1;this.projectNumber="";this.initialized=new _.jl;this.shouldDisableGcloudEquivalent=new _.jl;
this.sandboxLimitsChanged=new _.jl;this.confidentialComputingEnabled=_.zc(_.q0h);this.cloudRunMulticontainerMvpCreateServiceBannerEnabled=_.zc(_.cki);this.multicontainersCreateEditEnabled=_.zc(_.fbi);this.serviceCreationMinInstancesConfigEnabled=_.zc(_.Hji);this.cloudRunApiName="run.googleapis.com";this.demoContainer="us-docker.pkg.dev/cloudrun/container/hello";this.serviceAccount$=new _.zg("");this.memory$=new _.zg;this.cpu$=new _.zg;this.cpuThrottling$=new _.zg;this.executionEnvironment$=new _.zg;
this.volumes$=new _.zg([]);this.envVars$=new _.zg(_.P0h);this.containerPort$=new _.zg(8080);this.isMulticontainer$=new _.zg(!1);this.hasNonSecretVolumes$=new _.zg(!1);this.lazyTabPreloadTimeout=5E3;this.forceLazyTabInit$=_.re(5E3).pipe(_.af(!0),_.pf(!1))}initForm(){_.$d([this.isMulticontainer$,this.hasNonSecretVolumes$]).pipe(_.B(this.destroyed$)).subscribe(()=>{this.shouldDisableGcloudEquivalent.emit(this.isMulticontainer$.value||this.hasNonSecretVolumes$.value)})}ngAfterViewInit(){this.revisionFormTabSwitchService.tabSwitchSubject.pipe(_.B(this.destroyed$)).subscribe(a=>
{this.tabGroup.selectedIndex=a})}onSandboxLimitsChanged(a){this.cpu$.next(a.cpuMillis);this.memory$.next(a.memoryMiBs);this.sandboxLimitsChanged.emit(a)}onMemoryCpuInputFormReady(a){this.form.setControl("memoryAndCpu",a);_.X5(this,a,()=>{var e=_.L6(a);this.memory$.next(_.s6(e.memory));var f;let g;var l=this.cpu$,p=l.next;e=e.cpuMillis;var r=null!=(g=null==(f=this.initialRevision)?void 0:f.containers)?g:[];f=Hli(r);p.call(l,e+f.cpuMillis)});let b,c;const d=Ili(this.form,null!=(c=null==(b=this.initialRevision)?
void 0:b.containers)?c:[]);null!==d&&(this.sandboxMemoryAndCpuValidator=d,this.form.addValidators(d))}onContainerPortFormReady(a){this.form.setControl("containerPort",a);_.X5(this,a,()=>{this.containerPort$.next(a.valid?Number(a.value):8080)})}onEnvVarFormReady(a){this.form.setControl("envVars",a);_.X5(this,a,()=>{this.envVars$.next(_.Yci(a))})}onServiceAccountPickerFormReady(a){this.form.setControl("serviceAccount",a);_.X5(this,a,()=>{this.serviceAccount$.next(a.value)})}onCpuAllocationAndPricingFormReady(a){this.form.setControl("cpuThrottling",
a);_.X5(this,a,()=>{this.cpuThrottling$.next(_.jli(a))})}areControlsValid(a){for(const b of a)if((a=this.form.controls[b])&&a.invalid&&a.touched)return!1;return!0}isSecurityTabValid(){return this.areControlsValid(["serviceAccount","binauthz","cmek","confidentialComputing"])}get isDeployRevisionMode(){return 1===this.mode}get isCreateServiceMode(){return 0===this.mode}get isMulticontainer(){if(this.multicontainersCreateEditEnabled)return this.isMulticontainer$.value;let a,b,c;return 1<(null!=(c=null==
(a=this.initialRevision)?void 0:null==(b=a.containers)?void 0:b.length)?c:0)}get shouldDisplayMulticontainersMessage(){return this.isDeployRevisionMode&&this.isMulticontainer}};_.epi.\u0275fac=function(a){return new (a||_.epi)(_.A(_.$6),_.A(_.Fu))};
_.epi.\u0275cmp=_.m({type:_.epi,selectors:[["revision-form"]],viewQuery:function(a,b){a&1&&(_.Xf(_.Zq,5),_.Xf(dpi,5),_.Xf(_.fki,5));if(a&2){let c;_.Zf(c=_.$f())&&(b.tabGroup=c.first);_.Zf(c=_.$f())&&(b.serviceAccountPicker=c.first);_.Zf(c=_.$f())&&(b.lazyTabs=c)}},inputs:{initialServiceAccount:"initialServiceAccount",initialRevision:"initialRevision",initialBinAuthzPolicy:"initialBinAuthzPolicy",deploymentConfig:"deploymentConfig",serviceAccounts:"serviceAccounts",targetRegion:"targetRegion",serviceName:"serviceName",
sqlInstancesFromProject:"sqlInstancesFromProject",maxInstancesQuotaLimit:"maxInstancesQuotaLimit",isVisible:"isVisible",cpuThrottling:"cpuThrottling",mode:"mode",projectNumber:"projectNumber"},outputs:{initialized:"initialized",shouldDisableGcloudEquivalent:"shouldDisableGcloudEquivalent",sandboxLimitsChanged:"sandboxLimitsChanged"},features:[_.Bf],decls:57,vars:12,consts:()=>[["containerPortTmpl",""],["containerCommandTmpl",""],["containerArgsTmpl",""],["startupCpuBoostTmpl",""],["cpuAllocationAndPricingTmpl",
""],["sandboxCpuAndMemoryErrorsTmpl",""],["memoryCpuAllocatedTmpl",""],["maximumRequestsTmpl",""],["requestTimeoutTmpl",""],["serviceAccountTmpl",""],["vpcTmpl",""],["binauthzTmpl",""],["cmekTmpl",""],["confidentialComputingTmpl",""],["http2Tmpl",""],["affinityTmpl",""],["executionEnvironmentTmpl",""],["autoscalingTmpl",""],["healthChecksTmpl",""],["envVarsTmpl",""],["secretsTmpl",""],["sqlTmpl",""],["multicontainersMessage",""],["serviceAccountPicker",""],["formList",""]," Requests "," General ",
" Capacity "," For adding more containers, use YAML based deployment. \ufffd#4\ufffd See Cloud Run YAML reference \ufffd/#4\ufffd"," Dismiss "," This service has multiple containers. Deploying a new revision with Cloud Console updates only the ingress container. To update side containers, use YAML or API. "," Connect to other Google Cloud services like Google Cloud Storage or Google Cloud Firestore directly from your code. \ufffd#3\ufffd Learn more \ufffd/#3\ufffd"," The sum of the CPUs for all containers is \ufffd0\ufffd. \ufffd#2\ufffd\ufffd/#2\ufffd Total CPUs cannot exceed \ufffd1\ufffd. ",
" The sum of the CPUs for all containers is \ufffd0\ufffd. "," Second generation execution environment requires a minimum of \ufffd0\ufffd CPU. "," Always-on CPU requires a minimum of \ufffd0\ufffd CPU. "," The sum of the memory for all containers is \ufffd0\ufffd Mi. "," Second generation execution environment requires a minimum of \ufffd0\ufffd Mi. "," Always-on CPU requires a minimum of \ufffd0\ufffd Mi. ",["bindParentFormSubmitEvent","",3,"formGroup"],["width","fit-content"],["instrumentation-id",
"revision-form-tabs"],["label","Container(s)",4,"ngIf"],["label","Volumes",4,"ngIf"],["label","Container",4,"ngIf"],["label","Networking"],[3,"lazyTabInit","lazyTab","lazyTabPreloadTimeout"],["label","Security"],["label","Container(s)"],[3,"forceShowErrorIcon"],[3,"sandboxLimitsChanged","formReady","initialContainers","deploymentConfig","gcbTriggerLocator","cpuThrottling","executionEnvironment","volumes","isCreateServiceMode"],[1,"cfc-text-title-4","cfc-space-below-minus-2"],[4,"ngTemplateOutlet"],
["label","Volumes"],[3,"formReady","initialVolumes","serviceAccount","projectNumber"],["label","Container"],[4,"ngIf"],["type","informational",4,"ngIf"],[3,"initialContainerImage","cloudBuildSetup","gcbTriggerLocator","isContainerSampleTestButtonEnabled","demoContainer","howToDocHref","formReady",4,"ngIf"],["cfcMessageTabernaStateSync","CloudRunMulticontainerMVPCreateServiceMessage","class","cfc-space-above-base",4,"ngIf"],["cfcMessageTabernaStateSync","CloudRunMulticontainerMVPCreateServiceMessage",
1,"cfc-space-above-base"],["id","p6ntest-cloud-run-yaml-documentation-link",3,"cfcDocLink"],["mat-button","","color","primary",3,"click"],["type","informational"],[3,"formReady","initialContainerImage","cloudBuildSetup","gcbTriggerLocator","isContainerSampleTestButtonEnabled","demoContainer","howToDocHref"],[1,"cfc-space-above-minus-2"],["aria-label","Learn more about connecting to Cloud Run services",3,"cfcDocLink"],[1,"cfc-space-above-base"],[3,"formReady","initialContainerPort"],[3,"formReady",
"initialContainerCommands"],[3,"formReady","initialContainerArgs"],[3,"formReady","initialStartupCpuBoostEnabled"],[3,"initialCpuThrottling","formReady",4,"ngIf"],[3,"formReady","initialCpuThrottling"],[3,"control",4,"ngIf"],[3,"control"],[3,"formReady","initialMemoryMib","initialMemory","initialCpuMillis","cpuThrottling","executionEnvironment","isMulticontainer"],[3,"formReady","initialContainerConcurrency","cpu","isMulticontainer"],[3,"formReady","showTriggersRequestTimeoutWarning","initialTimeoutSeconds"],
["hintsFor","revision",3,"formReady","initialServiceAccount","serviceAccounts","newNamePlaceholder"],["resourceTypeName","service",3,"formReady","initialVpcSettings","targetRegion"],[3,"formReady","initialBinAuthzPolicy"],[3,"formReady","targetRegion","initialEncryptionKeySettings","showPostKeyRevocationAction"],[3,"formReady","targetRegion","initialConfidentialComputing"],[1,"cfc-space-above-minus-1"],[3,"formReady","initialHttp2Enabled"],[3,"formReady","initialSessionAffinityEnabled"],[3,"formReady",
"initialExecutionEnvironment"],[3,"initialMinScale","initialMaxScale","memory","cpu","quotaLimit","formReady",4,"ngIf"],[3,"formReady","initialMinScale","initialMaxScale","memory","cpu","quotaLimit"],[1,"cfc-space-below-base",3,"formReady","showButtonControls","initialHealthChecks","containerPort","isCreateServiceMode"],[3,"formReady","initialEnvVars"],[3,"formReady","initialAttachedConfigs","serviceAccount","envVars","apiName"],["hintsFor","revision",3,"formReady","sqlInstancesFromProject","initialSqlInstances"]],
template:function(a,b){if(a&1){const c=_.n();_.K(0,39);_.G(1,"cfc-column-layout")(2,"cfc-main-column",40)(3,"mat-tab-group",41);_.E(4,wmi,3,4,"mat-tab",42)(5,Bmi,3,4,"mat-tab",43)(6,Wmi,3,4,"mat-tab",44);_.G(7,"mat-tab",45);_.E(8,$mi,7,5,"ng-template",46);_.S(9,"nonNullAsync");_.O("lazyTabInit",function(){_.q(c);return _.u(vmi(b))});_.I();_.G(10,"mat-tab",47);_.E(11,eni,6,5,"ng-template",46);_.S(12,"nonNullAsync");_.O("lazyTabInit",function(){_.q(c);return _.u(vmi(b))});_.I()();_.E(13,fni,1,1,"ng-template",
null,0,_.ig)(15,gni,1,1,"ng-template",null,1,_.ig)(17,hni,1,1,"ng-template",null,2,_.ig)(19,ini,1,1,"ng-template",null,3,_.ig)(21,kni,1,1,"ng-template",null,4,_.ig)(23,sni,3,3,"ng-template",null,5,_.ig)(25,tni,4,10,"ng-template",null,6,_.ig)(27,uni,2,5,"ng-template",null,7,_.ig)(29,vni,1,2,"ng-template",null,8,_.ig)(31,wni,2,3,"ng-template",null,9,_.ig)(33,xni,1,2,"ng-template",null,10,_.ig)(35,zni,1,1,"ng-template",null,11,_.ig)(37,Ani,1,3,"ng-template",null,12,_.ig)(39,Cni,1,1,"ng-template",null,
13,_.ig)(41,Dni,2,1,"ng-template",null,14,_.ig)(43,Eni,1,1,"ng-template",null,15,_.ig)(45,Gni,1,1,"ng-template",null,16,_.ig)(47,Ini,1,1,"ng-template",null,17,_.ig)(49,Jni,2,6,"ng-template",null,18,_.ig)(51,Kni,1,1,"ng-template",null,19,_.ig)(53,Lni,5,8,"ng-template",null,20,_.ig)(55,Mni,1,2,"ng-template",null,21,_.ig);_.I()();_.L()}a&2&&(_.F("formGroup",b.form),_.z(4),_.F("ngIf",b.multicontainersCreateEditEnabled),_.z(),_.F("ngIf",b.multicontainersCreateEditEnabled),_.z(),_.F("ngIf",!b.multicontainersCreateEditEnabled),
_.z(2),_.F("lazyTab",_.U(9,8,b.forceLazyTabInit$))("lazyTabPreloadTimeout",b.lazyTabPreloadTimeout),_.z(3),_.F("lazyTab",_.U(12,10,b.forceLazyTabInit$))("lazyTabPreloadTimeout",b.lazyTabPreloadTimeout))},dependencies:[_.Poi,_.dt,_.Bgi,_.Qu,_.Lp,_.Pu,_.gy,_.yA,_.Yq,_.Zq,_.xA,_.Vfi,_.Bl,_.Fl,_.Mji,_.Sfi,_.Y5,_.A6,_.Nji,_.M6,_.Zii,Voi,_.Kji,_.u6,_.vt,_.Z5,_.Pji,_.vE,_.nji,_.Qji,_.fki,_.vbi,_.Vo,_.Lu,_.Wo,_.cdi,_.Ky,_.ru,Yoi,_.wgi,_.Tji,_.ygi,_.Uji,_.M0,_.O0,_.ufi,cpi,_.rgi,_.S5],encapsulation:2,changeDetection:0});
var gpi=class{constructor(a){this.orgPolicyService=a;this.isCheckOrgPolicyMigrationEnabled=_.zc(_.rxd)}isEnforced(a,b,c){return fpi.has(c)&&!this.isCheckOrgPolicyMigrationEnabled?this.orgPolicyService.getEffectivePolicy(a,b,c).pipe(_.y(d=>_.Xwd(d))):this.orgPolicyService.isEnforced(a,b,c)}isAllowedValue(a,b,c,d,e=!1){return fpi.has(c)&&!e?this.orgPolicyService.getEffectivePolicy(a,b,c).pipe(_.y(f=>_.Zwd(d,f))):this.orgPolicyService.isAllowedValue(a,b,c,d,e)}getAllowedValues(a,b,c,d){return fpi.has(c)&&
!this.isCheckOrgPolicyMigrationEnabled?this.orgPolicyService.getEffectivePolicy(a,b,c).pipe(_.y(e=>_.$wd(d,e))):this.orgPolicyService.getAllowedValues(a,b,c,d)}getEffectivePolicy(a,b,c){return this.orgPolicyService.getEffectivePolicy(a,b,c)}listAvailableOrgPolicyConstraints(a,b,c){return this.orgPolicyService.listAvailableOrgPolicyConstraints(a,b,c)}};gpi.\u0275fac=function(a){return new (a||gpi)(_.k(_.eP,4))};gpi.\u0275prov=_.h({token:gpi,factory:gpi.\u0275fac});
var fpi=new Set(["constraints/gcp.resourceLocations","constraints/iam.disableCrossProjectServiceAccountUsage","constraints/run.allowedBinaryAuthorizationPolicies","constraints/run.allowedIngress","constraints/run.allowedVPCEgress"]);_.hpi=class{};_.hpi.\u0275fac=function(a){return new (a||_.hpi)};_.hpi.\u0275mod=_.ed({type:_.hpi});_.hpi.\u0275inj=_.Qc({providers:[{provide:_.eP,useClass:gpi}]});_.ipi=class{constructor(a){this.embeddedToolsService=a;this.dl={CONSOLE__RUN_DOCS_DEPLOYING_COMMAND_LINE:uoi};this.subTaskConfiguration={width:768};this.ve={ServerlessRunEquivalentCommandLineButton:101792};this.description=this.command="";this.equivalentGcloudClosed=new _.jl}cancel(){this.equivalentGcloudClosed.emit(!0)}formatShellCommand(a){return a.split("\\\n").join("CLOUDSHELL_LINE_BREAK")}executeInDevShell(a){this.embeddedToolsService.openCloudShellAndEnterCommand(this.formatShellCommand(a));
this.cancel()}};_.ipi.\u0275fac=function(a){return new (a||_.ipi)(_.A(_.mI))};
_.ipi.\u0275cmp=_.m({type:_.ipi,selectors:[["equivalent-gcloud-subtask"]],hostAttrs:[1,"cfc-flex-layout-column"],inputs:{command:"command",description:"description"},outputs:{equivalentGcloudClosed:"equivalentGcloudClosed"},decls:9,vars:3,consts:()=>[" Cancel "," \ufffd0\ufffd \ufffd#3\ufffd Learn more \ufffd/#3\ufffd about deploying a service using the command line. "," Run in Cloud Shell ",["id","cloud-run-equivalent-gcloud-subtask-action-bar","cfcTitle","Equivalent command line",3,"titleHeadingNumber"],
[1,"cfc-action-bar-content-right"],["navType","close",3,"onClose"],[4,"ngIf"],[3,"disableSticky"],[1,"cfc-align-left"],["mat-button","","type","button",3,"click"],["aria-label","Learn more about Cloud Run gcloud run deploy command",3,"cfcDocLink"],["cfc-code-snippet-shell",""],[1,"cfc-align-right"],["mat-button","","color","primary","type","button",3,"click","ve","veClick"]],template:function(a,b){a&1&&(_.G(0,"cfc-action-bar",3)(1,"div",4)(2,"cfc-navigation-button",5),_.O("onClose",function(){return b.cancel()}),
_.I()()(),_.G(3,"cfc-panel-body"),_.E(4,Pni,9,5,"div",6),_.I(),_.G(5,"cfc-panel-footer",7)(6,"div",8)(7,"button",9),_.O("click",function(){return b.cancel()}),_.N(8,0),_.I()()());a&2&&(_.F("titleHeadingNumber",2),_.z(4),_.F("ngIf",b.command),_.z(),_.F("disableSticky",!0))},dependencies:[_.ZC,_.dt,_.at,_.F6,_.Bl,_.vt,_.Qu,_.Lp,_.Pu,_.zI,_.Yo,_.GD],encapsulation:2});var jpi=class{constructor(){this.launchStage=1}isUsed(a){return"DIRECT_VPC"===a.vpcSettings.type}},kpi=class{constructor(){this.launchStage=1}isUsed(a){return a.volumes.some(b=>"inMemoryVolume"===b.typeSpecificDetails)}},lpi=class{constructor(){this.launchStage=1}isUsed(a){return 1<a.containers.length}},Qni=[new jpi,new kpi,new lpi];_.mpi=class{};_.mpi.\u0275fac=function(a){return new (a||_.mpi)};_.mpi.\u0275mod=_.ed({type:_.mpi});_.mpi.\u0275inj=_.Qc({imports:[_.aD,_.et,_.G6,_.Hl,_.iA,_.Uu,_.AI,_.yD]});var npi;npi=[_.Hl,_.QD,_.iA,_.dA,_.ry,_.yy,_.Iu,_.dw];_.opi=class{};_.opi.\u0275fac=function(a){return new (a||_.opi)};_.opi.\u0275mod=_.ed({type:_.opi});_.opi.\u0275inj=_.Qc({imports:[npi]});_.ppi=class{};_.ppi.\u0275fac=function(a){return new (a||_.ppi)};_.ppi.\u0275mod=_.ed({type:_.ppi});_.ppi.\u0275inj=_.Qc({imports:[_.Hl,_.iA,_.Hu,_.dA,_.Uu,_.Az,_.Iu]});var qpi=class{};qpi.\u0275fac=function(a){return new (a||qpi)};qpi.\u0275mod=_.ed({type:qpi});qpi.\u0275inj=_.Qc({imports:[_.Yv,_.Hl,_.Pz,_.Hu,_.ox,_.Iu]});var rpi=class{};rpi.\u0275fac=function(a){return new (a||rpi)};rpi.\u0275mod=_.ed({type:rpi});rpi.\u0275inj=_.Qc({imports:[_.Hl,_.QD,_.iA,_.Hu,_.WE,_.dA,_.ry,_.yy,_.ep,_.Iu,_.dw]});var spi=class{};spi.\u0275fac=function(a){return new (a||spi)};spi.\u0275mod=_.ed({type:spi});spi.\u0275inj=_.Qc({imports:[_.Hl,_.QD,_.Hu,_.WE,_.dA,_.ry,_.yy,_.ep,_.Iu,_.dw]});var tpi=class{};tpi.\u0275fac=function(a){return new (a||tpi)};tpi.\u0275mod=_.ed({type:tpi});tpi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ry,_.yy,_.Hl,_.QD,_.dp,_.Iu,_.ww]});var upi=class{};upi.\u0275fac=function(a){return new (a||upi)};upi.\u0275mod=_.ed({type:upi});upi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ry,_.Hl,_.iA,_.dA,_.Iu,_.NA]});var vpi=class{};vpi.\u0275fac=function(a){return new (a||vpi)};vpi.\u0275mod=_.ed({type:vpi});vpi.\u0275inj=_.Qc({imports:[_.aD,_.et,_.Uu,_.ox,_.ry,_.yy,_.Hl,_.QD,_.iA,_.wE,_.WE,_.dH,_.gH,_.Zt,_.AI,_.yD,_.Iu,_.NA,_.ED]});var wpi=class{};wpi.\u0275fac=function(a){return new (a||wpi)};wpi.\u0275mod=_.ed({type:wpi});wpi.\u0275inj=_.Qc({imports:[_.Hl,vpi,_.rF,_.yD]});var xpi=class{};xpi.\u0275fac=function(a){return new (a||xpi)};xpi.\u0275mod=_.ed({type:xpi});xpi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.Hl,_.Pz,_.iA,_.iki,wpi,_.dA,_.dp,_.Iu]});var ypi=[_.Hl,_.I6,_.R6,tpi,upi,xpi,_.S6],zpi=class{};zpi.\u0275fac=function(a){return new (a||zpi)};zpi.\u0275mod=_.ed({type:zpi});zpi.\u0275inj=_.Qc({imports:[ypi]});var Api=[_.J6,_.Iu],Bpi=class{};Bpi.\u0275fac=function(a){return new (a||Bpi)};Bpi.\u0275mod=_.ed({type:Bpi});Bpi.\u0275inj=_.Qc({imports:[Api]});var Cpi=class{};Cpi.\u0275fac=function(a){return new (a||Cpi)};Cpi.\u0275mod=_.ed({type:Cpi});Cpi.\u0275inj=_.Qc({imports:[_.et,_.ry,_.Hl,_.QD,_.V5,_.adi,_.WE,_.iV,_.ep,_.Iu,_.P6,_.NA,_.I0]});var Dpi=[Bpi,Cpi],Epi=class{};Epi.\u0275fac=function(a){return new (a||Epi)};Epi.\u0275mod=_.ed({type:Epi});Epi.\u0275inj=_.Qc({imports:[Dpi]});var Fpi=class{};Fpi.\u0275fac=function(a){return new (a||Fpi)};Fpi.\u0275mod=_.ed({type:Fpi});Fpi.\u0275inj=_.Qc({imports:[_.Hl,_.dA,_.I0,_.SB,_.QB]});var Gpi=[_.et,_.Uu,_.ry,_.yy,_.Hl,_.QD,_.V5,_.WE,_.iV,_.ep,_.Iu,Fpi,_.NA],Hpi=class{};Hpi.\u0275fac=function(a){return new (a||Hpi)};Hpi.\u0275mod=_.ed({type:Hpi});Hpi.\u0275inj=_.Qc({imports:[Gpi]});var Ipi=class{};Ipi.\u0275fac=function(a){return new (a||Ipi)};Ipi.\u0275mod=_.ed({type:Ipi});Ipi.\u0275inj=_.Qc({});var Jpi=[Ipi,_.Hl],Kpi=class{};Kpi.\u0275fac=function(a){return new (a||Kpi)};Kpi.\u0275mod=_.ed({type:Kpi});Kpi.\u0275inj=_.Qc({imports:[Jpi]});var Lpi=[_.et,_.Bx,_.Hl,_.Q6,tpi,spi,zpi,Epi,_.V5,Kpi,_.T5,_.Iu,_.O6,Hpi],Mpi=class{};Mpi.\u0275fac=function(a){return new (a||Mpi)};Mpi.\u0275mod=_.ed({type:Mpi});Mpi.\u0275inj=_.Qc({imports:[Lpi]});var Npi=[_.Hl],Opi=class{};Opi.\u0275fac=function(a){return new (a||Opi)};Opi.\u0275mod=_.ed({type:Opi});Opi.\u0275inj=_.Qc({imports:[Npi]});var Ppi=[_.et,_.Hl,Mpi,Opi,_.V5,_.wE,_.oV,_.T5,_.Iu],Qpi=class{};Qpi.\u0275fac=function(a){return new (a||Qpi)};Qpi.\u0275mod=_.ed({type:Qpi});Qpi.\u0275inj=_.Qc({imports:[Ppi]});var Rpi=class{};Rpi.\u0275fac=function(a){return new (a||Rpi)};Rpi.\u0275mod=_.ed({type:Rpi});Rpi.\u0275inj=_.Qc({imports:[_.et,_.Yv,_.Hl,_.iA,_.Az,_.ry,_.Iu]});var Spi=class{};Spi.\u0275fac=function(a){return new (a||Spi)};Spi.\u0275mod=_.ed({type:Spi});Spi.\u0275inj=_.Qc({imports:[_.Hl,_.iA,_.Hu,_.ox,_.Iu]});var Tpi=class{};Tpi.\u0275fac=function(a){return new (a||Tpi)};Tpi.\u0275mod=_.ed({type:Tpi});Tpi.\u0275inj=_.Qc({imports:[_.Hl,_.QD,_.Hu,_.WE,_.dA,_.ry,_.yy,_.ep,_.T5,_.Iu,_.dw]});var Upi=class{};Upi.\u0275fac=function(a){return new (a||Upi)};Upi.\u0275mod=_.ed({type:Upi});Upi.\u0275inj=_.Qc({imports:[_.Yv,_.Hl,_.ox,_.Iu]});var Vpi=class{};Vpi.\u0275fac=function(a){return new (a||Vpi)};Vpi.\u0275mod=_.ed({type:Vpi});Vpi.\u0275inj=_.Qc({imports:[_.Yv,_.Hl,_.iA,_.ox,_.Iu]});var Wpi=[_.et,_.ry,_.yy,_.QD,_.Iu],Xpi=class{};Xpi.\u0275fac=function(a){return new (a||Xpi)};Xpi.\u0275mod=_.ed({type:Xpi});Xpi.\u0275inj=_.Qc({imports:[Wpi]});var Ypi=class{};Ypi.\u0275fac=function(a){return new (a||Ypi)};Ypi.\u0275mod=_.ed({type:Ypi});Ypi.\u0275inj=_.Qc({imports:[_.et,_.ry,_.yy,_.Hl,_.QD,_.V5,_.WE,_.Iu,_.P6,_.Fgi,_.NA]});var Zpi=class{};Zpi.\u0275fac=function(a){return new (a||Zpi)};Zpi.\u0275mod=_.ed({type:Zpi});Zpi.\u0275inj=_.Qc({imports:[_.et,_.Uu,_.ry,_.yy,_.QD,_.V5,_.Xji,Xpi,_.ep,_.Iu,Ypi,_.NA]});var $pi=[_.Hl],aqi=class{};aqi.\u0275fac=function(a){return new (a||aqi)};aqi.\u0275mod=_.ed({type:aqi});aqi.\u0275inj=_.Qc({imports:[$pi]});var bqi=[_.Hl,_.V5,_.oV,_.Iu,_.I0,Zpi,aqi],cqi=class{};cqi.\u0275fac=function(a){return new (a||cqi)};cqi.\u0275mod=_.ed({type:cqi});cqi.\u0275inj=_.Qc({imports:[bqi]});var dqi;dqi=[_.opi,_.et,_.Hgi,_.Uu,_.ry,_.Bx,_.Igi,_.Hl,qpi,_.Ggi,_.I6,_.R6,rpi,_.Q6,spi,Qpi,_.ppi,_.V5,_.iA,_.J6,Rpi,_.wE,xpi,Spi,_.gki,_.S6,_.ep,_.K6,_.T5,_.Iu,Tpi,_.Kgi,Upi,_.Lgi,Vpi,_.s5,_.O6,cqi,_.Vgi];_.eqi=class{};_.eqi.\u0275fac=function(a){return new (a||_.eqi)};_.eqi.\u0275mod=_.ed({type:_.eqi});_.eqi.\u0275inj=_.Qc({imports:[dqi]});
}catch(e){_._DumpException(e)}
try{
_.hwi=function(a,b,c,d){return b.includes("all")&&!c?a.confirmDialogService.confirmation({header:"Warning",body:_.Jy("Removing the VPC from this {resourceTypeName} will make all outgoing traffic go through the public Internet. Are you sure you want to remove it?",{resourceTypeName:d}),confirmButtonText:"service"===d?"Remove VPC and deploy":"Remove VPC and update"}):_.w({confirmed:!0})};_.iwi=class{constructor(a){this.confirmDialogService=a}};_.iwi.\u0275fac=function(a){return new (a||_.iwi)(_.k(_.iD))};
_.iwi.\u0275prov=_.h({token:_.iwi,factory:_.iwi.\u0275fac,providedIn:"root"});
}catch(e){_._DumpException(e)}
try{
_.Ig("pm_serverless_deploy_revision_view");
var lwi=function(a){return a.some(b=>"secretVolume"!==b.typeSpecificDetails)},mwi=function(a){let b,c,d,e,f,g,l;var p=a.vpcSettings;if(null==p?0:p.vpcConnector)var r={type:"VPC_CONNECTOR",connector:p.vpcConnector.fullName,accessEgress:p.vpcAccessEgress};else if(null==p?0:p.directVpc){let t,v;r={type:"DIRECT_VPC",directVpc:null!=(v=null==(t=p.directVpc)?void 0:t.vpcNetworkInterfaces)?v:[],accessEgress:p.vpcAccessEgress}}else r={type:"NONE"};return{containerImage:a.containerImage||_.a7.containerImage,
containerPort:a.containerPort||_.a7.containerPort,containerCommands:a.containerCommands||_.a7.containerCommands,containerArgs:a.containerArgs||_.a7.containerArgs,containers:a.containersList||_.a7.containers,cpuThrottling:a.cpuThrottling||_.a7.cpuThrottling,memory:a.memory||_.a7.memory,cpuMillis:a.maxCpuMillis||_.a7.cpuMillis,timeoutSeconds:a.timeoutSeconds||_.a7.timeoutSeconds,containerConcurrency:a.concurrency||_.a7.containerConcurrency,executionEnvironment:a.executionEnvironment||_.a7.executionEnvironment,
autoscaling:{minScale:a.autoscaleMinScale||_.a7.autoscaling.minScale,maxScale:a.autoscaleMaxScale||_.a7.autoscaling.maxScale},envVars:a.envVar||_.a7.envVars,secrets:a.attachedSecrets||_.a7.secrets,http2Enabled:a.http2ConnectionsEnabled||_.a7.http2Enabled,sqlInstances:a.sqlInstances||_.a7.sqlInstances,vpcSettings:r,serviceAccount:(null==(b=a.defaultServiceAccount)?void 0:b.name)||_.a7.serviceAccount,binAuthzPolicy:_.a7.binAuthzPolicy,cmek:(null==(c=a.encryptionKeySettings)?0:c.key)?{key:null==(d=a.encryptionKeySettings)?
void 0:d.key,postKeyRevocationAction:null==(e=a.encryptionKeySettings)?void 0:e.postKeyRevocationAction,shutdownHours:null==(f=a.encryptionKeySettings)?void 0:f.shutdownHours}:_.a7.cmek,confidentialComputing:a.confidentialComputing||_.a7.confidentialComputing,sessionAffinityEnabled:a.sessionAffinityEnabled||_.a7.sessionAffinityEnabled,startupCpuBoost:a.startupCpuBoost||_.a7.startupCpuBoost,healthChecks:a.healthCheckProbes?{startupProbe:null==(g=a.healthCheckProbes)?void 0:g.startupProbe,livenessProbe:null==
(l=a.healthCheckProbes)?void 0:l.livenessProbe}:_.a7.healthChecks,volumes:a.volumesList?_.ymi(a.volumesList):_.a7.volumes,runtime:_.a7.runtime}},nwi=function(a){if(a&1){const b=_.n();_.G(0,"equivalent-gcloud-subtask",25);_.O("equivalentGcloudClosed",function(){_.q(b);const c=_.P();return _.u(c.onEquivalentGcloudClosed())});_.I()}a&2&&(a=_.P(),_.F("command",a.gcloudCommand))},owi=function(a){return"NONE"===a.type?"":a.accessEgress},pwi=function(a){a.multicontainersCreateEditEnabled?a.revisionFormTabSwitchService.tabSwitchSubject.next(3):
a.tabGroup.selectedIndex=2;setTimeout(()=>{a.serviceAccountPicker.createServiceAccountClicked()})},qwi=["serviceErrorHandler"],rwi=["equivalentGcloudSubtask"],swi=["revisionForm"],twi=["deployButton"],uwi=function(a){let b,c;_.hwi(a.vpcEgressChangeConfirmDialogService,null!=(c=null==(b=a.formData.vpcSettings)?void 0:b.vpcAccessEgress)?c:"",owi(a.revisionModel.vpcSettings),"service").pipe(_.B(a.destroyed$)).subscribe(d=>{d.confirmed&&a.deploy()})},vwi=function(a,b,c){409===b.status?a.confirmDialogService.confirmation({header:"Version conflict",
body:"The revision template was recently updated with changes conflicting with yours.",confirmButtonText:"Override"}).subscribe(d=>{d.confirmed&&a.deploy(!0)}):c&&_.yhi(a.cloudBuildErrorService,c,b)||a.serviceErrorHandler.handleError(b,"Failed to deploy a revision",c)},wwi=class extends _.W5{constructor(a,b,c,d,e,f,g,l,p,r,t,v,x){super(a);this.serverlessColiseumClient=b;this.concordReportingService=c;this.projectParamService=d;this.projectService=e;this.route=f;this.router=g;this.sharedDataService=
l;this.confirmDialogService=p;this.subtaskService=r;this.cloudBuildErrorService=t;this.recommendationsService=v;this.vpcEgressChangeConfirmDialogService=x;this.url=_.$3.create(this.route);this.deployingInProgress$=new _.zg(!1);this.redirectInProgress$=new _.zg(!1);this.formData=this.route.snapshot.data.formData;this.form=this.formBuilder.group({serveImmediately:this.formData.serveImmediately});this.initialRevisionIsMulticontainer=1<this.formData.containers.length;this.initialRevisionHasNonSecretVolumes=
lwi(this.formData.volumesList);this.shouldDisableGcloudEquivalent$=new _.zg(!this.initialRevisionIsMulticontainer&&!this.initialRevisionHasNonSecretVolumes);this.projectId=_.oq(this.projectParamService);this.projectNumber$=this.projectService.getProject(this.projectId).pipe(_.B(this.destroyed$),_.y(C=>{let D;return null!=(D=C.projectNumber)?D:""}));this.initialRevisionModel=mwi(this.formData);this.pageTitle="Deploy revision to "+this.serviceName+" ("+this.region+")";this.revisionFormInitialized$=
new _.zg(!1);this.shouldDisableDeployButton$=_.$d([this.redirectInProgress$,this.revisionFormInitialized$]).pipe(_.y(([C,D])=>C||!D));this.shouldDisableCancelButton$=_.$d([this.redirectInProgress$,this.deployingInProgress$]).pipe(_.y(([C,D])=>C||D));this.ve={ServerlessDeployRevisionFormShowCommandLineButton:101791};this.revisionFormMode=1;this.msgShowCommandLineLabel="Show command line";this.isShowCommandLineButtonClicked=!1;a=_.Zm(_.shi.create(this.route));this.revisionsLink=a.build();this.revisionsLinkQueryParams=
a.buildQueryParams();a=_.Zm(_.Z3.create(this.route));this.detailsLink=a.build();this.detailsLinkQueryParams=a.buildQueryParams()}ngAfterViewInit(){this.url.createServiceAccount.snapshot&&pwi(this.revisionForm)}get serviceName(){return this.url.name.snapshot}get region(){return this.url.region.snapshot}buildRequest(){const a=_.jki(this.revisionModel);return{serviceLocator:{projectId:_.oq(this.projectParamService),region:this.region,name:this.serviceName},revision:a,revisionMask:Object.keys(a).join(","),
serveImmediately:this.serveImmediatelyModel}}deploy(a=!1){this.form.markAllAsTouched();if(this.isShowCommandLineButtonClicked)this.isShowCommandLineButtonClicked=!1;else if(this.form.valid){var b=this.buildRequest();this.deployingInProgress$.next(!0);this.serverlessColiseumClient.deployRevision(Object.assign({},b,{force:a})).pipe(_.Ue(()=>{this.deployingInProgress$.next(!1)})).pipe(_.B(this.destroyed$)).subscribe({next:()=>{var c,d;let e,f,g,l,p,r;_.rhi(this.concordReportingService,"us-docker.pkg.dev/cloudrun/container/hello"===
(null!=(p=null==(c=b.revision)?void 0:null==(d=c.containers)?void 0:null==(e=d[0])?void 0:e.image)?p:b.revision.containerImage),this.serveImmediatelyModel,1<(null!=(r=null==(f=b.revision)?void 0:f.containers)?r:[]).length,!!(null==(g=b.revision)?0:null==(l=g.vpcSettings)?0:l.directVpc));let t;c=this.serveImmediatelyModel;d=null==(t=b.revision)?void 0:t.serviceAccountName;this.url.createServiceAccount.snapshot&&this.url.recommendationName.snapshot&&this.url.recommendationEtag.snapshot&&c&&(null==d||
!d.match(/.*-compute@developer.gserviceaccount.com/))&&_.Uwc(this.recommendationsService,"RECOMMENDATION","SUCCEEDED",this.url.recommendationName.snapshot,this.url.recommendationEtag.snapshot).subscribe();_.X6(this.sharedDataService,{showRoutingTrafficStep:this.serveImmediatelyModel});this.redirectInProgress$.next(!0);this.router.navigate(this.revisionsLink,{queryParams:this.revisionsLinkQueryParams})},error:c=>{vwi(this,c,b.serviceLocator)}})}else this.concordReportingService.formValidationError()}onShowCommandLineButtonClicked(){this.form.valid?
this.showEquivalentGcloudSubtask():this.showValidationErrors()}showEquivalentGcloudSubtask(){this.subtaskRef=this.subtaskService.open(this.equivalentGcloudSubtask,{})}showValidationErrors(){this.isShowCommandLineButtonClicked=!0;this.deployButton.nativeElement.click()}onEquivalentGcloudClosed(){this.subtaskRef&&this.subtaskRef.cancel()}get gcloudCommand(){return _.eoi({project:_.oq(this.projectParamService),region:this.region,serviceName:this.serviceName,initialRevision:this.initialRevisionModel,
currentRevision:this.revisionModel,additionalParam:"",initialServeImmediately:this.formData.serveImmediately,currentServeImmediately:this.serveImmediatelyModel})}get serveImmediatelyModel(){return this.form.controls.serveImmediately.value}get revisionModel(){return _.Oni(this.form.controls.revision)}onRevisionFormInitialized(){this.revisionFormInitialized$.next(!0)}};
wwi.\u0275fac=function(a){return new (a||wwi)(_.A(_.Fu),_.A(_.p7),_.A(_.N5),_.A(_.pq),_.A(_.Tq),_.A(_.yg),_.A(_.jm),_.A(_.Y6),_.A(_.iD),_.A(_.LD),_.A(_.Z6),_.A(_.zH),_.A(_.iwi))};
wwi.\u0275cmp=_.m({type:wwi,selectors:[["ng-component"]],viewQuery:function(a,b){a&1&&(_.Xf(qwi,5),_.Xf(rwi,5),_.Xf(swi,5),_.Xf(twi,5,_.Jd));if(a&2){let c;_.Zf(c=_.$f())&&(b.serviceErrorHandler=c.first);_.Zf(c=_.$f())&&(b.equivalentGcloudSubtask=c.first);_.Zf(c=_.$f())&&(b.revisionForm=c.first);_.Zf(c=_.$f())&&(b.deployButton=c.first)}},features:[_.Bf],decls:39,vars:38,consts:()=>[["revisionForm",""],["deployButton",""],["serviceErrorHandler",""],["equivalentGcloudSubtask",""]," \ufffd0\ufffd "," Every change to the service configuration creates an immutable revision. A revision consists of a specific container image, along with other environment settings. ",
" Serve this revision immediately "," 100% of the traffic will be migrated to this revision, overriding all existing traffic splits, if any. "," Deploy "," Cancel ",["id","deploy-revision-action-bar",3,"s8sPageSectionTitle","disableSectionTitleHeader","cfcTitle"],[1,"cfc-action-bar-content-left"],["navType","back","backAriaPageName","Service details page",3,"backLink","backLinkQueryParams","isDetailPage"],[1,"cfc-action-bar-content-right"],["cfcDisableTooltip","Command line not supported for multicontainer revision deployment\n                                 and usage of non secret volume types",
"mat-button","",3,"click","cmNativeDisabled","cfcDisable","ve","veClick"],["learnPanel","panels--run--deploy_revision"],[3,"ngSubmit","formGroup"],["width","fit-content"],[1,"cfc-space-below-minus-2","cfc-text-body"],[3,"formReady","initialized","shouldDisableGcloudEquivalent","initialServiceAccount","initialRevision","serviceAccounts","targetRegion","serviceName","sqlInstancesFromProject","maxInstancesQuotaLimit","mode","projectNumber"],["formControlName","serveImmediately",1,"cfc-space-above-minus-2"],
[1,"cfc-form-control-hint"],["message","Deploying\u2026",3,"inProgress"],["mat-raised-button","","color","primary","type","submit",3,"cmNativeDisabled"],["mat-button","","type","button",1,"mat-secondary",3,"cfcRouterLink","queryParams","cmNativeDisabled"],["description","This is the gcloud command line to deploy a revision with\n                                          the parameters you have modified.",3,"equivalentGcloudClosed","command"]],template:function(a,b){if(a&1){const c=_.n();_.G(0,"cfc-single-panel-layout")(1,
"cfc-action-bar",10)(2,"div",11);_.J(3,"cfc-navigation-button",12);_.I();_.G(4,"div",13)(5,"button",14);_.S(6,"nonNullAsync");_.S(7,"nonNullAsync");_.O("click",function(){_.q(c);return _.u(b.onShowCommandLineButtonClicked())});_.N(8,4);_.I();_.J(9,"serverless-learn-button",15);_.I()();_.G(10,"cfc-panel-body")(11,"form",16);_.O("ngSubmit",function(){_.q(c);return _.u(uwi(b))});_.J(12,"cfc-form-submission-error");_.G(13,"cfc-column-layout")(14,"cfc-main-column",17)(15,"div")(16,"div",18);_.N(17,5);
_.I()();_.G(18,"revision-form",19,0);_.S(20,"nonNullAsync");_.O("formReady",function(d){_.q(c);return _.u(b.form.setControl("revision",d))})("initialized",function(){_.q(c);return _.u(b.onRevisionFormInitialized())})("shouldDisableGcloudEquivalent",function(d){_.q(c);b.shouldDisableGcloudEquivalent$.next(b.initialRevisionIsMulticontainer||b.initialRevisionHasNonSecretVolumes||d);return _.u()});_.I();_.G(21,"mat-checkbox",20)(22,"div");_.N(23,6);_.I();_.G(24,"div",21);_.N(25,7);_.I()();_.G(26,"cfc-progress-button",
22);_.S(27,"nonNullAsync");_.G(28,"button",23,1);_.S(30,"nonNullAsync");_.N(31,8);_.I()();_.G(32,"button",24);_.S(33,"nonNullAsync");_.N(34,9);_.I()()()()()();_.J(35,"run-service-error-handler",null,2);_.E(37,nwi,1,1,"ng-template",null,3,_.ig)}a&2&&(_.z(),_.F("s8sPageSectionTitle",!0)("disableSectionTitleHeader",!0)("cfcTitle",b.pageTitle),_.z(2),_.F("backLink",b.detailsLink)("backLinkQueryParams",b.detailsLinkQueryParams)("isDetailPage",!0),_.z(2),_.F("cmNativeDisabled",_.U(6,26,b.shouldDisableDeployButton$))("cfcDisable",
_.U(7,28,b.shouldDisableGcloudEquivalent$))("ve",b.ve.ServerlessDeployRevisionFormShowCommandLineButton)("veClick",!0),_.z(3),_.Qf(b.msgShowCommandLineLabel),_.Rf(8),_.z(3),_.F("formGroup",b.form),_.z(7),_.F("initialServiceAccount",null==b.formData.defaultServiceAccount?null:b.formData.defaultServiceAccount.name)("initialRevision",b.formData)("serviceAccounts",b.formData.serviceAccounts)("targetRegion",b.region)("serviceName",b.serviceName)("sqlInstancesFromProject",b.formData.sqlInstances)("maxInstancesQuotaLimit",
b.formData.maxInstancesQuota)("mode",b.revisionFormMode)("projectNumber",_.U(20,30,b.projectNumber$)),_.z(8),_.F("inProgress",_.U(27,32,b.deployingInProgress$)),_.z(2),_.F("cmNativeDisabled",_.U(30,34,b.shouldDisableDeployButton$)),_.z(4),_.F("cfcRouterLink",b.detailsLink)("queryParams",b.detailsLinkQueryParams)("cmNativeDisabled",_.U(33,36,b.shouldDisableCancelButton$)))},dependencies:[_.ZC,_.dt,_.at,_.Gz,_.ipi,_.cH,_.Qu,_.Lp,_.Pu,_.lx,_.mx,_.ix,_.m7,_.zI,_.Yo,_.Dx,_.Ly,_.ly,_.Ky,_.ru,_.uu,_.epi,
_.Ix,_.e7,_.T6,_.CD,_.M0,_.O0,_.S5],encapsulation:2,changeDetection:0});var xwi=class{};xwi.\u0275fac=function(a){return new (a||xwi)};xwi.\u0275mod=_.ed({type:xwi,id:"pm_serverless_deploy_revision_view"});xwi.\u0275inj=_.Qc({providers:[{provide:_.qm,useValue:{DeployRevision:wwi}}],imports:[_.aD,_.et,_.Hl,_.Pz,_.mpi,_.dH,_.Uu,_.ox,_.n7,_.ep,_.AI,_.yD,_.T5,_.Rz,_.hpi,_.Iu,_.eqi,_.dw,_.f7,_.U6,_.ED,_.s5]});_.xf(xwi,"pm_serverless_deploy_revision_view");
_.Jg();
}catch(e){_._DumpException(e)}
}).call(this,this.default_r_utswmmf);
// Google Inc.
