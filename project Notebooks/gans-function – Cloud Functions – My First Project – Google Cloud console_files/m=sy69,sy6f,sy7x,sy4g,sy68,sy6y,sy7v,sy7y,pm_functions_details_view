"use strict";this.default_r_brihhbn=this.default_r_brihhbn||{};(function(_){var window=this;
try{
var gTd,hTd;_.fTd=function(a,b,c){var d=_.Jf(b)[14][0];d=_.Tpa(d,_.rg(b,5));return _.Spa(a,d,b,1,0,c)};gTd=function(){const a=_.cd(_.yg),b=a?a.location:null;return{getPathname:()=>b?b.pathname+b.search:""}};hTd=new _.nd("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");new _.nd("mat-progress-bar-location",{providedIn:"root",factory:gTd});
_.vT=class{constructor(a,b,c,d,e){this._elementRef=a;this._ngZone=b;this._changeDetectorRef=c;this._animationMode=d;this._isNoopAnimation=!1;this._defaultColor="primary";this._bufferValue=this._value=0;this.animationEnd=new _.Nk;this._mode="determinate";this._transitionendHandler=f=>{0!==this.animationEnd.observers.length&&f.target&&f.target.classList.contains("mdc-linear-progress__primary-bar")&&("determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value})))};
this._isNoopAnimation="NoopAnimations"===d;e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(a){this._color=a}get value(){return this._value}set value(a){this._value=Math.max(0,Math.min(100,a||0));this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(a){this._bufferValue=Math.max(0,Math.min(100,a||0));this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(a){this._mode=
a;this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===
this.mode||"query"===this.mode}};_.vT.\u0275fac=function(a){return new (a||_.vT)(_.A(_.Ld),_.A(_.we),_.A(_.Wk),_.A(_.Ek,8),_.A(hTd,8))};
_.vT.\u0275cmp=_.fd({type:_.vT,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(a,b){a&2&&(_.zf("aria-valuenow",b._isIndeterminate()?null:b.value)("mode",b.mode),_.Cf("mat-"+b.color),_.Bf("_mat-animation-noopable",b._isNoopAnimation)("mdc-linear-progress--animation-ready",!b._isNoopAnimation)("mdc-linear-progress--indeterminate",b._isIndeterminate()))},
inputs:{color:"color",value:[2,"value","value",_.jg],bufferValue:[2,"bufferValue","bufferValue",_.jg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[_.yf,_.bg],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden",
"true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(a,b){a&1&&(_.H(0,"div",0),_.J(1,"div",1)(2,"div",2),_.I(),_.H(3,"div",3),_.J(4,"span",4),_.I(),_.H(5,"div",5),_.J(6,"span",4),_.I());a&2&&(_.z(),_.Af("flex-basis",b._getBufferBarFlexBasis()),_.z(2),_.Af("transform",b._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}\n"],
encapsulation:2,changeDetection:0});_.wT=class{};_.wT.\u0275fac=function(a){return new (a||_.wT)};_.wT.\u0275mod=_.gd({type:_.wT});_.wT.\u0275inj=_.Rc({imports:[_.Kn]});
}catch(e){_._DumpException(e)}
try{
_.uT=class extends _.dTd{constructor(){super(...arguments);this.copyButtonLabel="Copy code"}};_.uT.\u0275fac=(()=>{let a;return function(b){return(a||(a=_.Kd(_.uT)))(b||_.uT)}})();
_.uT.\u0275cmp=_.fd({type:_.uT,selectors:[["","cfc-code-snippet-plain",""]],inputs:{copyButtonLabel:"copyButtonLabel"},features:[_.xf],attrs:["cfc-code-snippet-plain",""],ngContentSelectors:["*"],decls:8,vars:5,consts:[["transcludedContent",""],["content",""],[1,"cfc-code-snippet-plain",3,"ve"],[1,"cfc-code-snippet-plain-transcluded-content"],[1,"cfc-code-snippet-plain-content-container"],[1,"cfc-code-snippet-plain-content"],[3,"focusout","codeSnippet","ariaLabel"]],template:function(a,b){if(a&1){const c=
_.n();_.Of();_.H(0,"div",2)(1,"div",3,0);_.Pf(3);_.I();_.H(4,"div",4);_.J(5,"span",5,1);_.I();_.H(7,"cfc-code-snippet-copy",6);_.N("focusout",function(){_.p(c);_.ZBc();return _.r()});_.I()()}a&2&&(_.G("ve",b.ve.CfcCodeSnippetPlain),_.z(5),_.Bf("cfc-wrap-snippet-content",b.wrapLines),_.z(2),_.G("codeSnippet",b)("ariaLabel",b.copyButtonLabel))},dependencies:[_.aTd,_.Tr],styles:['[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]   .cfc-code-snippet-plain[_ngcontent-%COMP%]{background-color:var(--cm-sys-color-neutral-container, #fafafa);color:var(--cm-sys-color-on-surface, #000);font-family:"Roboto Mono",monospace;line-height:initial;padding-right:32px;position:relative;width:100%}.cm-md1   [_nghost-%COMP%]   .cfc-code-snippet-plain[_ngcontent-%COMP%]{background-color:#f7f7f7;color:inherit}.cm-gm2   [_nghost-%COMP%]   .cfc-code-snippet-plain[_ngcontent-%COMP%]{font:var(--cm-sys-type-code, 400 24px/32px "Roboto Mono", monospace)}[_nghost-%COMP%]   .cfc-code-snippet-plain-content[_ngcontent-%COMP%]{white-space:pre}[_nghost-%COMP%]   .cfc-code-snippet-plain-content.cfc-wrap-snippet-content[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .cfc-code-snippet-plain-content-container[_ngcontent-%COMP%]{overflow-x:auto;padding-left:8px;padding-top:8px;padding-bottom:8px;min-height:40px}'],
changeDetection:0});_.eTd=class{};_.eTd.\u0275fac=function(a){return new (a||_.eTd)};_.eTd.\u0275mod=_.gd({type:_.eTd});_.eTd.\u0275inj=_.Rc({imports:[_.kl,_.tT,_.Ur]});
}catch(e){_._DumpException(e)}
try{
_.B$=class{constructor(a,b){this.graphqlClient=a;this.dialogService=b;this.requestSucceeded=new _.hf}setupFunctionUpgradeConfig(a){var b=this.handleResponse;a=this.graphqlClient.config.request("SetupFunctionUpgradeConfig",'mutation SetupFunctionUpgradeConfig($functionName: String!) @Signature(bytes: "2/ZpYrWSEmdpAVDLwPsKXJzYJL3o0udeTr9efbu0dN2tg=") { upgrade(name: $functionName) { setupFunctionUpgradeConfig(name: $functionName) { _isPresent } } }',{functionName:a},void 0);return b.call(this,a)}abortFunctionUpgrade(a){var b=
this.handleResponse;a=this.graphqlClient.config.request("AbortFunctionUpgrade",'mutation AbortFunctionUpgrade($functionName: String!) @Signature(bytes: "2/Xgk78j4JTClDwO4S18PC4+sCczd2H4NEtrZLdf5sQ1g=") { upgrade(name: $functionName) { abortFunctionUpgrade(name: $functionName) { _isPresent } } }',{functionName:a},void 0);return b.call(this,a)}redirectFunctionUpgradeTraffic(a){var b=this.handleResponse;a=this.graphqlClient.config.request("RedirectFunctionUpgradeTraffic",'mutation RedirectFunctionUpgradeTraffic($functionName: String!) @Signature(bytes: "2/6WNh+twWja9n6wfbGhUaedmAD/UnlnTj6Hb3sboHHkM=") { upgrade(name: $functionName) { redirectFunctionUpgradeTraffic(name: $functionName) { _isPresent } } }',
{functionName:a},void 0);return b.call(this,a)}rollbackFunctionUpgradeTraffic(a){var b=this.handleResponse;a=this.graphqlClient.config.request("RollbackFunctionUpgradeTraffic",'mutation RollbackFunctionUpgradeTraffic($functionName: String!) @Signature(bytes: "2/XhtusIJVsGR90cD1qKhJkZeDLoLJdL45v5oF2MwT7IA=") { upgrade(name: $functionName) { rollbackFunctionUpgradeTraffic(name: $functionName) { _isPresent } } }',{functionName:a},void 0);return b.call(this,a)}commitFunctionUpgrade(a){var b=this.handleResponse;
a=this.graphqlClient.config.request("CommitFunctionUpgrade",'mutation CommitFunctionUpgrade($functionName: String!) @Signature(bytes: "2/IBAp/sVmfLyitLJjKDiOR2V39jiALOSViEQUAunmfTQ=") { upgrade(name: $functionName) { commitFunctionUpgrade(name: $functionName) { _isPresent } } }',{functionName:a},void 0);return b.call(this,a)}handleResponse(a){return a.pipe(_.x(()=>{this.requestSucceeded.next()}),_.Je(b=>{_.Pkh(this.dialogService,{error:b,message:b.message});throw b;}))}};
_.B$.\u0275fac=function(a){return new (a||_.B$)(_.k(_.h6),_.k(_.nr))};_.B$.\u0275prov=_.h({token:_.B$,factory:_.B$.\u0275fac,providedIn:"root"});
}catch(e){_._DumpException(e)}
try{
var Prc=function(a){a&1&&(_.H(0,"span"),_.Gf(1),_.M(2,0),_.L(),_.I())},Qrc=function(a){a&1&&(_.H(0,"span"),_.S(1),_.I());a&2&&(a=_.O(),_.z(),_.V(" ",a.label," "))},Rrc=function(a,b){if(a&1){const c=_.n();_.H(0,"button",3);_.X(1,"resourceUpdatePermission");_.N("click",function(){_.p(c);const d=_.O();return _.r(d.confirmDeleteMember())});_.J(2,"cm-icon",4);_.H(3,"span",null,0);_.M(5,1);_.I()()}a&2&&(a=b.xapLet,b=_.O(),_.G("cfcDisable",void 0!==a)("cfcDisableTooltip",a)("cfcIamCheck",_.Y(1,7,b.resource))("cfcIamResource",
b.resource)("ve",b.ve.IamPageActionBarRemoveMember)("veClick",!0),_.z(2),_.G("icon",b.icons.personRemoveIcon))},Src=function(a,b){a&1&&_.J(0,"a",5);a&2&&_.G("cfc-external-link",b.ngIf)},Trc=function(a,b){a&1&&(_.H(0,"cfc-help-button",2),_.S(1),_.H(2,"div",3),_.D(3,Src,1,1,"a",4),_.I()());a&2&&(a=b.ngIf,b=_.O(2).ngIf,_.G("disabled",""===a),_.z(),_.V(" ",b.long," "),_.z(2),_.G("ngIf",b.moreInfoUrl))},Urc=function(a,b){a&1&&(_.Gf(0),_.S(1),_.D(2,Trc,4,3,"cfc-help-button",1),_.L());a&2&&(a=b.ngIf,b=_.O().ngIf,
_.z(),_.V(" ",a," "),_.z(),_.G("ngIf",b.long))},Vrc=function(a,b){a&1&&(_.Gf(0),_.D(1,Urc,3,2,"ng-container",0),_.L());a&2&&(a=b.ngIf,_.z(),_.G("ngIf",a.short))},Wrc=function(a){if(a&1){const b=_.n();_.H(0,"a",14);_.N("click",function(c){_.p(b);const d=_.O(2).rowData,e=_.O(2);c.preventDefault();return _.r(e.showConditionsDialog(d.roleTitle,d.condition))});_.M(1,0);_.I()}a&2&&(a=_.O(2).rowData,_.z(),_.Mf(a.condition.displayName),_.Nf(1))},Xrc=function(a){a&1&&(_.H(0,"span",12),_.S(1),_.D(2,Wrc,2,1,
"a",13),_.S(3),_.I());a&2&&(a=_.O().rowData,_.z(),_.V(" ",a.roleTitle," "),_.z(),_.G("ngIf",a.condition),_.z(),_.V(" (",a.children.length,") "))},Yrc=function(a){a&1&&_.J(0,"cfc-role-principal-viewer",15);a&2&&(a=_.O().rowData,_.G("rolePrincipal",a))},Zrc=function(a,b){a&1&&_.D(0,Xrc,4,3,"span",10)(1,Yrc,1,1,"cfc-role-principal-viewer",11);a&2&&(a=b.rowData,b=_.O(2),_.G("ngIf",!b.isRoleMemberNode(a)),_.z(),_.G("ngIf",b.isRoleMemberNode(a)))},$rc=function(a){a&1&&(_.Gf(0),_.S(1),_.X(2,"async"),_.L());
a&2&&(a=_.O(2).rowData,_.z(),_.V(" ",_.Y(2,1,a.description)," "))},asc=function(a){a&1&&(_.Gf(0),_.J(1,"cfc-service-account-description",17),_.L());if(a&2){a=_.O(2).rowData;const b=_.O(2);_.z();_.G("serviceAccount",a.displayName)("projectIds",b.projectIds)}},bsc=function(a){a&1&&(_.H(0,"span"),_.D(1,$rc,3,3,"ng-container",16)(2,asc,2,2,"ng-container",16),_.I());if(a&2){a=_.O().rowData;const b=_.O(2);_.z();_.G("ngIf",b.showPrincipalNames&&a.type!==b.serviceAccountType);_.z();_.G("ngIf",a.type===b.serviceAccountType)}},
csc=function(a,b){a&1&&_.D(0,bsc,3,2,"span",16);a&2&&(a=b.rowData,b=_.O(2),_.G("ngIf",b.isRoleMemberNode(a)))},dsc=function(a){a&1&&_.J(0,"cfc-iam-inheritance",19);a&2&&(a=_.O().rowData,_.G("resource",a.inheritedFrom))},esc=function(a,b){a&1&&_.D(0,dsc,1,1,"cfc-iam-inheritance",18);a&2&&_.G("ngIf",b.rowData.inheritedFrom)},fsc=function(a){a&1&&(_.H(0,"div",21),_.J(1,"cfc-iam-edit-button-role-member",22),_.I());if(a&2){a=_.O().rowData;const b=_.O(2);_.z();_.G("member",a)("resourceLabel",b.resourceLabel)("resource",
b.resource)("conditionsDisabledTooltip",b.conditionsDisabledTooltip)}},gsc=function(a,b){a&1&&_.D(0,fsc,2,4,"div",20);a&2&&(a=b.rowData,b=_.O(2),_.G("ngIf",b.isRoleMemberNode(a)))},isc=function(a){if(a&1){const b=_.n();_.H(0,"cfc-tree-grid",2);_.N("bulkActionRowsChanged",function(c){_.p(b);const d=_.O();d.bulkActionRowsChanged.emit(c);d.selectedMemberTreeGridRows=c;return _.r()});_.H(1,"cfc-tree-grid-action-container")(2,"iam-add-member-action",3);_.N("onIamSave",function(){_.p(b);const c=_.O();return _.r(c.onPolicyUpdate.emit())});
_.I();_.H(3,"remove-role-table-action",4);_.N("onRemoveRoles",function(){_.p(b);const c=_.O();return _.r(c.onPolicyUpdate.emit())});_.I()();_.H(4,"cfc-tree-grid-column",5);_.D(5,Zrc,2,2,"ng-template",6);_.I();_.H(6,"cfc-tree-grid-column",7);_.D(7,csc,1,1,"ng-template",6);_.I();_.H(8,"cfc-tree-grid-column",8);_.D(9,esc,1,1,"ng-template",6);_.I();_.H(10,"cfc-tree-grid-column",9);_.D(11,gsc,1,1,"ng-template",6);_.I()()}if(a&2){let b,c;a=_.O();_.G("primaryColumnId","displayName")("root",a.root)("columnsConfig",
a.columnsConfig)("showSelectionControls",!0)("sortKeys",_.cg(23,hsc))("disableRowClick",!0)("depthIndent",0)("showFilter",!0)("tableCaptionId",a.tableCaptionId)("fullBleedConfig",null!==(b=a.fullBleedConfig)&&void 0!==b?b:a.DEFAULT_FULL_BLEED_CONFIG)("message",a.tableMessage)("disableTableManagerMessages",!0)("hideTopBorder",null!==(c=a.hideTopBorder)&&void 0!==c?c:!1)("useRendererV2",!1);_.z(2);_.G("resource",a.resource)("conditionsDisabledTooltip",a.conditionsDisabledTooltip)("preselectedRolesForAdd",
a.preselectedRolesForAdd);_.z();_.G("resource",a.resource)("selectedMemberTreeGridRows",a.selectedMemberTreeGridRows);_.z();_.G("nonHideable",!0);_.z(4);_.G("sortDisabled",!0);_.z(2);_.G("sortDisabled",!0)("noPadding",!0)}},jsc=function(a){return!a.children.length},ksc=function(a,b,c){return _.Ioc(a,b,c)},lsc=function(a,b){return _.Iq(a.$apiClient,{body:b,httpMethod:"POST",methodId:"people_pa.people.batchLookup",path:`/${a.gapiVersion}/people:batchLookup`,queryParams:_.li({},_.jH,{})})},msc=["ACCOUNT",
"PROFILE","GOOGLE_GROUP","DOMAIN_PROFILE"],nsc=function(a,b){for(const c of a)b.has(c)||b.set(c,null)},osc=function(a,b){return lsc(a.peopleApiClient,{id:b,type:"EMAIL",requestMask:{includeContainer:msc}}).pipe(_.Je(c=>{c instanceof _.Dh&&(c.errorExperience=6);return _.w({})}),_.x(c=>{if(!c.matches||!c.people){var d=new Map;nsc(b,d);return d}d=c.matches.filter(e=>{e=c.people[e.personId[0]];return!!e&&!!e.name&&!!e.name.length}).map(e=>[e.lookupId,c.people[e.personId[0]].name[0].displayName]);d=new Map(d);
nsc(b,d);return d}))},psc=class{};psc.\u0275fac=function(a){return new (a||psc)};psc.\u0275dir=_.id({type:psc,selectors:[["cfc-tree-grid-action-container"]]});
_.qsc=class{set resource(a){this.internalResource=a;this.updatePermission=_.Zp.get(a.getResourceType()).set}get resource(){return this.internalResource}constructor(a,b,c){this.addMembersSubtaskService=a;this.viewContainerRef=c;this.onIamSave=new _.Nk;this.ve={IamAddUserRoleButton:58568};b.registerIconset("iam","small",18)}openAddMembers(){this.addMembersSubtaskService.open({resources:[this.internalResource],conditionsDisabledTooltip:this.conditionsDisabledTooltip,roles:this.preselectedRolesForAdd},
{viewContainerRef:this.viewContainerRef}).subscribe(()=>{this.onIamSave.emit()})}};_.qsc.\u0275fac=function(a){return new (a||_.qsc)(_.A(_.AH),_.A(_.Co),_.A(_.Sf))};
_.qsc.\u0275cmp=_.fd({type:_.qsc,selectors:[["iam-add-member-action"]],inputs:{resource:"resource",label:"label",conditionsDisabledTooltip:"conditionsDisabledTooltip",preselectedRolesForAdd:"preselectedRolesForAdd"},outputs:{onIamSave:"onIamSave"},decls:4,vars:6,consts:()=>[" Grant Access ",["mat-button","","color","primary","aria-label","Grant Access","instrumentationId","iam-add-member","cfcDisable","",3,"click","ve","veClick","cfcIamCheck","cfcIamResource"],"icon person-add size small iconset iam".split(" "),
[4,"ngIf"]],template:function(a,b){a&1&&(_.H(0,"button",1),_.N("click",function(){return b.openAddMembers()}),_.J(1,"cfc-icon",2),_.D(2,Prc,3,0,"span",3)(3,Qrc,2,1,"span",3),_.I());a&2&&(_.G("ve",b.ve.IamAddUserRoleButton)("veClick",!0)("cfcIamCheck",b.updatePermission)("cfcIamResource",b.resource),_.z(2),_.G("ngIf",!b.label),_.z(),_.G("ngIf",b.label))},dependencies:[_.Wr,_.Tr,_.yt,_.gp,_.xt,_.el,_.Jx,_.sB,_.so,_.MH],encapsulation:2});_.PH=class{};_.PH.\u0275fac=function(a){return new (a||_.PH)};
_.PH.\u0275mod=_.gd({type:_.PH});_.PH.\u0275inj=_.Rc({imports:[_.Xr,_.mH,_.At,_.kl,_.Qx,_.Yx,_.tB,_.Do,_.NH]});_.rsc=class{constructor(a){this.subtaskService=a;this.ve={IamPageEditMember:62842}}ngOnInit(){this.updatePermission=_.Zp.get(this.resource.getResourceType()).set}};_.rsc.\u0275fac=function(a){return new (a||_.rsc)(_.A(_.KC))};
_.rsc.\u0275cmp=_.fd({type:_.rsc,selectors:[["cfc-iam-edit-button"]],inputs:{member:"member",resourceLabel:"resourceLabel",inherited:"inherited",resource:"resource",conditionsDisabledTooltip:"conditionsDisabledTooltip"},decls:2,vars:5,consts:()=>[["mat-icon-button","","cfcTooltip","Edit principal","cfcDisableTooltip","Role cannot be edited as it is inherited from another resource",1,"cfc-button-small",3,"click","ve","veClick","cfcDisable","cfcIamCheck","cfcIamResource"],["icon","edit","size","small"]],
template:function(a,b){a&1&&(_.H(0,"button",0),_.N("click",function(){const c={resource:b.resource,resourceLabel:b.resourceLabel,member:b.member};b.conditionsDisabledTooltip&&(c.conditionsDisabledTooltip=b.conditionsDisabledTooltip);b.subtaskService.open(_.BH,{id:"PanelComponent",width:850,data:c})}),_.J(1,"cfc-icon",1),_.I());a&2&&_.G("ve",b.ve.IamPageEditMember)("veClick",!0)("cfcDisable",!!b.inherited)("cfcIamCheck",b.updatePermission)("cfcIamResource",b.resource)},dependencies:[_.Wr,_.Tr,_.yt,
_.Ss,_.xt,_.Jx,_.sB,_.so,_.Mu],encapsulation:2});_.QH=class{};_.QH.\u0275fac=function(a){return new (a||_.QH)};_.QH.\u0275mod=_.gd({type:_.QH});_.QH.\u0275inj=_.Rc({imports:[_.Xr,_.At,_.Qx,_.Yx,_.CH,_.tB,_.Do,_.MC,_.Ou]});var ssc=function(a){if(a.member.roleSourceMap){const b=a.member.roleSourceMap.values().next().value||null;a.inherited=b&&!a.member.resources.has(b[0].getResourceId())}else a.inherited=!1},tsc=class{ngOnInit(){ssc(this)}ngOnChanges(a){a.member&&ssc(this)}};tsc.\u0275fac=function(a){return new (a||tsc)};
tsc.\u0275cmp=_.fd({type:tsc,selectors:[["cfc-iam-edit-button-role-member"]],inputs:{member:"member",resourceLabel:"resourceLabel",resource:"resource",conditionsDisabledTooltip:"conditionsDisabledTooltip"},features:[_.rd],decls:1,vars:5,consts:[[3,"member","resourceLabel","inherited","resource","conditionsDisabledTooltip"]],template:function(a,b){a&1&&_.J(0,"cfc-iam-edit-button",0);a&2&&_.G("member",b.member)("resourceLabel",b.resourceLabel)("inherited",b.inherited)("resource",b.resource)("conditionsDisabledTooltip",
b.conditionsDisabledTooltip)},dependencies:[_.rsc],encapsulation:2,changeDetection:0});var usc=class{};usc.\u0275fac=function(a){return new (a||usc)};usc.\u0275mod=_.gd({type:usc});usc.\u0275inj=_.Rc({imports:[_.QH]});_.vsc=class{transform(a){return _.Zp.get(a.getResourceType()).set}};_.vsc.\u0275fac=function(a){return new (a||_.vsc)};_.vsc.\u0275pipe=_.ld({name:"resourceUpdatePermission",type:_.vsc,pure:!0});_.RH=class{};_.RH.\u0275fac=function(a){return new (a||_.RH)};_.RH.\u0275mod=_.gd({type:_.RH});_.RH.\u0275inj=_.Rc({});_.wsc=(0,_.jh)`<svg data-icon-name="personRemoveIcon" viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M11.5 10c1.932 0 3.5-1.57 3.5-3.5A3.5 3.5 0 0011.5 3 3.5 3.5 0 008 6.5C8 8.43 9.568 10 11.5 10zM2 7v2h4V7H2zm4 6.4V15h11v-1.6c0-1.6-3.667-2.4-5.5-2.4-1.833 0-5.5.8-5.5 2.4z"/></svg>`;var xsc=class{transform(a){if(0===a.length)return"Must select row";if(a.some(b=>b.inheritedFrom))return"Please select only roles that are not inherited"}};xsc.\u0275fac=function(a){return new (a||xsc)};xsc.\u0275pipe=_.ld({name:"disableTooltipMessage",type:xsc,pure:!0});
var ysc=function(a,b){const c=a.selectedMemberTreeGridRows[0].displayName,d=a.selectedMemberTreeGridRows[0].role;let e;const f=null!=(e=d.title)?e:d.name;if(1===a.selectedMemberTreeGridRows.length)return a.dialogService.open(_.Erc,{data:{memberName:c,roleTitle:f}}).afterClosed().pipe(_.of(l=>{if(!l)return _.w(void 0);const [m,t]=l;if(!m)return _.w(void 0);t&&a.selectedMemberTreeGridRows.forEach(u=>{b.removeMemberFromAllRoles(u.iamMember)});return _.w({builder:b,startMessage:"Removing principal",successMessage:_.qw("{NAME} removed",
{NAME:c})})}));const g=a.selectedMemberTreeGridRows.map(l=>l.role.name);_.za(g);return a.confirmDialogService.confirmation({header:_.qw('{NUM_ROLES, plural,   =1 {Remove "{TITLE}" role?} other {Remove # roles?}}',{NUM_ROLES:g.length,TITLE:f}),body:"Are you sure you want to remove the selected roles from the selected principals?"}).pipe(_.of(l=>l.confirmed?_.w({builder:b,startMessage:void 0,successMessage:_.qw('{NUM_ROLES, plural,   =1 {Removed "{TITLE}" role} other {Removed # roles}}',{NUM_ROLES:g.length,
TITLE:g[0]})}):_.w(void 0)))},zsc=class{ngOnDestroy(){this.destroy$.next()}constructor(a,b,c,d,e,f){this.confirmDialogService=a;this.dialogService=b;this.iamActionService=c;this.iamErrorService=d;this.iamUiService=e;this.snackBar=f;this.destroy$=new _.hf;this.icons={personRemoveIcon:_.wsc};this.selectedMemberTreeGridRows=[];this.onRemoveRoles=new _.Nk;this.ve={IamPageActionBarRemoveMember:62841}}confirmDeleteMember(){return this.checkOwnershipAndConfirmDeletion(this.resource).pipe(_.of(a=>{if(!a)return _.Se;
const b=a.builder,c=a.startMessage;a=a.successMessage;c&&this.snackBar.open(c);return this.applyBuilderAndShowSuccess(b,a)}),_.Te(1)).subscribe()}checkOwnershipAndConfirmDeletion(){const a=new _.Br;this.selectedMemberTreeGridRows.forEach(({role:b,iamMember:c,condition:d})=>{a.removeMember(b.name,c,d)});return _.Umc(this.iamUiService,[this.resource],a).pipe(_.of(b=>b.shouldContinue?b.wasShown?_.w({builder:a,startMessage:void 0,successMessage:_.qw('{NUM_ROLES, plural,   =1 {Removed "{TITLE}" role} other {Removed # roles}}',
{NUM_ROLES:this.selectedMemberTreeGridRows.length,TITLE:this.selectedMemberTreeGridRows[0].role.name})}):ysc(this,a):_.w(void 0)))}applyBuilderAndShowSuccess(a,b){return _.pB(this.iamActionService,[this.resource],a).pipe(_.qf(()=>{this.onRemoveRoles.emit();return this.snackBar.open(b)}),_.Je(c=>{this.iamErrorService.showErrorMessage(c);return _.Se}))}};zsc.\u0275fac=function(a){return new (a||zsc)(_.A(_.ZB),_.A(_.Hn),_.A(_.Hr),_.A(_.XG),_.A(_.YG),_.A(_.VA))};
zsc.\u0275cmp=_.fd({type:zsc,selectors:[["remove-role-table-action"]],inputs:{selectedMemberTreeGridRows:"selectedMemberTreeGridRows",resource:"resource"},outputs:{onRemoveRoles:"onRemoveRoles"},decls:2,vars:3,consts:()=>[["collapsibleText",""]," Remove Access ",["mat-button","","cfcCollapsibleButton","","aria-label","Remove Access","cfcDisableTooltipPosition","right","color","primary",3,"cfcDisable","cfcDisableTooltip","cfcIamCheck","cfcIamResource","ve","veClick","click",4,"xapLet"],["mat-button",
"","cfcCollapsibleButton","","aria-label","Remove Access","cfcDisableTooltipPosition","right","color","primary",3,"click","cfcDisable","cfcDisableTooltip","cfcIamCheck","cfcIamResource","ve","veClick"],[3,"icon"]],template:function(a,b){a&1&&(_.D(0,Rrc,6,9,"button",2),_.X(1,"disableTooltipMessage"));a&2&&_.G("xapLet",_.Y(1,1,b.selectedMemberTreeGridRows))},dependencies:()=>[_.Wr,_.Tr,_.yt,_.gp,_.xt,_.KB,_.Jx,_.sB,_.fo,_.OH,_.vsc,xsc],encapsulation:2,changeDetection:0});var Asc=class{};
Asc.\u0275fac=function(a){return new (a||Asc)};Asc.\u0275mod=_.gd({type:Asc});Asc.\u0275inj=_.Rc({imports:[_.Xr,_.At,_.yH,_.kl,_.Qx,_.Yx,_.tB,_.RH,_.go,_.Vn,_.EH,_.EE]});_.Bsc=class{set projectIds(a){this.projectIds$.next(a)}set serviceAccount(a){this.serviceAccount$.next(a)}constructor(a){this.serviceAccountDescriptor=a;this.projectIds$=new _.ff(1);this.serviceAccount$=new _.ff(1);this.descriptor$=_.ce({projectIds:this.projectIds$,serviceAccount:this.serviceAccount$}).pipe(_.of(({projectIds:b,serviceAccount:c})=>ksc(this.serviceAccountDescriptor,[c],b).pipe(_.x(d=>d.get(c)))),_.pe(_.mv))}};_.Bsc.\u0275fac=function(a){return new (a||_.Bsc)(_.A(_.hH))};
_.Bsc.\u0275cmp=_.fd({type:_.Bsc,selectors:[["cfc-service-account-description"]],inputs:{projectIds:"projectIds",serviceAccount:"serviceAccount"},decls:2,vars:3,consts:()=>[[4,"ngIf"],["ariaLabel","Help with service account",3,"disabled",4,"ngIf"],["ariaLabel","Help with service account",3,"disabled"],[1,"cfc-button-align-left"],["mat-button","","target","_blank","color","primary","aria-label","Learn more about the service account.","linkText","Learn more",3,"cfc-external-link",4,"ngIf"],["mat-button",
"","target","_blank","color","primary","aria-label","Learn more about the service account.","linkText","Learn more",3,"cfc-external-link"]],template:function(a,b){a&1&&(_.D(0,Vrc,2,1,"ng-container",0),_.X(1,"async"));a&2&&_.G("ngIf",_.Y(1,1,b.descriptor$))},dependencies:[_.yt,_.xu,_.xt,_.el,_.uD,_.Sx,_.jl],encapsulation:2,changeDetection:0});_.SH=class{};_.SH.\u0275fac=function(a){return new (a||_.SH)};_.SH.\u0275mod=_.gd({type:_.SH});_.SH.\u0275inj=_.Rc({imports:[_.At,_.kl,_.wD,_.Ux]});var Csc,Dsc,Esc,Fsc;Csc=class{constructor(a,b){this.email=a;this.projectIds=b}};Dsc=function(a,b,c){return _.Ioc(a.serviceAccountDescriptor,b,c).pipe(_.x(d=>{const e=new Map;for(const f of b)e.set(f,d.has(f)?d.get(f).short:null);return e}))};Esc=function(a,b){return(new _.Rd(c=>{a.userFetchQueue.next(b);c.next(!0);c.complete()})).pipe(_.ee(()=>a.bufferedUserFetchQueue),_.pe(c=>c.has(b)),_.x(c=>c.get(b)),_.We(),_.kf(1))};
Fsc=function(a,b,c){return(new _.Rd(d=>{a.serviceAccountFetchQueue.next(new Csc(b,c));d.next(!0);d.complete()})).pipe(_.ee(()=>a.bufferedServiceAccountFetchQueue),_.pe(d=>d.has(b)),_.x(d=>d.get(b)),_.We(),_.kf(1))};
_.TH=class{constructor(a,b){this.peopleService=a;this.serviceAccountDescriptor=b;this.userFetchQueue=new _.ff(1);this.serviceAccountFetchQueue=new _.ff(1);this.bufferedUserFetchQueue=this.userFetchQueue.pipe(_.ala(100),_.pe(c=>0<c.length),_.ee(c=>osc(this.peopleService,c)),_.jf());this.bufferedServiceAccountFetchQueue=this.serviceAccountFetchQueue.pipe(_.ala(100),_.pe(c=>0<c.length),_.ee(c=>{const d=[...(new Set([].concat(...c.map(e=>e.projectIds))))];return Dsc(this,c.map(e=>e.email),d)}),_.jf());
this.memberCache=new Map}getDescription(a,b=[]){if(!this.memberCache.has(a)){var c=this.memberCache,d=c.set;if(/(user|serviceAccount):(.+)/.test(a)){var [,e,f]=/(user|serviceAccount):(.+)/.exec(a);b="user"===e?Esc(this,f):Fsc(this,f,b)}else b=_.w(null);d.call(c,a,b)}return this.memberCache.get(a)}};_.TH.\u0275fac=function(a){return new (a||_.TH)(_.k(_.kH),_.k(_.hH))};_.TH.\u0275prov=_.h({token:_.TH,factory:_.TH.\u0275fac,providedIn:"root"});var hsc=()=>["displayName"],Gsc=function(a,b){return b?a.asyncTaskTracker.runOutsideTracker(()=>a.getResourceName(b)):_.w("No inheritance")},Hsc=class{constructor(a,b,c,d,e,f,g){this.asyncTaskTracker=a;this.cdr=b;this.crmResourceService=c;this.destroyRef=d;this.dialogService=e;this.memberDescriptionService=f;this.purviewService=g;this.serviceAccountType=4;this.bulkActionRowsChanged=new _.Nk;this.onPolicyUpdate=new _.Nk;this.showGoogleManagedAccounts=!0;this.projectIds=[];this.columnsConfig=[{id:"displayName",
accessor:l=>l.displayName},{id:"inherited",accessor:l=>l.inheritedFromDisplayName},{id:"name",accessor:l=>l.description},{id:"action",accessor:()=>{}}];this.DEFAULT_FULL_BLEED_CONFIG=_.iPb;this.showPrincipalNames=!_.uh();this.changes$=new _.wg;this.treeGenerated$=new _.hf;this.treeGridReady$=new _.hf;this.treeGridReadySent=!1;this.isRoleMemberNode=jsc;this.selectedMemberTreeGridRows=[]}ngOnInit(){_.ce([this.treeGenerated$,this.treeGridReady$.pipe(_.Te(1))]).pipe(_.Zg(this.destroyRef)).subscribe(()=>
{const a=[];for(const b of this.root.children)a.push(b);this.treeGrid.setDisabledFor(a,!0)});_.ce([_.eu(this.purviewService),this.changes$]).pipe(_.Zg(this.destroyRef)).subscribe(([a])=>{this.projectIds=a?[a.getResourceId()]:[];this.generateTree(a);this.cdr.markForCheck();this.treeGenerated$.next()})}ngOnChanges(){this.resourceLabel=_.Wqc(this.resource.getResourceType());this.changes$.next()}ngAfterViewChecked(){this.treeGrid&&!this.treeGridReadySent&&(this.treeGridReadySent=!0,this.treeGridReady$.next())}getResourceName(a){return this.crmResourceService.getResource({id:a.getResourceId(),
type:a.getResourceType()}).pipe(_.Je(()=>_.w(a)),_.x(b=>b||a),_.x(b=>b.getDisplayName()||b.getResourceId()))}getDescriptionOutsideSLO(a){return _.uh()?_.w(null):this.asyncTaskTracker.runOutsideTracker(()=>this.memberDescriptionService.getDescription(a,this.projectIds))}showConditionsDialog(a,b){this.dialogService.open(_.FH,{data:{roleDisplayName:a,condition:b}})}generateTree(a){const b=[];for(const d of this.roleData.values()){var c=d.filter(e=>this.showGoogleManagedAccounts||!(a&&e.serviceAccountInfo&&
e.serviceAccountInfo.isApiServiceAgent));0===c.length||this.roleFilter&&!this.roleFilter(c[0].role)||(c=c.map(e=>this.getMemberNode(e)),b.push(this.getRoleNode(c[0].role,c)))}this.root=this.getRootNode(b)}getMemberNode(a){const b=_.erc(a,this.resource.getResourceId());return Object.assign({},{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,description:this.getDescriptionOutsideSLO(a.iamMember),rowID:`node-${a.displayName}-${a.role.name}`,children:new _.ZA([]),inheritedFrom:b,inheritedFromDisplayName:Gsc(this,
b)},a)}getRoleNode(a,b){const c=b[0].condition,d=c?c.displayName:"",e=_.tE(a);return{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:`node-${a.name}-${d}`,children:new _.ZA(b),displayName:c?`${e} : ${d}`:e,roleTitle:e,condition:c}}getRootNode(a){return{kind:"node",hasMoreChildrenBefore:!1,hasMoreChildrenAfter:!1,rowID:"node-root",children:new _.ZA(a)}}};Hsc.\u0275fac=function(a){return new (a||Hsc)(_.A(_.ym),_.A(_.Wk),_.A(_.cu),_.A(_.ze),_.A(_.Hn),_.A(_.TH),_.A(_.gu))};
Hsc.\u0275cmp=_.fd({type:Hsc,selectors:[["cfc-iam-roles-table"]],viewQuery:function(a,b){a&1&&_.Uf(_.lB,5);if(a&2){let c;_.Wf(c=_.Xf())&&(b.treeGrid=c.first)}},inputs:{canEdit:"canEdit",resource:"resource",roleData:"roleData",tableCaptionId:"tableCaptionId",fullBleedConfig:"fullBleedConfig",showGoogleManagedAccounts:"showGoogleManagedAccounts",conditionsDisabledTooltip:"conditionsDisabledTooltip",roleFilter:"roleFilter",tableMessage:"tableMessage",hideTopBorder:"hideTopBorder",preselectedRolesForAdd:"preselectedRolesForAdd"},
outputs:{bulkActionRowsChanged:"bulkActionRowsChanged",onPolicyUpdate:"onPolicyUpdate"},features:[_.rd],decls:1,vars:1,consts:()=>[" condition: \ufffd0\ufffd ",["selectionMode","multiple",3,"primaryColumnId","root","columnsConfig","showSelectionControls","sortKeys","disableRowClick","depthIndent","showFilter","tableCaptionId","fullBleedConfig","message","disableTableManagerMessages","hideTopBorder","useRendererV2","bulkActionRowsChanged",4,"ngIf"],["selectionMode","multiple",3,"bulkActionRowsChanged",
"primaryColumnId","root","columnsConfig","showSelectionControls","sortKeys","disableRowClick","depthIndent","showFilter","tableCaptionId","fullBleedConfig","message","disableTableManagerMessages","hideTopBorder","useRendererV2"],[3,"onIamSave","resource","conditionsDisabledTooltip","preselectedRolesForAdd"],[3,"onRemoveRoles","resource","selectedMemberTreeGridRows"],["id","displayName","header","Role / Principal","type","string",3,"nonHideable"],["cfcTreeGridTemplate","","type","body"],"id name header Name type string".split(" "),
["id","inherited","header","Inheritance","type","string",3,"sortDisabled"],["id","action","header","","ariaLabel","Action","type","non_filterable",3,"sortDisabled","noPadding"],["class","cfc-font-weight-medium",4,"ngIf"],[3,"rolePrincipal",4,"ngIf"],[1,"cfc-font-weight-medium"],["class","cfc-font-weight-medium cfctest-iam-conditions-dialog-link",3,"click",4,"ngIf"],[1,"cfc-font-weight-medium","cfctest-iam-conditions-dialog-link",3,"click"],[3,"rolePrincipal"],[4,"ngIf"],[3,"serviceAccount","projectIds"],
[3,"resource",4,"ngIf"],[3,"resource"],["class","cfc-nowrap",4,"ngIf"],[1,"cfc-nowrap"],[3,"member","resourceLabel","resource","conditionsDisabledTooltip"]],template:function(a,b){a&1&&_.D(0,isc,12,24,"cfc-tree-grid",1);a&2&&_.G("ngIf",b.root)},dependencies:[_.qsc,_.el,tsc,_.HH,zsc,_.Irc,_.Bsc,_.lB,_.jB,_.iB,psc,_.jl],encapsulation:2,changeDetection:0});_.UH=class{};_.UH.\u0275fac=function(a){return new (a||_.UH)};_.UH.\u0275mod=_.gd({type:_.UH,id:"pm_iam_roles_table"});
_.UH.\u0275inj=_.Rc({providers:[{provide:_.Ul,useValue:{RolesTable:Hsc}}],imports:[_.PH,_.Xr,_.kl,_.GH,_.Yx,usc,_.Do,_.IH,_.Vn,_.uG,_.hu,Asc,_.LH,_.SH,_.Ou,_.nB,_.DH]});_.tf(_.UH,"pm_iam_roles_table");
}catch(e){_._DumpException(e)}
try{
var kGe=function(a){a&1&&(_.H(0,"span",3),_.S(1," ( "),_.H(2,"span",4),_.S(3),_.I(),_.S(4," )\n"),_.I());a&2&&(a=_.O(),_.z(3),_.Zf(a.fileLine))},lGe=function(a,b){a&1&&(_.Ed(),_.J(0,"rect",20));a&2&&(a=b.$implicit,_.zf("x",a.x)("y",a.y)("width",a.width)("height",a.height))},nGe=function(a,b){a&1&&(_.H(0,"div",18),_.Ed(),_.H(1,"svg"),_.D(2,lGe,1,4,"rect",19),_.I()());a&2&&(a=b.rowData,b=_.O(3),_.z(),_.zf("height",b.MAX_HEIGHT),_.z(),_.G("ngForOf",mGe(a.timedCounts)))},oGe=function(a,b){a&1&&(_.Gf(0),
_.S(1),_.X(2,"localizeNumber"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",_.Y(2,1,a.count)," "))},pGe=function(a){a&1&&_.J(0,"crash-source-location",23);if(a&2){a=_.O().rowData;_.O(3);const b=a.representative.exception;_.G("sourceLocation",((null==b?0:b.stackFrames)?b.stackFrames[0].frameLocation:void 0)||(null==b?void 0:b.causeLocation)||a.representative.context.reportLocation)("serviceContext",a.representative.serviceContext)("programmingLanguage",null==a.representative.exception?null:a.representative.exception.language)}},
qGe=function(a){a&1&&(_.H(0,"div"),_.S(1),_.I());a&2&&(a=_.O().rowData,_.z(),_.V(" ",null==a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.description," "))},sGe=function(a,b){a&1&&(_.Gf(0),_.J(1,"crash-error-table-title",21),_.D(2,pGe,1,3,"crash-source-location",22)(3,qGe,2,1,"div",5),_.L());a&2&&(a=b.rowData,b=_.O(3),_.z(),_.G("errorGroup",a)("linkType",b.linkType)("linkTimeRange",b.linkTimeRange)("timeWindowSeconds",b.timeWindowSeconds)("serviceContextFilter",b.serviceContextFilter),
_.z(),_.G("ngIf",b.hasLocation(a)),_.z(),_.G("ngIf",rGe(a)))},tGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"localizeNumber"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",a.affectedUsersCount?_.Y(2,1,a.affectedUsersCount):"-"," "))},uGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"relativeDate"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",_.Jw(2,1,a.firstSeenTime,!0)," "))},vGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"relativeDate"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",_.Jw(2,1,a.lastSeenTime,!0)," "))},wGe=
function(a){a&1&&(_.Gf(0),_.H(1,"a",25),_.M(2,2),_.I(),_.J(3,"cfc-icon",26),_.L());a&2&&(a=_.O().rowData,_.z(),_.lu("href",null==a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.playbookUri,_.Yr))},xGe=function(a,b){a&1&&(_.Gf(0),_.D(1,wGe,4,1,"ng-container",24),_.L());a&2&&(a=b.rowData,b=_.O(3),_.z(),_.G("ngIf",null==a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.playbookUri)("ngIfElse",b.empty))},yGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,
"localizeNumber"),_.L());a&2&&(a=b.ngIf,_.z(),_.V(" ",_.Y(2,1,a)," "))},zGe=function(a){a&1&&_.S(0,"-")},BGe=function(a,b){a&1&&(_.Gf(0),_.D(1,yGe,3,3,"ng-container",24)(2,zGe,1,0,"ng-template",null,1,_.fg),_.L());a&2&&(a=b.rowData,b=_.Yf(3),_.O(3),_.z(),_.G("ngIf",AGe(a))("ngIfElse",b))},CGe=function(a){a&1&&(_.H(0,"cfc-table",7)(1,"cfc-table-column",8),_.D(2,nGe,3,2,"div",9),_.I(),_.H(3,"cfc-table-column",10),_.D(4,oGe,3,3,"ng-container",11),_.I(),_.H(5,"cfc-table-column",12),_.D(6,sGe,4,7,"ng-container",
11),_.I(),_.H(7,"cfc-table-column",13),_.D(8,tGe,3,3,"ng-container",11),_.I(),_.H(9,"cfc-table-column",14),_.D(10,uGe,3,4,"ng-container",11),_.I(),_.H(11,"cfc-table-column",15),_.D(12,vGe,3,4,"ng-container",11),_.I(),_.H(13,"cfc-table-column",16),_.D(14,xGe,2,2,"ng-container",11),_.I(),_.H(15,"cfc-table-column",17),_.D(16,BGe,4,2,"ng-container",11),_.I()());a&2&&(a=_.O(2),_.G("columnsConfig",a.legacyConfig)("fillContainerWidth",a.fillContainerWidth)("tableManager",a.clientTableManager)("pagination",
!0)("pageSizeOptions",a.errorGroupPageSizeOptions)("rowsPerPage",a.pageSize)("tableRendererV2",!1),_.z(),_.G("hidden",!a.columns.sparkline)("maxWidth",a.COL_WIDTH+"px")("width",a.COL_WIDTH+"px"),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.count)("maxWidth","15em"),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.error),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.users),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.firstSeen),
_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.lastSeen),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.playbookUri),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.status),_.z(),_.G("cfcTableTemplate","body"))},DGe=function(a){a&1&&(_.H(0,"div"),_.D(1,CGe,17,26,"cfc-table",6),_.I());if(a&2){a=_.O();const b=_.Yf(3);_.z();_.G("ngIf",a.errorGroupStats.length)("ngIfElse",b)}},EGe=function(a,b){a&1&&(_.Ed(),_.J(0,"rect",20));a&2&&(a=b.$implicit,
_.zf("x",a.x)("y",a.y)("width",a.width)("height",a.height))},GGe=function(a,b){a&1&&(_.H(0,"div",18),_.Ed(),_.H(1,"svg"),_.D(2,EGe,1,4,"rect",19),_.I()());a&2&&(a=b.rowData,b=_.O(3),_.z(),_.zf("height",b.MAX_HEIGHT),_.z(),_.G("ngForOf",FGe(a.filteredCounts)))},HGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"localizeNumber"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",_.Y(2,1,a.filteredTotalCount)," "))},IGe=function(a){a&1&&_.J(0,"crash-source-location",36);if(a&2){const c=_.O().rowData;_.O(3);a=c.sourceLocation?
{filePath:c.sourceLocation.filePath,lineNumber:c.sourceLocation.lineNumber,functionName:c.sourceLocation.functionName}:void 0;a=_.G("sourceLocation",a);var b;if(c.seenIn.length){const [d,e]=(null!=(b=c.seenIn[0])?b:"").split(":");b={service:d,version:e}}else b=void 0;a("serviceContext",b)}},JGe=function(a){a&1&&(_.H(0,"div"),_.S(1),_.I());a&2&&(a=_.O().rowData,_.z(),_.V(" ",null==a.group?null:null==a.group.attachedErrorInfo?null:a.group.attachedErrorInfo.description," "))},KGe=function(a,b){a&1&&
(_.Gf(0),_.J(1,"crash-error-table-title",21),_.D(2,IGe,1,2,"crash-source-location",35)(3,JGe,2,1,"div",5),_.L());a&2&&(a=b.rowData,b=_.O(3),_.z(),_.G("errorGroup",a)("linkType",b.linkType)("linkTimeRange",b.linkTimeRange)("timeWindowSeconds",b.timeWindowSeconds)("serviceContextFilter",b.serviceContextFilter),_.z(),_.G("ngIf",!!a.sourceLocation),_.z(),_.G("ngIf",rGe(a)))},LGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"localizeNumber"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",a.filteredAffectedUsersCount?
_.Y(2,1,a.filteredAffectedUsersCount):"-"," "))},MGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"relativeDate"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",_.Jw(2,1,a.filteredFirstSeen,!0)," "))},NGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"relativeDate"),_.L());a&2&&(a=b.rowData,_.z(),_.V(" ",_.Jw(2,1,a.filteredLastSeen,!0)," "))},OGe=function(a){a&1&&(_.Gf(0),_.H(1,"a",25),_.M(2,3),_.I(),_.J(3,"cfc-icon",26),_.L());a&2&&(a=_.O().rowData,_.z(),_.lu("href",a.serviceErrorUri,_.Yr))},PGe=function(a,b){a&
1&&(_.Gf(0),_.D(1,OGe,4,1,"ng-container",24),_.L());a&2&&(a=b.rowData,b=_.O(3),_.z(),_.G("ngIf",a.serviceErrorUri)("ngIfElse",b.empty))},QGe=function(a,b){a&1&&(_.Gf(0),_.S(1),_.X(2,"localizeNumber"),_.L());a&2&&(a=b.ngIf,_.z(),_.V(" ",_.Y(2,1,a)," "))},RGe=function(a){a&1&&_.S(0,"-")},SGe=function(a,b){a&1&&(_.Gf(0),_.D(1,QGe,3,3,"ng-container",24)(2,RGe,1,0,"ng-template",null,1,_.fg),_.L());a&2&&(a=b.rowData,b=_.Yf(3),_.z(),_.G("ngIf",a.responseCode)("ngIfElse",b))},TGe=function(a){a&1&&(_.H(0,
"cfc-table",7)(1,"cfc-table-column",27),_.D(2,GGe,3,2,"div",9),_.I(),_.H(3,"cfc-table-column",28),_.D(4,HGe,3,3,"ng-container",11),_.I(),_.H(5,"cfc-table-column",29),_.D(6,KGe,4,7,"ng-container",11),_.I(),_.H(7,"cfc-table-column",30),_.D(8,LGe,3,3,"ng-container",11),_.I(),_.H(9,"cfc-table-column",31),_.D(10,MGe,3,4,"ng-container",11),_.I(),_.H(11,"cfc-table-column",32),_.D(12,NGe,3,4,"ng-container",11),_.I(),_.H(13,"cfc-table-column",33),_.D(14,PGe,2,2,"ng-container",11),_.I(),_.H(15,"cfc-table-column",
34),_.D(16,SGe,4,2,"ng-container",11),_.I()());a&2&&(a=_.O(2),_.G("columnsConfig",a.coliseumConfig)("fillContainerWidth",a.fillContainerWidth)("tableManager",a.clientTableManager)("pagination",!0)("pageSizeOptions",a.errorGroupPageSizeOptions)("rowsPerPage",a.pageSize)("tableRendererV2",!1),_.z(),_.G("hidden",!a.columns.sparkline)("maxWidth",a.COL_WIDTH+"px")("width",a.COL_WIDTH+"px"),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.count)("maxWidth","15em"),_.z(),_.G("cfcTableTemplate",
"body"),_.z(),_.G("hidden",!a.columns.error),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.users),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.firstSeen),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.lastSeen),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.playbookUri),_.z(),_.G("cfcTableTemplate","body"),_.z(),_.G("hidden",!a.columns.status),_.z(),_.G("cfcTableTemplate","body"))},UGe=function(a){a&1&&(_.H(0,"div"),
_.D(1,TGe,17,26,"cfc-table",6),_.I());if(a&2){a=_.O();const b=_.Yf(3);_.z();_.G("ngIf",a.errorGroupStats.length)("ngIfElse",b)}},VGe=function(a){a&1&&(_.H(0,"div",37),_.M(1,4),_.I())},WGe=class{transform(a,b=3,c){c=_.ow(c);return _.lo(new _.pw(c,c.DECIMAL_PATTERN),b).format(a)}},XGe,YGe;WGe.\u0275fac=function(a){return new (a||WGe)};WGe.\u0275pipe=_.ld({name:"localizeNumber",type:WGe,pure:!0});
XGe=class extends _.pi{constructor(){super();this.project=new _.Dm("query","project");this.time=new _.Dm("query","time");this.service=new _.Dm("query","service");this.version=new _.Dm("query","version");this.filter=new _.Dm("query","filter");_.Bm(this,["errors"])}};YGe=class extends XGe{constructor(){super();this.errorGroupId=new _.Dm("path","errorGroupId");_.Bm(this,[this.errorGroupId])}};_.zY=class{};_.zY.\u0275fac=function(a){return new (a||_.zY)};
_.zY.\u0275dir=_.id({type:_.zY,selectors:[["mat-progress-bar"]],hostVars:2,hostBindings:function(a){a&2&&_.Bf("cm-progress-bar",!0)}});var ZGe=new _.nd("GMAT_PROGRESS_BAR_OPTIONS",{providedIn:"root",factory:()=>({disableGmatStyle:!1})});_.AY=class{constructor(a,b){this.options=a;this.progressbar=b;this.destroyed=new _.hf;this.labelElement=document.createElement("label");this.labelElement.classList.add("cdk-visually-hidden");this.labelElement.classList.add("gmat-mdc-progress-bar-accessible-label");_.Ita(b._elementRef.nativeElement).pipe(_.C(this.destroyed)).subscribe(c=>{this.writeLabelSpan(c[0],c[1])})}ngOnInit(){this.initializeLabelSpan()}ngOnDestroy(){this.labelElement.remove();this.destroyed.next();this.destroyed.complete()}initializeLabelSpan(){this.progressbar._elementRef.nativeElement.insertAdjacentElement("afterend",
this.labelElement);const a=this.progressbar._elementRef.nativeElement.getAttribute("aria-label");this.writeLabelSpan(null!=a?a:"","indeterminate"===this.progressbar.mode||"query"===this.progressbar.mode?"indeterminate":this.progressbar.value.toString())}writeLabelSpan(a,b){a="indeterminate"===b?a:a+" "+_.FZa.format(Number(b)/100);this.labelElement.textContent=a}};_.AY.\u0275fac=function(a){return new (a||_.AY)(_.A(ZGe),_.A(_.vT,10))};
_.AY.\u0275dir=_.id({type:_.AY,selectors:[["mat-progress-bar"]],hostAttrs:["aria-hidden","true"],hostVars:3,hostBindings:function(a,b){a&2&&(_.zf("tabindex",null),_.Bf("gmat-mdc-progress-bar",!b.options.disableGmatStyle))}});var $Ge=class{};$Ge.\u0275fac=function(a){return new (a||$Ge)};$Ge.\u0275mod=_.gd({type:$Ge});$Ge.\u0275inj=_.Rc({imports:[_.wT]});_.BY=class{};_.BY.\u0275fac=function(a){return new (a||_.BY)};_.BY.\u0275mod=_.gd({type:_.BY});_.BY.\u0275inj=_.Rc({imports:[$Ge,$Ge]});var aHe=/^([a-zA-Z$_][0-9a-zA-Z$_]*\.)*[a-zA-Z$_][0-9a-zA-Z$_]*$/,bHe=function(a){let b="";if(a.errorGroupTableRowInternal)return a.errorGroupTableRowInternal.rowTitle;if(!a.errorGroupStatsInternal)return b;const c=a.errorGroupStatsInternal.representative||null;if(c&&c.exception){const d=c.exception.type,e=c.exception.message,f=c.exception.exceptionText;if(d&&e&&aHe.test(d))return`${d.split(".").pop()}: ${e}`;b=b||(f?f.split("\n").shift():"")||""}return b||c.message||a.errorGroupStatsInternal.group.groupId},
cHe=function(a,b){const c=[];if(!b.monitoredResource)return"";var d=b.monitoredResource;c.push(d.type?`resource.type="${d.type}"`:null);d.labels&&(d=d.labels,c.push(d.service?`resource.labels.service="${d.service}"`:null),c.push(d.method?`resource.labels.method="${d.method}"`:null),c.push(d.project_id&&b.logName?`logName="projects/${d.project_id}/logs/${b.logName}"`:null));a.errorGroupStatsInternal?c.push(a.errorGroupStatsInternal.group?`error_group("${a.errorGroupStatsInternal.group.groupId}")`:
null):a.errorGroupTableRowInternal&&c.push(a.errorGroupTableRowInternal.groupId?`error_group("${a.errorGroupTableRowInternal.groupId}")`:null);return c.filter(e=>null!==e).join("\n")},dHe=class{constructor(){this.timeWindowSeconds=86400;this.linkType=0;this.serviceContextFilter=void 0;this.errorGroupTitle="";this.ve={CrashDetailsLink:68471}}set errorGroup(a){_.BA(a.rowTitle)?(this.errorGroupTableRowInternal=a,this.errorGroupStatsInternal=void 0):(this.errorGroupStatsInternal=a,this.errorGroupTableRowInternal=
void 0);this.errorGroupInternal=a}get errorGroup(){return this.errorGroupInternal}ngOnInit(){}ngOnChanges(){if(1===this.linkType){var a=_.cmd.create();var b=a.link();b.set(a.expandAll,"false");if(this.errorGroupInternal){this.linkTimeRange&&(b.set(a.interval,this.linkTimeRange.interval),"JUMP_TO_TIME"===this.linkTimeRange.interval&&b.set(a.timestamp,this.linkTimeRange.startTime.toString()||""),"CUSTOM"===this.linkTimeRange.interval&&(b.set(a.dateRangeStart,this.linkTimeRange.startTime.toString()||
""),b.set(a.dateRangeEnd,this.linkTimeRange.endTime.toString()||"")));var c,d;(null==(c=this.errorGroupStatsInternal)?0:null==(d=c.representative)?0:d.logContext)&&b.set(a.advancedFilter,cHe(this,this.errorGroupStatsInternal.representative.logContext));var e,f;if(null==(e=this.errorGroupTableRowInternal)?0:null==(f=e.logContext)?0:f.monitoredResource){c=this.errorGroupTableRowInternal.logContext;d={};for(var g of c.monitoredResource.labels)d[g.key]=g.value;b.set(a.advancedFilter,cHe(this,{logName:c.logName,
monitoredResource:{type:c.monitoredResource.type,labels:d}}))}}a=b}else{g=YGe.create();c=g.link();var l,m,t,u;let v;c.set(g.errorGroupId,null!=(v=null!=(u=null==(l=this.errorGroupStatsInternal)?void 0:null==(m=l.group)?void 0:m.groupId)?u:null==(t=this.errorGroupTableRowInternal)?void 0:t.groupId)?v:"");d=c;e=d.set;f=g.time;l=this.timeWindowSeconds;null===l?l=null:(m=Math.floor(l/86400),l-=86400*m,t=Math.floor(l/3600),l-=3600*t,u=Math.floor(l/60),l=(new _.tw(0,0,m,t,u,l-60*u)).toIsoString());e.call(d,
f,l);if(this.serviceContextFilter)this.serviceContextFilter.labelFilter||(this.serviceContextFilter.service&&c.set(g.service,this.serviceContextFilter.service||""),this.serviceContextFilter.version&&c.set(g.version,this.serviceContextFilter.version||""));else if(this.errorGroupStatsInternal)this.errorGroupStatsInternal.affectedServices&&(c.set(g.service,this.errorGroupStatsInternal.affectedServices[0].service||""),c.set(g.version,this.errorGroupStatsInternal.affectedServices[0].version||""));else if(this.errorGroupTableRowInternal){const [y,
B]=(null!=(b=null==(a=this.errorGroupTableRowInternal)?void 0:a.seenIn[0])?b:"").split(":");c.set(g.service,null!=y?y:"");c.set(g.version,null!=B?B:"")}a=c}this.detailLink=a;this.errorGroupTitle=bHe(this)}};dHe.\u0275fac=function(a){return new (a||dHe)};
dHe.\u0275cmp=_.fd({type:dHe,selectors:[["crash-error-table-title"]],inputs:{errorGroup:"errorGroup",timeWindowSeconds:"timeWindowSeconds",linkType:"linkType",linkTimeRange:"linkTimeRange",serviceContextFilter:"serviceContextFilter"},features:[_.rd],decls:2,vars:5,consts:[["target","_blank",1,"cfc-truncated-text-inline","crash-error-table-title","cfc-color-primary","cfc-font-weight-medium",3,"ve","veClick","cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.H(0,"a",0),_.S(1),_.I());a&2&&
(_.G("ve",b.ve.CrashDetailsLink)("veClick",!0)("cfcRouterLink",b.detailLink.build())("queryParams",b.detailLink.buildQueryParams()),_.z(),_.V(" ",b.errorGroupTitle,"\n"))},dependencies:[_.Tr,_.qu],encapsulation:2,changeDetection:0});var eHe=class{};eHe.\u0275fac=function(a){return new (a||eHe)};eHe.\u0275mod=_.gd({type:eHe});eHe.\u0275inj=_.Rc({imports:[_.Xr,_.ru]});var fHe=function(a){if(a.sourceLocationData){var b=a.sourceLocationData;a.classMethod=[b.className,b.functionName].filter(c=>!!c).join(".");a.packageName=`${b.packageName}.`;a.fileLine=b.filePath&&b.fileName&&b.lineNumber?`${b.filePath}/${b.fileName}:${b.lineNumber}`:b.fileName&&b.lineNumber?`${b.fileName}:${b.lineNumber}`:void 0}},gHe=class{constructor(){this.ve={CrashSourceLocationLink:68008}}ngOnInit(){}ngOnChanges(a){a.sourceLocation&&this.sourceLocation&&(this.sourceLocationData=this.parse(),
fHe(this))}parse(){if(this.sourceLocation.filePath&&this.sourceLocation.lineNumber||this.sourceLocation.functionName){var a=void 0,b=void 0,c=void 0;this.sourceLocation.filePath&&this.sourceLocation.lineNumber&&(b=this.sourceLocation.filePath.split("/"),a=b.pop(),b=b.join("/"),c=this.sourceLocation.lineNumber);var d=void 0,e=void 0,f=void 0;if(this.sourceLocation.functionName){f=this.sourceLocation.functionName.split(".");d=f.pop();if(0<f.length){const l=f[f.length-1];var g;if(!(g="java"===this.programmingLanguage))a:{for(g=
0;g<l.length;++g)if(l[g].toLowerCase()!==l[g].toUpperCase()){g=l[g].toUpperCase()===l[g];break a}g=!1}g&&(e=f.pop())}(f=f.join("."))&&"java"===this.programmingLanguage&&(b=f.replace(".","/"))}return{fileName:a,filePath:b,lineNumber:c,functionName:d,className:e,packageName:f}}}};gHe.\u0275fac=function(a){return new (a||gHe)};
gHe.\u0275cmp=_.fd({type:gHe,selectors:[["crash-source-location"]],inputs:{programmingLanguage:"programmingLanguage",serviceContext:"serviceContext",sourceLocation:"sourceLocation"},features:[_.rd],decls:5,vars:3,consts:[[1,"crash-source-package-name","cfc-color-secondary"],[1,"crash-source-class-method","cfc-color-primary"],["class","cfc-color-secondary",4,"ngIf"],[1,"cfc-color-secondary"],[1,"crash-source-file-line"]],template:function(a,b){a&1&&(_.H(0,"span",0),_.S(1),_.I(),_.H(2,"span",1),_.S(3),
_.I(),_.D(4,kGe,5,1,"span",2));a&2&&(_.z(),_.Zf(b.packageName),_.z(2),_.Zf(b.classMethod),_.z(),_.G("ngIf",b.fileLine))},dependencies:[_.el],encapsulation:2,changeDetection:0});var hHe=class{};hHe.\u0275fac=function(a){return new (a||hHe)};hHe.\u0275mod=_.gd({type:hHe});hHe.\u0275inj=_.Rc({imports:[_.Xr,_.kl,_.ru]});var mGe,rGe,AGe,FGe;_.iHe={sparkline:!0,count:!0,error:!0,users:!0,firstSeen:!0,lastSeen:!0,playbookUri:!1,status:!0};mGe=function(a){a=a.map(c=>Number(c.count||"0"));const b=15.5/Math.max(...a);return a.map((c,d)=>({x:4*d,y:15.5-c*b,width:3,height:.5+c*b}))};rGe=function(a){let b,c,d;return null!=(d=!!(null==(b=a.group)?0:null==(c=b.attachedErrorInfo)?0:c.description))?d:!1};
AGe=function(a){if(void 0!==a.representative&&void 0!==a.representative.context&&void 0!==a.representative.context.httpRequest&&void 0!==a.representative.context.httpRequest.responseStatusCode)return a.representative.context.httpRequest.responseStatusCode};FGe=function(a){const b=15.5/Math.max(...a);return a.map((c,d)=>({x:4*d,y:15.5-c*b,width:3,height:.5+c*b}))};
_.jHe=class{set errorGroupStats(a){a.length&&_.BA(a[0].rowTitle)?(this.coliseumData=!0,this.onePlatformData=!1):(this.onePlatformData=!0,this.coliseumData=!1);this.errorGroupStatsInternal=a;this.clientTableManager.rows=a}get errorGroupStats(){return this.errorGroupStatsInternal}set pageSize(a){this.errorGroupPageSizeOptions.includes(a)||(this.errorGroupPageSizeOptions=[...this.errorGroupPageSizeOptions,a].sort());this.pageSizeInternal=a}get pageSize(){return this.pageSizeInternal}constructor(a){this.serviceContextFilter=
void 0;this.columns=_.iHe;this.timeWindowSeconds=86400;this.fillContainerWidth=!0;this.linkType=0;this.MAX_HEIGHT=16;this.COL_WIDTH=119;this.coliseumData=this.onePlatformData=!1;this.legacyConfig=[{id:"sparkline",accessor:b=>b.timedCounts},{id:"count",accessor:b=>b.count},{id:"error",accessor:b=>b.representative},{id:"users",accessor:b=>b.affectedUsersCount},{id:"firstSeen",accessor:b=>b.firstSeenTime},{id:"lastSeen",accessor:b=>b.lastSeenTime},{id:"playbookUri",accessor:b=>{let c,d;return null==
(c=b.group)?void 0:null==(d=c.attachedErrorInfo)?void 0:d.playbookUri}},{id:"status",accessor:b=>AGe(b)||""}];this.coliseumConfig=[{id:"sparkline",accessor:b=>b.filteredCounts},{id:"count",accessor:b=>b.filteredTotalCount},{id:"error",accessor:b=>b.rowTitle},{id:"users",accessor:b=>b.filteredAffectedUsersCount},{id:"firstSeen",accessor:b=>b.filteredFirstSeen},{id:"lastSeen",accessor:b=>b.filteredLastSeen},{id:"playbookUri",accessor:b=>b.serviceErrorUri},{id:"status",accessor:b=>b.responseCode}];this.errorGroupPageSizeOptions=
[10,30,50,100,200];this.pageSizeInternal=50;this.clientTableManager=a.createTableManager()}hasLocation(a){if(void 0===a.representative)return!1;let b,c,d;return void 0!==(null==(b=a.representative.exception)?void 0:b.stackFrames)||void 0!==(null==(c=a.representative.exception)?void 0:c.causeLocation)||void 0!==(null==(d=a.representative.context)?void 0:d.reportLocation)}};_.jHe.\u0275fac=function(a){return new (a||_.jHe)(_.A(_.Kz))};
_.jHe.\u0275cmp=_.fd({type:_.jHe,selectors:[["crash-error-table-view"]],inputs:{errorGroupStats:"errorGroupStats",serviceContextFilter:"serviceContextFilter",pageSize:"pageSize",columns:"columns",timeWindowSeconds:"timeWindowSeconds",fillContainerWidth:"fillContainerWidth",linkType:"linkType",linkTimeRange:"linkTimeRange"},decls:4,vars:2,consts:()=>[["noErrors",""],["empty",""]," Troubleshooting guide "," Troubleshooting guide "," No errors have been received in this time period. ",[4,"ngIf"],["class",
"crash-error-table","externalTableCaptionId","crash-error-table",3,"columnsConfig","fillContainerWidth","tableManager","pagination","pageSizeOptions","rowsPerPage","tableRendererV2",4,"ngIf","ngIfElse"],["externalTableCaptionId","crash-error-table",1,"crash-error-table",3,"columnsConfig","fillContainerWidth","tableManager","pagination","pageSizeOptions","rowsPerPage","tableRendererV2"],["id","sparkline","header","Occurrences","cellAlignment","center","type","non_filterable",3,"hidden","maxWidth",
"width"],["class","error-table-sparkline-cell",4,"cfcTableTemplate"],["id","count","header","Count","cellAlignment","right","type","number",3,"hidden","maxWidth"],[4,"cfcTableTemplate"],["id","error","header","Error","overflow","truncate","type","non_filterable",3,"hidden"],["id","users","header","Users","cellAlignment","right","type","number",3,"hidden"],["id","firstSeen","header","First seen","type","non_filterable",3,"hidden"],["id","lastSeen","header","Last seen","type","non_filterable",3,"hidden"],
["id","playbookUri","header","Documentation","type","non_filterable",3,"hidden"],["id","status","header","Status","type","number",3,"hidden"],[1,"error-table-sparkline-cell"],["class","crash-sparkline-fill",4,"ngFor","ngForOf"],[1,"crash-sparkline-fill"],[3,"errorGroup","linkType","linkTimeRange","timeWindowSeconds","serviceContextFilter"],[3,"sourceLocation","serviceContext","programmingLanguage",4,"ngIf"],[3,"sourceLocation","serviceContext","programmingLanguage"],[4,"ngIf","ngIfElse"],["target",
"_blank",3,"href"],["icon","external-link"],["id","sparkline","header","Occurrences","cellAlignment","center","type","non_filterable",3,"hidden","maxWidth","width"],["id","count","header","Count","cellAlignment","right","type","number",3,"hidden","maxWidth"],["id","error","header","Error","overflow","truncate","type","non_filterable",3,"hidden"],["id","users","header","Users","cellAlignment","right","type","number",3,"hidden"],["id","firstSeen","header","First seen","type","non_filterable",3,"hidden"],
["id","lastSeen","header","Last seen","type","non_filterable",3,"hidden"],["id","playbookUri","header","Documentation","type","non_filterable",3,"hidden"],["id","status","header","Status","type","number",3,"hidden"],[3,"sourceLocation","serviceContext",4,"ngIf"],[3,"sourceLocation","serviceContext"],[1,"cfc-space-above-minus-3"]],template:function(a,b){a&1&&_.D(0,DGe,2,2,"div",5)(1,UGe,2,2,"div",5)(2,VGe,2,0,"ng-template",null,0,_.fg);a&2&&(_.G("ngIf",b.onePlatformData),_.z(),_.G("ngIf",b.coliseumData))},
dependencies:[_.dl,_.el,dHe,gHe,_.so,_.fA,_.Lz,_.Mz,_.hA,WGe,_.HQ],styles:[".error-table-sparkline-cell{margin-top:12px}.crash-sparkline-fill{fill:var(--cm-sys-color-primary,#3367d6)}crash-error-table-title,crash-source-location{display:block}.crash-error-table-title{max-width:900px}"],encapsulation:2,changeDetection:0});_.kHe=class{};_.kHe.\u0275fac=function(a){return new (a||_.kHe)};_.kHe.\u0275mod=_.gd({type:_.kHe});_.kHe.\u0275inj=_.Rc({imports:[_.kl,eHe,hHe,_.Gx,_.Do,_.jA]});
}catch(e){_._DumpException(e)}
try{
var gkh=function(a){a&1&&(_.H(0,"div"),_.J(1,"cfc-loader",9),_.I());a&2&&(a=_.O(),_.z(),_.G("promise",a.dialogData.contentPromise))},hkh=function(a){a&1&&(_.H(0,"cfc-message",18)(1,"cfc-message-text"),_.S(2),_.I()());a&2&&(a=_.O(2),_.G("type","error"),_.z(2),_.V(" ",a.formErrorMessage," "))},ikh=function(a){a&1&&(_.H(0,"a",21),_.S(1),_.I());a&2&&(a=_.O(3),_.G("cfcDocHref",a.dialogData.descriptionMessage.docLink.href),_.z(),_.V(" ",a.dialogData.descriptionMessage.docLink.label," "))},jkh=function(a){a&
1&&(_.H(0,"cfc-message",19)(1,"cfc-message-text"),_.S(2),_.D(3,ikh,2,2,"a",20),_.I()());a&2&&(a=_.O(2),_.G("type",a.dialogData.descriptionMessage.type),_.z(2),_.V(" ",a.dialogData.descriptionMessage.message," "),_.z(),_.G("ngIf",a.dialogData.descriptionMessage.docLink))},lkh=function(a,b){a&1&&(_.H(0,"div",22),_.J(1,"div",23),_.I());if(a&2){a=b.$implicit;b=b.index;const c=_.O(2),d=_.Yf(8);_.z();_.Bf("cfc-space-below-plus-2",0!==b);_.G("ngTemplateOutlet",d)("ngTemplateOutletContext",_.qy(4,kkh,a,c.dialogData,
b))}},mkh=function(a){a&1&&(_.H(0,"div"),_.S(1),_.I());a&2&&(a=_.O(2),_.z(),_.V(" ",a.dialogData.secondaryDescription," "))},okh=function(a,b){a&1&&(_.H(0,"div"),_.Hf(1,23),_.I());if(a&2){a=b.$implicit;b=b.index;const c=_.O(3),d=_.Yf(8);_.z();_.Bf("cfc-space-below-plus-2",0!==b);_.G("ngTemplateOutlet",d)("ngTemplateOutletContext",_.eg(4,nkh,a,c.dialogData))}},qkh=function(a){a&1&&(_.H(0,"div",14),_.D(1,okh,2,7,"div",24),_.I());a&2&&(a=_.O(2),_.G("ngClass",_.eg(3,pkh,!a.dialogData.showShortVersionContent&&
a.dialogData.showSecondaryContent,a.dialogData.showShortVersionContent)),_.z(),_.G("ngForOf",a.dialogData.secondaryContent)("ngForTrackBy",a.$index))},rkh=function(a){if(a&1){const b=_.n();_.H(0,"div")(1,"div",10);_.S(2);_.J(3,"a",11);_.I();_.D(4,hkh,3,2,"cfc-message",12)(5,jkh,4,3,"cfc-message",13);_.H(6,"div",14);_.D(7,lkh,2,8,"div",15);_.I();_.D(8,mkh,2,1,"div",7)(9,qkh,2,6,"div",16);_.H(10,"mat-checkbox",17);_.Iw("ngModelChange",function(c){_.p(b);const d=_.O();_.Hw(d.dialogData.lineWrap,c)||
(d.dialogData.lineWrap=c);return _.r(c)});_.M(11,1);_.I()()}a&2&&(a=_.O(),_.z(2),_.V(" ",a.dialogData.description," "),_.z(),_.lu("linkText",a.dialogData.docLink.label),_.lu("track-name",a.dialogData.docLink.trackAs),_.G("cfc-external-link",a.dialogData.docLink.href),_.z(),_.G("ngIf",a.dialogData.showFormError),_.z(),_.G("ngIf",a.dialogData.descriptionMessage),_.z(),_.G("ngClass",_.eg(14,pkh,!a.dialogData.showShortVersionContent&&a.dialogData.showSecondaryContent,a.dialogData.showShortVersionContent)),
_.z(),_.G("ngForOf",a.dialogData.content)("ngForTrackBy",a.$index),_.z(),_.G("ngIf",a.dialogData.showSecondaryContent),_.z(),_.G("ngIf",a.dialogData.showSecondaryContent),_.z(),_.Gw("ngModel",a.dialogData.lineWrap),_.G("ve",a.ve.GceRestGcloudLineWrappingToggle)("veClick",!0))},tkh=function(a){a&1&&(_.H(0,"cfc-easy-copy",29),_.M(1,3),_.I());a&2&&(a=_.O(2),_.G("copyText",skh(a))("isDefaultButton",!0)("primary",!0)("copyButtonAriaLabel",a.dialogData.showDevShellButton?a.cmdLineCopyButtonAriaLabel:a.restCopyButtonAriaLabel)("copyButtonVe",
a.ve.GceRestGcloudCopyButton))},ukh=function(a){if(a&1){const b=_.n();_.H(0,"button",30);_.N("click",function(){_.p(b);const c=_.O(2);return _.r(c.onClick())});_.M(1,4);_.I()}a&2&&(a=_.O(2),_.G("cfcDisable",a.dialogData.showFormError)("cfcDisableTooltip",a.formErrorDisabledTooltip))},vkh=function(a){a&1&&(_.H(0,"div",25),_.D(1,tkh,2,5,"cfc-easy-copy",26)(2,ukh,2,2,"button",27),_.H(3,"button",28),_.M(4,2),_.I()());a&2&&(a=_.O(),_.z(),_.G("ngIf",!a.dialogData.contentPromise),_.z(),_.G("ngIf",a.dialogData.showDevShellButton&&
!a.dialogData.contentPromise&&!a.isByoidUser),_.z(),_.G("ve",a.ve.GceRestGcloudCloseButton)("veClick",!0))},wkh=function(a){a&1&&(_.H(0,"pre",32),_.X(1,"pure"),_.S(2),_.I());if(a&2){var b=_.O();a=b.contentBlock;const c=b.dialogData;b=b.index;const d=_.O();_.G("copyButtonLabel",_.Jw(1,3,b,d.getCopyButtonLabelShell))("wrapLines",c.lineWrap);_.z(2);_.V("      ",a,"\n    ")}},xkh=function(a){a&1&&(_.H(0,"pre",33),_.X(1,"pure"),_.S(2),_.I());if(a&2){var b=_.O();a=b.contentBlock;const c=b.dialogData;b=
b.index;const d=_.O();_.G("copyButtonLabel",_.Jw(1,3,b,d.getCopyButtonLabelPlain))("wrapLines",c.lineWrap);_.z(2);_.V("      ",a,"\n    ")}},ykh=function(a,b){a&1&&_.D(0,wkh,3,6,"pre",31)(1,xkh,3,6);a&2&&_.Df(0,b.dialogData.showDevShellButton?0:1)},zkh=function(){var a=window.getSelection();if(a)if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(b){}},Akh=class{transform(a,b){return b(a)}};Akh.\u0275fac=function(a){return new (a||Akh)};
Akh.\u0275pipe=_.ld({name:"pure",type:Akh,pure:!0});var Bkh=class{};Bkh.\u0275fac=function(a){return new (a||Bkh)};Bkh.\u0275mod=_.gd({type:Bkh});Bkh.\u0275inj=_.Rc({});
_.Ckh=class{constructor(a,b){this.embeddedToolsService=a;this.cacheService=b;this.initializedCache=this.cacheService.create("globalDevShellInitializedCacheId","Globally-shared cache storing the dev shell intialized status.");this.openCache=this.cacheService.create("globalDevShellOpenacheId","Globally-shared cache storing the dev shell open status.");this.initialized=this.initializedCache.onValueChangeFiltered("devShellInitializedCacheKey");this.initializedCache.has("devShellInitializedCacheKey")||
this.initializedCache.set("devShellInitializedCacheKey",!1);this.openCache.has("devShellOpenCacheKey")||this.openCache.set("devShellOpenCacheKey",!1);_.zc()||(a.isCloudShellConfigured.subscribe(c=>{this.initializedCache.set("devShellInitializedCacheKey",c)}),a.isCloudShellOpen.subscribe(c=>{this.openCache.set("devShellOpenCacheKey",c)}))}get devShellInitialized(){return{promise:this.initialized.pipe(_.pe(a=>a),_.We()).toPromise(),resolve:()=>{this.initializedCache.set("devShellInitializedCacheKey",
!0)},reject:()=>{},notify:()=>{}}}activate(){this.embeddedToolsService.openCloudShell()}};_.Ckh.\u0275fac=function(a){return new (a||_.Ckh)(_.k(_.II),_.k(_.Rl))};_.Ckh.\u0275prov=_.h({token:_.Ckh,factory:_.Ckh.\u0275fac,providedIn:"root"});var pkh=(a,b)=>({"rest-gcloud-content-medium":a,"rest-gcloud-content-small":b}),kkh=(a,b,c)=>({contentBlock:a,dialogData:b,index:c}),nkh=(a,b)=>({contentBlock:a,dialogData:b}),skh=function(a){if("string"===typeof a.dialogData.content)a=a.dialogData.content;else if(Array.isArray(a.dialogData.content))a=a.dialogData.content.join(" && ");else return;return a},Dkh=class extends _.or{constructor(a,b){super();this.devShellService=a;this.data=b;this.restCopyButtonAriaLabel="Copy REST request to clipboard";
this.cmdLineCopyButtonAriaLabel="Copy GCloud command line to clipboard";this.formErrorMessage="Please resolve the error(s) in the form before attempting to execute this command";this.formErrorDisabledTooltip="This command is disabled while there are errors in the form.";this.isByoidUser=!1;this.getCopyButtonLabelPlain=c=>"Copy code "+String(c+1);this.getCopyButtonLabelShell=c=>"Copy shell command "+String(c+1);this.ve={GceRestGcloudLineWrappingToggle:167504,GceRestGcloudCopyButton:167503,GceRestGcloudCloseButton:167502};
this.dialogData=b.dialogData;this.sendAnalyticsEvent=b.sendAnalyticsEvent;zkh();this.isByoidUser=_.uh()}executeInDevShell(){if(this.devShellService){const a=skh(this);a&&(this.devShellService.embeddedToolsService.openCloudShellAndEnterCommand(a),this.sendAnalyticsEvent("openGcloudCommandInDevShell"))}}onClick(){const a=this.executeInDevShell();this.dialogRef.close(a)}},Ekh;Dkh.\u0275fac=function(a){return new (a||Dkh)(_.A(_.Ckh),_.A(_.Gn))};
Dkh.\u0275cmp=_.fd({type:Dkh,selectors:[["ng-component"]],features:[_.xf],decls:9,vars:6,consts:()=>[["codeSnippet",""]," Line wrapping "," Close "," Copy to clipboard "," Run in Cloud Shell ",["matDialogTitle","",1,"rest-dialog-title"],["matDialogContent","",1,"rest-dialog-content"],[4,"ngIf"],["matDialogActions","","class","rest-dialog-actions",4,"ngIf"],[1,"restgcloud_content_loader",3,"promise"],[1,"cfc-text-caption"],["target","_blank","cfcTrackedEvent","","track-type","Leave",3,"cfc-external-link",
"linkText","track-name"],["id","form-error-message","class","cfc-space-above-plus-1",3,"type",4,"ngIf"],["class","cfc-space-above-plus-1",3,"type",4,"ngIf"],[1,"rest-gcloud-content","cfc-fixed-font",3,"ngClass"],["class","p6ntest-compute-rest-gcloud-content-container",4,"ngFor","ngForOf","ngForTrackBy"],["class","rest-gcloud-content cfc-fixed-font",3,"ngClass",4,"ngIf"],[3,"ngModelChange","ngModel","ve","veClick"],["id","form-error-message",1,"cfc-space-above-plus-1",3,"type"],[1,"cfc-space-above-plus-1",
3,"type"],[3,"cfcDocHref",4,"ngIf"],[3,"cfcDocHref"],[1,"p6ntest-compute-rest-gcloud-content-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf","ngForTrackBy"],["matDialogActions","",1,"rest-dialog-actions"],["iconSize","medium",3,"copyText","isDefaultButton","primary","copyButtonAriaLabel","copyButtonVe",4,"ngIf"],["color","primary","mat-button","","name","execute",3,"cfcDisable","cfcDisableTooltip","click",4,"ngIf"],["color","primary","mat-button","","matDialogClose",
"",3,"ve","veClick"],["iconSize","medium",3,"copyText","isDefaultButton","primary","copyButtonAriaLabel","copyButtonVe"],["color","primary","mat-button","","name","execute",3,"click","cfcDisable","cfcDisableTooltip"],["cfc-code-snippet-shell",""],["cfc-code-snippet-shell","",3,"copyButtonLabel","wrapLines"],["cfc-code-snippet-plain","",3,"copyButtonLabel","wrapLines"]],template:function(a,b){a&1&&(_.H(0,"h1",5),_.S(1),_.I(),_.H(2,"div",6),_.D(3,gkh,2,1,"div",7)(4,rkh,12,17,"div",7),_.I(),_.D(5,vkh,
5,4,"div",8),_.X(6,"async"),_.D(7,ykh,2,1,"ng-template",null,0,_.fg));a&2&&(_.z(),_.V(" ",b.dialogData.title,"\n"),_.z(2),_.G("ngIf",b.dialogData.contentPromise),_.z(),_.G("ngIf",!b.dialogData.contentPromise),_.z(),_.G("ngIf",_.Y(6,4,b.dialogRendered)))},dependencies:[_.Wr,_.Tr,_.uT,_.f6,_.cl,_.dl,_.el,_.il,_.Jx,_.yu,_.r3,_.rQ,_.tD,_.Yw,_.ft,_.qE,_.yt,_.gp,_.xt,_.Gv,_.Hv,_.Ev,_.Ls,_.In,_.Jn,_.Ms,_.to,_.wo,_.jl,Akh],styles:[".rest-dialog-title.rest-dialog-title[_ngcontent-%COMP%]{margin-bottom:16px}.rest-dialog-content.rest-dialog-content[_ngcontent-%COMP%]{margin-bottom:-8px;max-width:768px}.rest-dialog-actions.rest-dialog-actions[_ngcontent-%COMP%]{margin:0 -8px -16px}.rest-gcloud-content.rest-gcloud-content[_ngcontent-%COMP%]{padding:24px;margin:24px -24px 8px;background-color:var(--cm-sys-color-neutral-container,#fafafa);border-top:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12));border-bottom:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12));font-size:12px;line-height:16px;white-space:pre;height:400px;overflow:scroll}.rest-gcloud-content-medium.rest-gcloud-content-medium[_ngcontent-%COMP%]{height:200px}.rest-gcloud-content-small.rest-gcloud-content-small[_ngcontent-%COMP%]{height:100px}"]});
Ekh=[_.Xr,_.eTd,_.g6,_.kl,_.Qx,_.Yx,_.s3,_.PB,_.wD,_.bx,_.rE,_.At,_.Jv,_.Vn,_.Eo,Bkh];_.Fkh=class{};_.Fkh.\u0275fac=function(a){return new (a||_.Fkh)};_.Fkh.\u0275mod=_.gd({type:_.Fkh,id:"pm_rest_gcloud_dialog"});_.Fkh.\u0275inj=_.Rc({providers:[{provide:_.Ul,useValue:{RestGcloudDialogController:Dkh}}],imports:[_.eP,_.fkh,Ekh]});_.tf(_.Fkh,"pm_rest_gcloud_dialog");
}catch(e){_._DumpException(e)}
try{
var Uzi;_.Szi=new _.nd("API_VERSION");_.Tzi=new _.nd("REQUEST_SERVICE");
_.A$={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",callback:"callback",cloudEntityRestrictions:"cloudEntityRestrictions",fields:"fields",filter:"filter",groupingEntityGrouping:"grouping.entityGrouping",groupingPrimaryServiceGrouping:"grouping.primaryServiceGrouping",groupingProjectGrouping:"grouping.projectGrouping",groupingRecommenderGrouping:"grouping.recommenderGrouping",groupingStateGrouping:"grouping.stateGrouping",includeInternalSubtypes:"includeInternalSubtypes",includeUnrevealedLocations:"includeUnrevealedLocations",
key:"key",oauth_token:"oauth_token",orderBy:"orderBy",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",queryMode:"queryMode",quotaUser:"quotaUser",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",validateOnly:"validateOnly"};
Uzi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.recommenders.recommendations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,_.A$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.recommenders.recommendations.list",path:`/${this.gapiVersion}/${a}/recommendations`,queryParams:_.li(b,_.A$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,
queryParams:_.li({},_.A$,{})})}markFailed(a,b){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markFailed",path:`/${this.gapiVersion}/${a}:markFailed`,queryParams:_.li({},_.A$,{})})}markSucceeded(a,b,c={},d={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,
httpMethod:"POST",methodId:"recommender.folders.locations.recommenders.recommendations.markSucceeded",path:`/${this.gapiVersion}/${a}:markSucceeded`,queryParams:_.li(c,_.A$,d)})}};Uzi.\u0275fac=function(a){return new (a||Uzi)(_.k(_.Szi,8),_.k(_.Tzi),_.k(_.gq,8))};Uzi.\u0275prov=_.h({token:Uzi,factory:Uzi.\u0275fac});
var Vzi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.recommenders.recommendations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,_.A$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.recommenders.recommendations.list",path:`/${this.gapiVersion}/${a}/recommendations`,queryParams:_.li(b,_.A$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,
queryParams:_.li({},_.A$,{})})}markFailed(a,b){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markFailed",path:`/${this.gapiVersion}/${a}:markFailed`,queryParams:_.li({},_.A$,{})})}markSucceeded(a,b,c={},d={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,
{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.recommenders.recommendations.markSucceeded",path:`/${this.gapiVersion}/${a}:markSucceeded`,queryParams:_.li(c,_.A$,d)})}};Vzi.\u0275fac=function(a){return new (a||Vzi)(_.k(_.Szi,8),_.k(_.Tzi),_.k(_.gq,8))};Vzi.\u0275prov=_.h({token:Vzi,factory:Vzi.\u0275fac});
var Wzi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.recommenders.recommendations.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,_.A$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.recommenders.recommendations.list",path:`/${this.gapiVersion}/${a}/recommendations`,queryParams:_.li(b,_.A$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,
queryParams:_.li({},_.A$,{})})}markFailed(a,b){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markFailed",path:`/${this.gapiVersion}/${a}:markFailed`,queryParams:_.li({},_.A$,{})})}markSucceeded(a,b,c={},d={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/recommenders/[^/]+/recommendations/[^/]+$"));return _.Iq(this.$apiClient,{body:b,
httpMethod:"POST",methodId:"recommender.projects.locations.recommenders.recommendations.markSucceeded",path:`/${this.gapiVersion}/${a}:markSucceeded`,queryParams:_.li(c,_.A$,d)})}};Wzi.\u0275fac=function(a){return new (a||Wzi)(_.k(_.Szi,8),_.k(_.Tzi),_.k(_.gq,8))};Wzi.\u0275prov=_.h({token:Wzi,factory:Wzi.\u0275fac});_.Xzi=class{constructor(a){a=a.create({host:_.Cc("pantheon_cloudRecommenderApiUrl"),version:"v1beta1"});this.projectsClient=a.init(Wzi);this.foldersClient=a.init(Uzi);this.organizationsClient=a.init(Vzi)}getClientForName(a){if(a.startsWith("projects"))return this.projectsClient;if(a.startsWith("folders"))return this.foldersClient;if(a.startsWith("organizations"))return this.organizationsClient;throw Error("tq`"+a);}};_.Xzi.\u0275fac=function(a){return new (a||_.Xzi)(_.k(_.hq))};
_.Xzi.\u0275prov=_.h({token:_.Xzi,factory:_.Xzi.\u0275fac,providedIn:"root"});
}catch(e){_._DumpException(e)}
try{
var cAi=function(a,b){a.navigate([],{queryParams:{env:b},queryParamsHandling:"merge"})},dAi=function(a){a.upgradeService.abortFunctionUpgrade(a.data.model.fullName).pipe(_.C(a.onDestroy)).subscribe(()=>{cAi(a.router,"gen1");a.data.model.upgradeInfo.upgradeState="UPGRADE_OPERATION_IN_PROGRESS";a.analyticsService.sendAnalyticsEvent("abortFunctionUpgradeSuccess",a.data.model);a.dialogRef.close()},()=>{a.confirmButtonInProgress=!1;a.analyticsService.sendAnalyticsEvent("abortFunctionUpgradeError",a.data.model)})},
eAi=function(a){a.upgradeService.redirectFunctionUpgradeTraffic(a.data.model.fullName).pipe(_.C(a.onDestroy)).subscribe(()=>{cAi(a.router,"gen2");a.data.model.upgradeInfo.upgradeState="UPGRADE_OPERATION_IN_PROGRESS";a.analyticsService.sendAnalyticsEvent("redirectFunctionUpgradeTrafficSuccess",a.data.model);a.dialogRef.close()},()=>{a.confirmButtonInProgress=!1;a.analyticsService.sendAnalyticsEvent("redirectFunctionUpgradeTrafficError",a.data.model)})},fAi=function(a){a.upgradeService.rollbackFunctionUpgradeTraffic(a.data.model.fullName).pipe(_.C(a.onDestroy)).subscribe(()=>
{cAi(a.router,"gen1");a.data.model.upgradeInfo.upgradeState="UPGRADE_OPERATION_IN_PROGRESS";a.analyticsService.sendAnalyticsEvent("rollbackFunctionUpgradeTrafficSuccess",a.data.model);a.dialogRef.close()},()=>{a.confirmButtonInProgress=!1;a.analyticsService.sendAnalyticsEvent("rollbackFunctionUpgradeTrafficError",a.data.model)})},gAi=function(a){a.upgradeService.commitFunctionUpgrade(a.data.model.fullName).pipe(_.C(a.onDestroy)).subscribe(()=>{a.data.model.upgradeInfo.upgradeState="UPGRADE_OPERATION_IN_PROGRESS";
a.analyticsService.sendAnalyticsEvent("commitFunctionUpgradeSuccess",a.data.model);a.dialogRef.close()},()=>{a.confirmButtonInProgress=!1;a.analyticsService.sendAnalyticsEvent("commitFunctionUpgradeError",a.data.model)})},hAi=class{constructor(a,b,c,d,e){this.data=a;this.analyticsService=b;this.dialogRef=c;this.upgradeService=d;this.router=e;this.confirmButtonInProgress=!1;this.onDestroy=new _.hf}ngOnDestroy(){this.onDestroy.next()}get title(){return 0===this.data.type?"Abort function upgrade?":1===
this.data.type?"Redirect traffic to this function?":2===this.data.type?"Rollback traffic for this function?":3===this.data.type?"Commit function upgrade?":""}get content(){return 0===this.data.type?_.qw("This will abort the upgrade process and delete the 2nd gen copy of your 1st gen function {FUNCTION_NAME}.",{FUNCTION_NAME:this.data.model.name}):1===this.data.type?_.qw("This will redirect all traffic from the 1st gen function {FUNCTION_NAME} to its 2nd gen copy. Please ensure that you have tested the 2nd gen function before proceeding.",
{FUNCTION_NAME:this.data.model.name}):2===this.data.type?_.qw("This will rollback all traffic from 2nd gen function {FUNCTION_NAME} to the original 1st gen copy. Your 2nd gen copy will still be available for testing.",{FUNCTION_NAME:this.data.model.name}):3===this.data.type?_.qw("This will complete the upgrade process for function {FUNCTION_NAME} and delete the original 1st gen copy.",{FUNCTION_NAME:this.data.model.name}):""}get confirmButtonVe(){if(0===this.data.type)return 207784;if(1===this.data.type)return 207785;
if(2===this.data.type)return 207786;if(3===this.data.type)return 207787}handleConfirm(){this.confirmButtonInProgress=!0;0===this.data.type?dAi(this):1===this.data.type?eAi(this):2===this.data.type?fAi(this):3===this.data.type&&gAi(this)}};hAi.\u0275fac=function(a){return new (a||hAi)(_.A(_.Gn),_.A(_.G8),_.A(_.Fn),_.A(_.B$),_.A(_.Nl))};
hAi.\u0275cmp=_.fd({type:hAi,selectors:[["gcf-upgrade-confirm-dialog"]],decls:11,vars:5,consts:()=>[" Confirm "," Cancel ",["matDialogTitle",""],["matDialogContent",""],["matDialogActions",""],[3,"inProgress"],["mat-raised-button","","color","primary",3,"click","ve","veClick"],"mat-button  matDialogClose  color primary".split(" ")],template:function(a,b){a&1&&(_.H(0,"h1",2),_.S(1),_.I(),_.H(2,"div",3)(3,"p"),_.S(4),_.I()(),_.H(5,"div",4)(6,"cfc-progress-button",5)(7,"button",6),_.N("click",function(){return b.handleConfirm()}),
_.M(8,0),_.I(),_.H(9,"button",7),_.M(10,1),_.I()()());a&2&&(_.z(),_.V(" ",b.title,"\n"),_.z(3),_.V(" ",b.content," "),_.z(2),_.G("inProgress",b.confirmButtonInProgress),_.z(),_.G("ve",b.confirmButtonVe)("veClick",!0))},dependencies:[_.Wr,_.Tr,_.yt,_.gp,_.xt,_.Ls,_.In,_.Jn,_.Ms,_.Nv],encapsulation:2});var iAi=[_.Xr,_.kl,_.At,_.Vn,_.Ov],jAi=class{};jAi.\u0275fac=function(a){return new (a||jAi)};jAi.\u0275mod=_.gd({type:jAi,id:"pm_gcf_upgrade_confirm_dialog"});
jAi.\u0275inj=_.Rc({providers:[{provide:_.Ul,useValue:{GcfUpgradeConfirmDialog:hAi}}],imports:[iAi]});_.tf(jAi,"pm_gcf_upgrade_confirm_dialog");
}catch(e){_._DumpException(e)}
try{
_.Eg("pm_functions_details_view");
var lAi=function(a){return _.k6(a)},mAi=function(a){return _.Se.pipe(_.nf(void 0),_.Zla(_.WAc(a,"pageData")),_.of(b=>b))},nAi=function(){},oAi=function(){},pAi=function(){},qAi=function(a){a&1&&_.D(0,pAi,0,0,"ng-template",10);a&2&&(a=_.O().$implicit,_.G("cdkPortalOutlet",a.templateLabel))},rAi=function(a){a&1&&_.S(0);a&2&&(a=_.O().$implicit,_.Zf(a.textLabel))},sAi=function(a,b){if(a&1){const c=_.n();_.H(0,"div",7);_.N("click",function(){var d=_.p(c);const e=d.$implicit;d=d.index;const f=_.O(),g=_.Yf(1);
return _.r(f._handleClick(e,g,d))})("cdkFocusChange",function(d){const e=_.p(c).index,f=_.O();return _.r(f._tabFocusChanged(d,e))});_.H(1,"div",8);_.D(2,qAi,1,1,"ng-template",9)(3,rAi,1,1,"ng-template",null,2,_.fg);_.I()()}if(a&2){a=b.$implicit;b=b.index;const c=_.Yf(4),d=_.O();_.Bf("mat-tab-label-active",d.selectedIndex===b);_.G("id",d._getTabLabelId(b))("ngClass",a.labelClass)("disabled",a.disabled)("matRippleDisabled",a.disabled||d.disableRipple);_.zf("tabIndex",d._getTabIndex(b))("aria-posinset",
b+1)("aria-setsize",d._tabs.length)("aria-controls",d._getTabContentId(b))("aria-selected",d.selectedIndex===b)("aria-label",a.ariaLabel||null)("aria-labelledby",!a.ariaLabel&&a.ariaLabelledby?a.ariaLabelledby:null);_.z(2);_.G("ngIf",a.templateLabel)("ngIfElse",c)}},tAi=function(a,b){if(a&1){const c=_.n();_.H(0,"mat-tab-body",11);_.N("_onCentered",function(){_.p(c);const d=_.O();return _.r(d._removeTabBodyWrapperHeight())})("_onCentering",function(d){_.p(c);const e=_.O();return _.r(e._setTabBodyWrapperHeight(d))});
_.I()}if(a&2){a=b.$implicit;b=b.index;const c=_.O();_.Bf("mat-tab-body-active",c.selectedIndex===b);_.G("id",c._getTabContentId(b))("ngClass",a.bodyClass)("content",a.content)("position",a.position)("origin",a.origin)("animationDuration",c.animationDuration)("preserveContent",c.preserveContent);_.zf("tabindex",null!=c.contentTabIndex&&c.selectedIndex===b?c.contentTabIndex:null)("aria-labelledby",c._getTabLabelId(b))}},uAi=function(a){a&1&&(_.H(0,"div"),_.S(1," You're about to remove "),_.H(2,"b"),
_.S(3,"all roles"),_.I(),_.S(4," for the principle "),_.H(5,"b"),_.S(6),_.I(),_.S(7," in the project of "),_.H(8,"b"),_.S(9),_.I(),_.S(10,". "),_.H(11,"cfc-message",15)(12,"cfc-message-text"),_.Kf(13,2),_.H(14,"p"),_.J(15,"br")(16,"br"),_.I(),_.Lf(),_.I()()());a&2&&(a=_.O(),_.z(6),_.Zf(a.memberToBeDeleted),_.z(3),_.Zf(a.resourceId))},vAi=function(a){a&1&&(_.S(0," You're about to remove "),_.H(1,"b"),_.S(2,"all roles"),_.I(),_.S(3," for "),_.H(4,"b"),_.S(5),_.I(),_.S(6," in the project of "),_.H(7,
"b"),_.S(8),_.I(),_.S(9,". "),_.H(10,"cfc-message",15)(11,"cfc-message-text"),_.Kf(12,3),_.H(13,"p"),_.J(14,"br")(15,"br"),_.I(),_.Lf(),_.I()());a&2&&(a=_.O(),_.z(5),_.V("",a.membersToBeDeletedCount," principles "),_.z(3),_.Zf(a.resourceId))},wAi=function(a){a&1&&(_.H(0,"cm-error",16)(1,"span"),_.Kf(2,4),_.J(3,"b"),_.Lf(),_.I()());a&2&&(a=_.O(),_.z(3),_.Mf(a.resourceId),_.Nf(2))},xAi=function(a){if(""!==a)return a},yAi=function(a){switch(a){case "docker":return"DOCKER";case "maven":return"MAVEN";
case "npm":return"NPM";case "python":return"PYTHON";case "apt":return"APT";case "yum":return"YUM";case "kfp":return"KFP";case "go":return"GO";case "generic":return"GENERIC"}},zAi=function(a){switch(a){case "DOCKER":return"docker";case "MAVEN":return"maven";case "NPM":return"npm";case "PYTHON":return"python";case "APT":return"apt";case "YUM":return"yum";case "KFP":return"kfp";case "GO":return"go";case "GENERIC":return"generic";default:return"browse"}},AAi=function(a){return{format:yAi(a.format),projectId:a.projectId,
locationName:a.locationName,repositoryName:a.repositoryName,packageName:a.packageName,versionName:a.versionName,tagName:a.tagName}},BAi=function(a){return a.offsetWidth<a.scrollWidth},CAi=function(a){a&1&&(_.H(0,"div",13)(1,"cfc-help-button",14),_.S(2),_.I()());a&2&&(a=_.O(),_.z(2),_.V(" ",a.cardTitle.helpText," "))},DAi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-progress-button",17)(1,"button",18);_.N("click",function(){_.p(b);const c=_.O(2);return _.r(c.editHandler(c.resource))});_.J(2,"cfc-icon",
19);_.I()()}a&2&&(a=_.O(2),_.G("inProgress",a.isEditInProgress?a.isEditInProgress(a.resource.name):!1),_.z(),_.G("cfcTooltip",a.messages.editResourceTooltip)("cfcDisable",a.isDeleteInProgress(a.resource.name))("cfcIamCheck",null==a.permissions?null:a.permissions.edit)("cfcIamDisableDuringPermissionFetch",!0)("cfcIamOperator",a.iamCheckAndOperator)("ve",a.editButtonVe)("veClick",!0))},FAi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-progress-button",17)(1,"button",20);_.N("click",function(){_.p(b);
const c=_.O(2);return _.r(EAi(c,c.resource))});_.J(2,"cfc-icon",21);_.I()()}a&2&&(a=_.O(2),_.G("inProgress",a.isDeleteInProgress(a.resource.name)),_.z(),_.G("cfcTooltip",a.messages.deleteResourceTooltip)("cfcIamCheck",null==a.permissions?null:a.permissions.delete)("cfcIamDisableDuringPermissionFetch",!0)("cfcIamOperator",a.iamCheckAndOperator)("ve",a.deleteButtonVe)("veClick",!0))},GAi=function(a){a&1&&(_.H(0,"div",15),_.D(1,DAi,3,8,"cfc-progress-button",16)(2,FAi,3,7,"cfc-progress-button",16),_.I());
a&2&&(a=_.O(),_.z(),_.G("ngIf",a.shouldDisplayEditButton),_.z(),_.G("ngIf",a.shouldDisplayDeleteButton))},HAi=function(a){a&1&&_.Hf(0)},IAi=function(a){a&1&&_.Hf(0)},KAi=function(a){a&1&&(_.H(0,"mat-card-actions"),_.D(1,IAi,1,0,"ng-container",11),_.I());a&2&&(a=_.O(),_.z(),_.G("ngTemplateOutlet",a.cardActionsTemplate)("ngTemplateOutletContext",_.eg(2,JAi,a.resource,a.isDeleteInProgress(a.resource.name))))},LAi=function(a,b){a&1&&(_.H(0,"span",22),_.S(1),_.I());if(a&2){let c;a=b.$implicit;_.z();_.V(" ",
null!==(c=a.description)&&void 0!==c?c:""," ")}},MAi=function(a){if(a&1){const b=_.n();_.H(0,"s8s-companion-card",12);_.N("onEditClicked",function(){_.p(b);const c=_.O();return _.r(c.editHandler())});_.I()}if(a&2){a=_.O();const b=_.Yf(11);_.G("cardContentTemplate",b)("cardTitle",a.triggerTitle)("deleteResource",a.deleteTrigger)("isDeleteInProgress",a.isDeleteInProgress)("overrideMessages",a.companionCardMessages)("resource",a.companionCardCompatible)("supportedActionButtons",a.companionCardSupportedActions)}},
NAi=function(a){a&1&&(_.H(0,"div",13)(1,"button",14),_.J(2,"cm-icon",15),_.Gf(3),_.M(4,3),_.L(),_.I()());if(a&2){a=_.O();const b=_.Yf(3);_.G("ve",a.ve.FunctionsAddEventarcTriggerButton)("veClick",!0);_.z();_.G("cfcMenuTriggerFor",b);_.z();_.G("icon",a.icons.createMediumIcon)}},OAi=function(a){a&1&&(_.Gf(0),_.J(1,"eventarc-trigger-subtask",16,2),_.L());a&2&&(a=_.O(),_.z(),_.G("disabledFields",a.eventarcTriggerSubtaskDisabledFields)("hiddenFields",a.eventarcTriggerSubtaskHiddenFields)("mode",a.eventarcTriggerSubtaskMode)("pubSubTopicPickerInput",
a.pubSubTopicPickerInput)("staticDestination",a.subtaskStaticDestination)("trigger",a.existingTriggerOrPrototype)("showEquivalentGcloudCommand",!1))},PAi=function(a,b){a&1&&_.J(0,"eventarc-trigger-basic-details",17);a&2&&(a=b.$implicit,b=_.O(),_.G("trigger",a)("hiddenFields",b.triggerDetailsHiddenFields))},QAi=function(a,b){const c=new Map;null==a||a.forEach((d,e)=>{c.set(e,d)});null==b||b.forEach((d,e)=>{c.set(e,d)});return c},RAi=function(a,b){const c=_.IQ.create();return c.link().set(c.query,_.Jti(a)).set(c.project,
b)},SAi=function(a){const b=a.fullName;return new _.rr(b,164,a.name,_.Lti(b))},TAi=function(a){let b=0;const c=new Set;for(const d of a)"ACTIVE"===d.state&&(b++,c.add(d.kind));return{activeInsightCount:b,activeInsightTypes:c}},UAi=function(a){let b=0;const c=new Set;for(const d of a){b+=d.activeInsightCount;for(const e of d.activeInsightTypes)c.add(e)}return{activeInsightCount:b,activeInsightTypes:c}},VAi=function(a){let b,c;return{name:a.name,description:a.description,lastRefreshTime:a.lastRefreshTime,
lastModifiedUser:a.lastModifiedUser,userLastUpdateTime:a.userLastUpdateTime,severity:a.severity,category:a.category,state:a.stateInfo.state,observationPeriod:a.observationPeriod,targetFullResourceNames:a.targetResources,associatedRecommendationNames:null!=(c=null==(b=a.associatedRecommendations)?void 0:b.map(d=>d.recommendation))?c:[]}},WAi=function(a){let b,c;return{name:a.name,description:a.description,lastRefreshTime:a.lastRefreshTime,lastModifiedUser:a.lastModifiedUser,userLastUpdateTime:a.userLastUpdateTime,
severity:a.severity,category:a.category,stateInfo:{state:a.state},observationPeriod:a.observationPeriod,targetResources:a.targetFullResourceNames,associatedRecommendations:null!=(c=null==(b=a.associatedRecommendationNames)?void 0:b.map(d=>({recommendation:d})))?c:[]}},XAi=function(a){const b=a.content,c=b.role,d=b.member,e=b.currentTotalPermissionsCount;let f,g,l,m;a=Object.assign({},VAi(a),{kind:"iamPolicy",roleName:c,member:d,currentTotalPermissionsCount:e,exercisedPermissions:null!=(l=null==(f=
b.exercisedPermissions)?void 0:f.map(t=>t.permission))?l:[],inferredPermissions:null!=(m=null==(g=b.inferredPermissions)?void 0:g.map(t=>t.permission))?m:[]});b.condition&&!_.Cgb(b.condition)&&(a.condition=b.condition);return a},YAi=function(a){let b,c,d,e;return Object.assign({},WAi(a),{content:{role:a.roleName,member:a.member,currentTotalPermissionsCount:a.currentTotalPermissionsCount,exercisedPermissions:null!=(d=null==(b=a.exercisedPermissions)?void 0:b.map(f=>({permission:f})))?d:[],inferredPermissions:null!=
(e=null==(c=a.inferredPermissions)?void 0:c.map(f=>({permission:f})))?e:[],condition:a.condition?a.condition:{expression:"",title:"",description:"",location:""}}})},ZAi=function(a){var b=a.content;const c={emailAddress:b.impersonator.serviceAccount,ownerFullResourceName:b.impersonator.serviceAccountOwner,isGoogleManaged:b.impersonator.isGoogleManaged},d={fullResourceName:b.impersonationPolicy.resource,roleName:b.impersonationPolicy.role,member:b.impersonationPolicy.member};b.impersonationPolicy.condition&&
!_.Cgb(b.impersonationPolicy.condition)&&(d.condition=b.impersonationPolicy.condition);const e=b.targetServiceAccounts;b=b.impersonationPermissionUsage;return Object.assign({},VAi(a),{kind:"lateralMove",impersonationPermissionUsages:b,targetServiceAccountEmailAddresses:e,impersonatingServiceAccount:c,impersonationPolicyBinding:d})},aBi=function(a){a=a.recommendation;const {entityType:b,entityId:c,location:d,assistType:e}=$Ai(a.name),f=new Map([[2,"USER"],[5,"DOMAIN_GROUP"],[3,"GROUP"],[4,"SERVICE_ACCOUNT"]]);
let g;g=a.properties.allowCreateCustomRole?"REPLACE_ROLE_CUSTOMIZABLE":(new Map([["INACTIVE","REMOVE_ROLE"],["NEW_ROLE","REPLACE_ROLE"]])).get(a.properties.recommendationType);const l=a.properties.userMemberInfo.iamMember;let m,t,u,v,y,B;return{id:a.name,base:{name:a.name,assistKind:"RECOMMENDATION",associatedReferences:a.associatedInsightNames,associatedResourceNames:a.associatedResourceNames,category:"SECURITY",entityId:c,entityType:b,etag:a.etag,lastRefreshTime:a.lastRefreshTime,lastUpdateTime:a.userLastUpdateTime,
lastUpdatedUser:a.lastModifiedUser,location:d,recommendationPriority:"PRIORITY_UNSPECIFIED"===a.priority?void 0:a.priority,state:a.state,subtype:a.recommenderSubtype,type:e,xorGroupId:"",content:{addedRoles:null!=(y=a.properties.recommendedRoles)?y:[],removedRole:a.properties.currentRole,member:l}},recommendationDetails:{impact:{scalarImpact:null==(m=a.properties.justification.currentTotalPermissionsCount)?void 0:m.toString()},roleDetails:{accessObservationEndTime:a.properties.metadata.accessObservationEndTime,
accessObservationStartTime:a.properties.metadata.accessObservationStartTime,currentDisplayRole:a.properties.currentRole,currentRole:a.properties.currentRole,displayUser:a.properties.userMemberInfo.rawName,inferredPermissions:a.properties.justification.inferredPermissions,lastPolicyUpdateTime:a.properties.metadata.policyLastUpdateTime,numPermissionsCurrent:null==(t=a.properties.justification.currentTotalPermissionsCount)?void 0:t.toString(),numPermissionsRecommended:null==(u=a.properties.justification.recommendedTotalPermissionsCount)?
void 0:u.toString(),numPermissionsUsed:null==(v=a.properties.justification.usedPermissionsCount)?void 0:v.toString(),principalType:f.get(a.properties.userMemberInfo.principalType)||"UNKNOWN",recommendedDisplayRoles:[],recommendedRoles:a.properties.recommendedRoles,roleRecommenderSubtype:g,sampleUsedPermissions:a.properties.justification.sampledUsedPermissions,user:l,resourceName:a.resourceName,displayResourceName:null!=(B=a.resourceName.split("/").pop())?B:"",reverted:a.reverted}}}},cBi=function(a){var b=
Object.assign({},WAi(a),{content:{impersonator:{serviceAccount:a.impersonatingServiceAccount.emailAddress,serviceAccountOwner:a.impersonatingServiceAccount.ownerFullResourceName,isGoogleManaged:a.impersonatingServiceAccount.isGoogleManaged},impersonationPolicy:{resource:a.impersonationPolicyBinding.fullResourceName,role:a.impersonationPolicyBinding.roleName,member:a.impersonationPolicyBinding.member,condition:a.impersonationPolicyBinding.condition?a.impersonationPolicyBinding.condition:{expression:"",
title:"",description:"",location:""}},targetServiceAccounts:a.targetServiceAccountEmailAddresses,impersonationPermissionUsage:a.impersonationPermissionUsages}});return{id:a.name,base:Object.assign({},bBi(a),{content:b.content}),insightDetails:{content:b.content,observationPeriod:a.observationPeriod,lateralMovementDetails:{serviceAccount:a.impersonatingServiceAccount.emailAddress,serviceAccountOwner:a.impersonationPolicyBinding.member,serviceAccountOwnerDisplay:a.impersonationPolicyBinding.member,
numTargetServiceAccounts:a.targetServiceAccountEmailAddresses.length.toString(),role:a.impersonationPolicyBinding.roleName,roleDisplay:a.impersonationPolicyBinding.roleName,lastImpersonationTime:""}}}},bBi=function(a){const {entityType:b,entityId:c,location:d,assistType:e}=$Ai(a.name);return{name:a.name,lastUpdateTime:a.userLastUpdateTime,lastRefreshTime:a.lastRefreshTime,lastUpdatedUser:a.lastModifiedUser,state:a.state,entityType:b,entityId:c,type:e,location:d,assistKind:"INSIGHT",associatedResourceNames:a.targetFullResourceNames,
associatedReferences:a.associatedRecommendationNames,insightSeverity:a.severity,category:"CATEGORY_UNSPECIFIED"===a.category?void 0:a.category}},$Ai=function(a){const [b,c,,d,,e]=a.split("/");return{entityType:(new Map([["folders","CET_FOLDER"],["organizations","CET_ORGANIZATION"],["projects","CET_PROJECT"],["billingAccounts","CET_BILLING_ACCOUNT"]])).get(b),entityId:c,location:d,assistType:e}},dBi=function(a,b){return Object.assign({},{kind:"listPartialApiError",successfulEntities:a,getErrors:b},
{errorExperience:1})},eBi=function(a){return Object.assign({},{kind:"listFullApiError"},a)},fBi=function(a,b){return Object.assign({},{kind:"getApiError",entityName:b},a)},C$=function(a){return{tag:"Right",right:a}},gBi=function(a){return{tag:"Left",left:a}},D$=function(a){return"Left"===a.tag},hBi=function(a){const b=a.getResourceId();switch(a.getResourceType()){case 0:return`projects/${b}`;case 2:return`organizations/${b}`;case 43:return`folders/${b}`}},iBi=function(a){a=a.justification;return{policyLastUpdateTime:a.policyLastUpdateTime,
accessObservationStartTime:a.accessObservationStartTime,accessObservationEndTime:a.accessObservationEndTime}},jBi=function(a){a=a.justification;return{currentTotalPermissionsCount:a.currentTotalPermissionsCount,recommendedTotalPermissionsCount:a.recommendedTotalPermissionsCount,usedPermissionsCount:a.usedPermissionsCount,sampledUsedPermissions:a.sampledUsedPermissions||[],inferredPermissions:a.inferredPermissions||[]}},lBi=function(a,b,c){if(1===b.operationGroups.length){var d=b.operationGroups[0].operations;
if(0!==d.length){var e=d.map(B=>B.value||B.pathFilters["/iamPolicy/bindings/*/members/*"]).filter(B=>!!B);if(!(1<(new Set(e)).size)){e=e[0];var f=d.filter(B=>"remove"===B.action);if(1===f.length&&(f=f[0].pathFilters["/iamPolicy/bindings/*/role"],d=d.filter(B=>"add"===B.action).map(B=>B.pathFilters["/iamPolicy/bindings/*/role"]),d.every(B=>!!B))){var g=0<d.length?"NEW_ROLE":"INACTIVE",l="REPLACE_ROLE_CUSTOMIZABLE"===a.recommenderSubtype,m=iBi(b);b=jBi(b);var t=a.stateInfo,u=t.stateMetadata,v=u&&u.google_created_custom_role_name,
y;return{resourceName:c,state:t.state,reverted:!(!u||!u.reverted),lastModifiedUser:a.lastModifiedUser,userLastUpdateTime:a.userLastUpdateTime,name:a.name,id:a.name.split("/").slice(2).join("/"),etag:a.etag,associatedInsightNames:kBi(a),associatedResourceNames:a.associatedResourceNames,priority:null!=(y=a.priority)?y:"PRIORITY_UNSPECIFIED",recommenderSubtype:a.recommenderSubtype,lastRefreshTime:a.lastRefreshTime,properties:{recommendationType:g,recommendedRoles:v?[v]:d,currentRole:f,allowCreateCustomRole:l,
createdCustomRole:!!v,userMemberInfo:_.FE(e),metadata:m,justification:b}}}}}}},mBi=function(a,b){var c=a.content;const d=b.getFullResourcePath();if(a.originalContent&&a.originalContent.bindingTuple){b=a.originalContent;const e=b.bindingTuple.role,f=iBi(c);c=jBi(c);const g=a.stateInfo,l=g.stateMetadata;let m;a={resourceName:d,state:g.state,reverted:!(!l||!l.reverted),name:a.name,id:a.name.split("/").slice(2).join("/"),etag:a.etag,googleServiceAccount:!!a.description&&a.description.startsWith("This is a Google managed service account"),
associatedInsightNames:kBi(a),priority:null!=(m=a.priority)?m:"PRIORITY_UNSPECIFIED",properties:{recommendationType:"OK",currentRole:e,userMemberInfo:_.FE(b.bindingTuple.member),metadata:f,justification:c}}}else a=lBi(a,c,d);return a},nBi=function(a){return a.associatedInsightNames.find(b=>b.includes("google.iam.policy.LateralMovementInsight"))},kBi=function(a){let b,c;return null!=(c=null==(b=a.associatedInsights)?void 0:b.map(d=>d.insight))?c:[]},pBi=function(a,b=!1){return _.ce(a).pipe(_.x(c=>
{const d=[];let e=[];for(const f of c)D$(f)?d.push(f.left):e.push(f.right);e=b?e.filter(f=>oBi.includes(f.state)):e;return 0<d.length?gBi(dBi(e,d)):C$(e)}))},qBi=function(a,b){a&1&&(_.H(0,"div")(1,"dt",7),_.S(2),_.I(),_.H(3,"dd"),_.S(4),_.I()());a&2&&(a=b.$implicit,_.z(2),_.V(" ",a.title," "),_.z(2),_.V(" ",a.description," "))},rBi=function(a,b){a&1&&(_.H(0,"a",8),_.M(1,1),_.I());a&2&&_.G("cfcDocHref",b.ngIf)},sBi=function(a){a&1&&(_.Kf(0,2,1),_.Hf(1),_.Lf());a&2&&(a=_.O(3),_.z(),_.Mf(a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel)(a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel),
_.Nf(0))},tBi=function(a){a&1&&(_.Kf(0,2,2),_.Hf(1),_.Lf())},uBi=function(a){a&1&&(_.H(0,"div",10),_.Kf(1,2),_.D(2,sBi,2,2,"ng-container",11)(3,tBi,2,0,"ng-container",12),_.Lf(),_.I());if(a&2){a=_.O(2);const b=_.Yf(5);_.z(2);_.G("ngIf",!!a.rolesFilterConfig.permissionsFilter);_.z();_.G("ngTemplateOutlet",b);_.Mf(a.rolesFilterConfig.primaryRolesFilter.rolesQualifierLabel);_.Nf(1)}},vBi=function(a){a&1&&(_.H(0,"div",6),_.J(1,"cfc-icon",7),_.D(2,uBi,4,3,"div",8),_.X(3,"async"),_.J(4,"iam-roles-filter-help-button",
9),_.I());if(a&2){a=_.O();const b=_.Yf(3);_.z(2);_.G("ngIf",!_.Y(3,5,a.isPermissionFiltered$))("ngIfElse",b);_.z(2);_.G("rolesQualifierLabel",a.rolesFilterConfig.primaryRolesFilter.rolesQualifierLabel)("cfcDocHref",a.rolesFilterConfig.primaryRolesFilter.learnMoreDocHref)("primaryRoles",a.primaryRoles)}},wBi=function(a){a&1&&(_.Kf(0,3,1),_.Hf(1),_.Lf());a&2&&(a=_.O(2),_.z(),_.Mf(a.rolesFilterConfig.primaryRolesFilter.rolesQualifierLabel)(null==a.rolesFilterConfig.permissionsFilter?null:a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel),
_.Nf(0))},xBi=function(a){a&1&&(_.Kf(0,3,2),_.Hf(1),_.Lf())},yBi=function(a){a&1&&(_.H(0,"div",10),_.Kf(1,3),_.D(2,wBi,2,2,"ng-container",11)(3,xBi,2,0,"ng-container",12),_.Lf(),_.I());if(a&2){a=_.O();const b=_.Yf(5);_.z(2);_.G("ngIf",!(null==a.rolesFilterConfig||!a.rolesFilterConfig.permissionsFilter));_.z();_.G("ngTemplateOutlet",b);_.Mf(null==a.rolesFilterConfig.permissionsFilter?null:a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel);_.Nf(1)}},zBi=function(a){a&1&&(_.Kf(0,4),_.J(1,
"a",13),_.Lf());a&2&&(a=_.O(),_.z(),_.G("cfcRouterLink",a.iamLink))},ABi=function(a){a&1&&(_.Kf(0,2,1),_.Hf(1),_.Lf());a&2&&(a=_.O(3),_.z(),_.Mf(null==a.rolesFilterConfig.permissionsFilter?null:a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel)(null==a.rolesFilterConfig.permissionsFilter?null:a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel),_.Nf(0))},BBi=function(a){a&1&&(_.Kf(0,2,2),_.Hf(1),_.Lf())},CBi=function(a){a&1&&(_.H(0,"div",10),_.Kf(1,2),_.D(2,ABi,2,2,"ng-container",
11)(3,BBi,2,0,"ng-container",12),_.Lf(),_.I());if(a&2){a=_.O(2);const b=_.Yf(5);_.z(2);_.G("ngIf",!(null==a.rolesFilterConfig||!a.rolesFilterConfig.permissionsFilter));_.z();_.G("ngTemplateOutlet",b);_.Mf(a.rolesFilterConfig.primaryRolesFilter.rolesQualifierLabel);_.Nf(1)}},DBi=function(a){a&1&&(_.H(0,"div",6),_.J(1,"cfc-icon",7),_.D(2,CBi,4,3,"div",8),_.X(3,"async"),_.J(4,"iam-roles-filter-help-button",9),_.I());if(a&2){a=_.O();const b=_.Yf(3);_.z(2);_.G("ngIf",!_.Y(3,5,a.isPermissionFiltered$))("ngIfElse",
b);_.z(2);_.G("rolesQualifierLabel",a.rolesFilterConfig.primaryRolesFilter.rolesQualifierLabel)("cfcDocHref",a.rolesFilterConfig.primaryRolesFilter.learnMoreDocHref)("primaryRoles",a.primaryRoles)}},EBi=function(a){a&1&&(_.Kf(0,3,1),_.Hf(1),_.Lf());a&2&&(a=_.O(2),_.z(),_.Mf(a.rolesFilterConfig.primaryRolesFilter.rolesQualifierLabel)(null==a.rolesFilterConfig.permissionsFilter?null:a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel),_.Nf(0))},FBi=function(a){a&1&&(_.Kf(0,3,2),_.Hf(1),
_.Lf())},GBi=function(a){a&1&&(_.H(0,"div",10),_.Kf(1,3),_.D(2,EBi,2,2,"ng-container",11)(3,FBi,2,0,"ng-container",12),_.Lf(),_.I());if(a&2){a=_.O();const b=_.Yf(5);_.z(2);_.G("ngIf",!(null==a.rolesFilterConfig||!a.rolesFilterConfig.permissionsFilter));_.z();_.G("ngTemplateOutlet",b);_.Mf(null==a.rolesFilterConfig.permissionsFilter?null:a.rolesFilterConfig.permissionsFilter.permissionsQualifierLabel);_.Nf(1)}},HBi=function(a){a&1&&(_.Kf(0,4),_.J(1,"a",13),_.Lf());a&2&&(a=_.O(),_.z(),_.G("cfcRouterLink",
a.iamLink))},IBi=function(a,b){if(a&1){const c=_.n();_.H(0,"button",3);_.X(1,"resourceUpdatePermission");_.N("click",function(){_.p(c);const d=_.O();return _.r(d.confirmDeleteMember())});_.J(2,"cm-icon",4);_.H(3,"span",null,0);_.M(5,1);_.I()()}a&2&&(a=b.xapLet,b=_.O(),_.G("cfcDisable",void 0!==a)("cfcDisableTooltip",a)("cfcIamCheck",_.Y(1,7,b.resource))("cfcIamResource",b.resource)("ve",b.ve.IamPageActionBarRemoveMember)("veClick",!0),_.z(2),_.G("icon",b.icons.personRemoveIcon))},JBi=function(a){a&
1&&(_.H(0,"div",2),_.J(1,"br"),_.I())},KBi=function(a,b){a&1&&(_.Gf(0),_.D(1,JBi,2,0,"div",1),_.L());a&2&&(a=b.ngIf,_.z(),_.G("ngForOf",a))},MBi=function(a,b){if(a&1){const c=_.n();_.H(0,"button",4);_.N("click",function(){const d=_.p(c).ngVar,e=_.O(2);return _.r(e.showConditionsDialog(d,e.sourcedRole.condition))});_.S(1);_.I()}a&2&&(a=b.ngVar,b=_.O(2),_.G("ve",b.ve.IamMembersTableConditionLink)("veClick",!0),_.zf("aria-label",LBi(b.sourcedRole.condition.displayName,a)),_.z(),_.V(" ",b.sourcedRole.condition.displayName,
" "))},NBi=function(a){a&1&&(_.Gf(0),_.D(1,MBi,2,4,"button",3),_.X(2,"getRoleLabel"),_.L());a&2&&(a=_.O(),_.z(),_.G("ngVar",_.Y(2,1,a.sourcedRole.role)))},OBi=function(a){a&1&&(_.H(0,"div",5),_.J(1,"br"),_.I())},PBi=function(a,b){a&1&&_.J(0,"cfc-iam-inheritance",5);a&2&&(a=b.ngIf,b=_.O(2),_.G("resource",a)("associatedRole",b.sourcedRole.role))},QBi=function(a){a&1&&(_.Gf(0),_.D(1,PBi,1,2,"cfc-iam-inheritance",4),_.X(2,"async"),_.L());a&2&&(a=_.O(),_.z(),_.G("ngIf",_.Y(2,1,a.roleInheritanceResource$)))},
RBi=function(a){a&1&&(_.H(0,"span",6),_.S(1),_.I());a&2&&(a=_.O(),_.z(),a=a.sourcedRole.role.title,a=(new _.rp("{ELEMENT_LABEL}, for role {ROLE_TITLE}")).format({ELEMENT_LABEL:"No inheritance",ROLE_TITLE:a}),_.V(" ",a," "))},SBi=function(a,b){return!(!a||a.getResourceType()===b.getResourceType()&&a.getResourceId()===b.getResourceId())},TBi=function(a){a&1&&(_.H(0,"button",1),_.J(1,"cfc-icon",2),_.I())},VBi=function(a,b){var c,d=null!=(c=null==a?void 0:a.type)?c:"NONE";if(c=null==a?void 0:a.granularity)if("all"===
c)c="all";else{var e;c=null!=(e=_.W9b.get(c))?e:"unknown"}else c="n/a";d={opportunityMetricImpression:d,opportunityMetricImpressionGranularity:c};b&&(d.applicableToOpportunityMetric=UBi(b,a));return d},UBi=function(a,b){return b?Array.from(b.recommendations.values()).flat().some(c=>c.name===a.name):"n/a"},WBi=function(a){var b=a.metadata.policyLastUpdateTime;const c=a.metadata.accessObservationStartTime;a=a.metadata.accessObservationEndTime;if(c&&a&&b)return b=(new Date(a)).getTime()-Math.max((new Date(c)).getTime(),
(new Date(b)).getTime()),Math.round(b/1E3/60/60/24)},E$=function(a){return"string"===typeof a?a:a.title||a.name},XBi=function(a){switch(a.recommendationType){case "OK":return"ok";case "INACTIVE":return"remove";case "NEW_ROLE":return a.allowCreateCustomRole?"replace_customizable":"replace";default:return"unknown"}},YBi=function(a){switch(a.kind){case "iamPolicy":return"membersTable";case "lateralMove":return"membersTableLateralMovementInsightMenu";default:_.uc(a,`Invalid insight: ${a}`)}},$Bi=function(a){if(a&
1){const b=_.n();_.H(0,"cfc-menu-item",3);_.N("click",function(){_.p(b);const c=_.O().ngIf,d=_.O();ZBi(d.menuService,c.params);return _.r()});_.I()}if(a&2){a=_.O(2);a:{switch(a.params.insight.kind){case "iamPolicy":a=132331;break a;case "lateralMove":a=132326;break a;default:_.uc(a.params.insight,`Invalid insight: ${a.params.insight}`)}a=void 0}_.G("ve",a)("veClick",!0)}},aCi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-menu-item",4);_.N("click",function(){_.p(b);const c=_.O().ngIf,d=_.O();ZBi(d.menuService,
c.params);return _.r()});_.I()}if(a&2){a=_.O(2);a:{switch(a.params.insight.kind){case "iamPolicy":a=132335;break a;case "lateralMove":a=132327;break a;default:_.uc(a.params.insight,`Invalid insight: ${a.params.insight}`)}a=void 0}_.G("ve",a)("veClick",!0)}},bCi=function(a){if(a&1){const d=_.n();_.Gf(0);_.H(1,"cfc-menu-item",5);_.N("click",function(){_.p(d);const e=_.O().ngIf,f=_.O();return _.r(f.applyClicked(e.params))});_.I();_.H(2,"cfc-menu-item",6);_.N("click",function(){_.p(d);const e=_.O().ngIf;
_.O().menuService.dismissRoleRecommendation(e.params);return _.r()});_.I();_.L()}if(a&2){a=_.O().ngIf;const d=_.O();_.z();var b=_.G("cfcDisable",a.disableApplyButton)("cfcIamCheck",a.permissionsToApplyRecommendations)("cfcIamResource",a.params.resource)("cfcIamOperator",d.IamCheckOperator.AND);a:{switch(d.params.insight.kind){case "iamPolicy":var c=132332;break a;case "lateralMove":c=132328;break a;default:_.uc(d.params.insight,`Invalid insight: ${d.params.insight}`)}c=void 0}b("ve",c)("veClick",
!0);_.z();a:{switch(d.params.insight.kind){case "iamPolicy":b=132333;break a;case "lateralMove":b=132329;break a;default:_.uc(d.params.insight,`Invalid insight: ${d.params.insight}`)}b=void 0}_.G("ve",b)("veClick",!0)("cfcIamResource",a.params.resource)}},cCi=function(a,b){a&1&&(_.H(0,"cfc-menu")(1,"cfc-menu-section"),_.D(2,$Bi,1,2,"cfc-menu-item",2)(3,aCi,1,2,"ng-template",null,0,_.fg)(5,bCi,3,9,"ng-container",1),_.I()());a&2&&(a=b.ngIf,b=_.Yf(4),_.z(2),_.G("ngIf",a.showAnalyzedPermissions)("ngIfElse",
b),_.z(3),_.G("ngIf",a.showApplyDismiss))},dCi=function(a){a&1&&_.Hf(0)},gCi=function(a){a&1&&(_.Gf(0),_.D(1,dCi,1,0,"ng-container",3),_.L());if(a&2){a=_.O();const b=_.Yf(3);_.z();_.G("ngTemplateOutlet",b)("ngTemplateOutletContext",_.dg(7,eCi,_.oA(2,fCi,a.params.insight,a.params.recommendations[0],a.params.resource,a.params.impactMetric)))}},hCi=function(a,b){a&1&&(_.H(0,"cfc-menu-item",5),_.Pu(1,1),_.I());if(a&2){a=b.$implicit;b=b.index;const c=_.O(2),d=_.Yf(3);_.Mf(1+b);_.Nf(1);_.G("cfcMenuTriggerFor",
d)("cfcMenuTriggerData",_.oA(3,fCi,c.params.insight,a,c.params.resource,c.params.impactMetric))}},iCi=function(a){a&1&&(_.Gf(0),_.H(1,"cfc-menu")(2,"cfc-menu-section"),_.D(3,hCi,2,8,"cfc-menu-item",4),_.I()(),_.L());a&2&&(a=_.O(),_.z(3),_.G("ngForOf",a.params.recommendations))},jCi=function(a,b){a&1&&_.J(0,"iam-grant-recommendation-menu",6);a&2&&_.G("params",b.$implicit)},kCi=function(a){a&1&&_.J(0,"iam-grant-recommendation-fetch-error-icon")},lCi=function(a){a&1&&_.J(0,"cfc-icon",7)},nCi=function(a,
b){if(a&1){const c=_.n();_.H(0,"div",2);_.D(1,kCi,1,0,"iam-grant-recommendation-fetch-error-icon",3);_.X(2,"async");_.H(3,"cfc-split-button",4)(4,"button",5);_.N("click",function(){const d=_.p(c).ngIf,e=_.O();ZBi(e.menuService,{insight:e.insight,recommendation:d[0],resource:e.resource,impactMetric:e.impactMetric});return _.r()});_.D(5,lCi,1,0,"cfc-icon",6);_.Pf(6);_.I()();_.J(7,"br");_.I()}if(a&2){a=b.ngIf;b=_.O();const c=_.Yf(3);_.z();_.G("ngIf",_.Y(2,7,b.activeRoleRecommendationsErrors$));_.z(2);
_.G("menuTemplate",c)("menuTemplateData",_.oA(9,mCi,b.insight,a,b.resource,b.impactMetric))("primary",!0);_.z();_.G("ve",0<a.length?b.veWithRecommendation:b.veWithoutRecommendation)("veClick",!0);_.z();_.G("ngIf",0<a.length)}},oCi=function(a,b){a&1&&_.J(0,"iam-grant-recommendation-list-menu",8);a&2&&_.G("params",b.$implicit)},pCi=function(a){a&1&&(_.Gf(0),_.Kf(1,0),_.J(2,"b")(3,"span")(4,"b")(5,"span"),_.Lf(),_.L());if(a&2){a=_.O().ngVar;const b=_.O();_.z(5);_.Mf(b.policyInsight.currentTotalPermissionsCount-
b.policyInsight.exercisedPermissions.length)(b.policyInsight.currentTotalPermissionsCount)(a)(a);_.Nf(1)}},qCi=function(a){a&1&&(_.Gf(0),_.Kf(1,1),_.J(2,"b")(3,"span"),_.Lf(),_.L());a&2&&(a=_.O().ngVar,_.z(3),_.Mf(a)(a),_.Nf(1))},rCi=function(a){a&1&&(_.H(0,"iam-grant-insight-split-button",3),_.D(1,pCi,6,4,"ng-container",4)(2,qCi,4,2,"ng-container",4),_.I());a&2&&(a=_.O(),_.G("resource",a.resource)("insight",a.lateralMovementInsight)("impactMetric",a.impactMetric)("associatedRecommendationNames",
a.associatedRecommendationNames)("veWithRecommendation",a.IamLateralMoveInsightSubtaskWithRecommendationOpen)("veWithoutRecommendation",a.IamLateralMoveInsightSubtaskWithoutRecommendationOpen),_.z(),_.G("ngIf",a.policyInsight),_.z(),_.G("ngIf",!a.policyInsight))},sCi=function(a){a&1&&_.J(0,"iam-grant-policy-insight-item",3);a&2&&(a=_.O(3),_.G("resource",a.resource)("policyInsight",a.insightGroup.iamPolicyInsight)("impactMetric",a.impactMetric)("associatedRecommendationNames",a.insightGroup.associatedRecommendationNames))},
tCi=function(a){a&1&&_.J(0,"iam-grant-lateral-movement-insight-item",4);if(a&2){a=_.O(2).ngVar;const b=_.O();_.G("resource",b.resource)("lateralMovementInsight",b.insightGroup.lateralMovementInsight)("policyInsight",a?b.insightGroup.iamPolicyInsight:void 0)("impactMetric",b.impactMetric)("associatedRecommendationNames",b.insightGroup.associatedRecommendationNames)}},uCi=function(a,b){a&1&&(_.Gf(0),_.D(1,sCi,1,4,"iam-grant-policy-insight-item",1)(2,tCi,1,5,"iam-grant-lateral-movement-insight-item",
2),_.L());a&2&&(a=b.ngVar,b=_.O().ngVar,_.z(),_.G("ngIf",b&&!a),_.z(),_.G("ngIf",a))},vCi=function(a){a&1&&(_.Gf(0),_.D(1,uCi,3,2,"ng-container",0),_.X(2,"isInsightActive"),_.L());a&2&&(a=_.O(),_.z(),_.G("ngVar",_.Y(2,1,a.insightGroup.lateralMovementInsight)))},wCi=function(a){switch(a.type){case 2:return a.reference;case 0:var b;let c,d;if((null==(b=a.currentProject)?0:b.parentId)||(null==(c=a.currentProject)?0:null==(d=c.parent)?0:d.id)){let f,g,l,m;b=null!=(m=null==(f=a.currentProject)?void 0:
f.parentId)?m:null==(g=a.currentProject)?void 0:null==(l=g.parent)?void 0:l.id;let t,u;return b&&"organization"===(null==(t=a.currentProject)?void 0:null==(u=t.parent)?void 0:u.type)?new _.rr(b,2):null}return null;case 43:let e;if(null==(e=a.currentFolder)?0:e.organizationId){let f;return new _.rr(null==(f=a.currentFolder)?void 0:f.organizationId,2)}return null;default:return null}},xCi=function(a){switch(a.getResourceType()){case 2:return`organizations/${a.getResourceId()}`;case 43:return`folders/${a.getResourceId()}`;
case 0:return`projects/${a.getResourceId()}`;default:return""}},yCi=function(a,b,c,d){return _.a1h(a,xCi(b)).pipe(_.x(e=>{var f;if(f=e.premium){a:switch(e.orgBillingTier){case "ENTERPRISE":case "PREMIUM":f=!0;break a;default:f=!1}f=!f}return f?{purview:b,scope:c,premiumStatus:"PREMIUM"}:e.premium?{purview:b,scope:d,premiumStatus:"PREMIUM"}:{purview:b,scope:d,premiumStatus:"NON_PREMIUM"}}),_.Je(e=>_.KMh(e)||"VPC_SERVICE_CONTROLS"===e.errorSpace?_.w({purview:b,scope:d,premiumStatus:"UNKNOWN_ERROR"}):
403===e.status?_.w({purview:b,scope:null!=d?d:c,premiumStatus:"MISSING_PERMISSION"}):_.w({purview:b,scope:null!=d?d:c,premiumStatus:c&&!d?"STANDALONE_PROJECT":"UNKNOWN_ERROR"})))},zCi=function(a,b){a&1&&_.J(0,"raf-button",1);a&2&&_.G("content",b.ngIf)},BCi=function(a,b){const c=ACi.create(),d=b.openInNewTab?"_blank":"_self";b=c.link().set(c.upgrade,!0).set(c.afterUpgradeUrl,b.afterUpgradeUrl);let e;switch(null==(e=a.scope)?void 0:e.getResourceType()){case 0:let f;b.set(c.project,null==(f=a.scope)?
void 0:f.getResourceId());break;case 2:let g;b.set(c.organizationId,null==(g=a.scope)?void 0:g.getResourceId())}return{target:d,builder:b}},CCi=function(a,b){a&1&&(_.Gf(0),_.J(1,"iam-grant-insight-group-item",9),_.L());if(a&2){a=b.ngIf;b=_.O().$implicit;const c=_.O(2);_.z();_.G("resource",a)("insightGroup",b)("impactMetric",c.impactMetric)}},DCi=function(a){a&1&&(_.Gf(0),_.D(1,CCi,2,3,"ng-container",6),_.X(2,"async"),_.L());a&2&&(a=_.O(2),_.z(),_.G("ngIf",_.Y(2,1,a.resource$)))},ECi=function(a){a&
1&&(_.Gf(0),_.D(1,DCi,3,3,"ng-container",8),_.X(2,"sortInsightsByRecommendations"),_.L());a&2&&(a=_.O(),_.z(),_.G("ngForOf",_.Y(2,1,a.insightGroup.insightsByRecommendations)))},FCi=function(a){a&1&&_.Hf(0)},GCi=function(a){a&1&&(_.H(0,"button",12),_.M(1,3),_.I());if(a&2){a=_.O(2);const b=_.Yf(3);_.G("ve",a.ve.IamPremiumInsightsPromoDisabledButton)("veImpression",!0)("cfcDisable",!0)("cfcDisableTooltipRich",!0)("cfcDisableTooltip",b)}},HCi=function(a){a&1&&_.J(0,"br")},ICi=function(a){a&1&&(_.H(0,
"div",10),_.D(1,FCi,1,0,"ng-container",11),_.X(2,"async"),_.D(3,GCi,2,5,"ng-template",null,1,_.fg)(5,HCi,1,0,"ng-template",null,2,_.fg),_.I());if(a&2){a=_.Yf(4);const b=_.Yf(6),c=_.O();_.z();_.G("ngIf",_.Y(2,3,c.showAdvancedInsightUnavailable$))("ngIfThen",a)("ngIfElse",b)}},KCi=function(a,b){a&1&&_.J(0,"cscc-upgrade-button",18);a&2&&(a=b.ngIf,b=_.O(2),_.G("purviewPremiumStatus",a)("buttonConfig",_.dg(2,JCi,b.Color.PRIMARY)))},LCi=function(a){a&1&&(_.Gf(0,13),_.H(1,"div",14),_.M(2,4),_.I(),_.H(3,
"p"),_.Kf(4,5),_.J(5,"a",15),_.Lf(),_.I(),_.H(6,"p",16),_.D(7,KCi,1,4,"cscc-upgrade-button",17),_.X(8,"async"),_.I(),_.L());a&2&&(a=_.O(),_.G("ve",a.ve.IamPremiumInsightsPromoTooltip)("veImpression",!0),_.z(5),_.G("cfcDocLink",a.CONSOLE__SECURITY_COMMAND_CENTER),_.z(2),_.G("ngIf",_.Y(8,4,a.purviewPremiumStatus$)))},MCi=function(a){a&1&&_.J(0,"iam-owner-pending-invite-button")},NCi=function(a){a&1&&_.J(0,"non-grantable-role-button")},OCi=function(a){const b=[],c=new Map,d=new Map;var e=new Map;for(var f of a)if(0===
f.associatedRecommendationNames.length)switch(f.kind){case "iamPolicy":b.push({iamPolicyInsight:f,associatedRecommendationNames:[],activeInsightMetadata:TAi([f])});break;case "lateralMove":b.push({lateralMovementInsight:f,associatedRecommendationNames:[],activeInsightMetadata:TAi([f])});break;default:_.uc(f,`Invalid binding insight: ${f}`)}else{a=f.associatedRecommendationNames.sort();var g=a.join(",");e.set(g,a);switch(f.kind){case "iamPolicy":d.set(g,f);break;case "lateralMove":c.set(g,f);break;
default:_.uc(f,`Invalid binding insight: ${f}`)}}for(const [l,m]of e)a=l,f=m,e=c.get(a),a=d.get(a),g=[],f={associatedRecommendationNames:f,activeInsightMetadata:TAi(g)},e&&(f.lateralMovementInsight=e,g.push(e)),a&&(f.iamPolicyInsight=a,g.push(a)),f.activeInsightMetadata=TAi(g),b.push(f);return b},PCi=function(a){var b=new Map;const c=new Map;for(var d of a){a:{switch(d.kind){case "iamPolicy":a=d.roleName;break a;case "lateralMove":a=d.impersonationPolicyBinding.roleName;break a;default:_.uc(d,`Invalid binding insight: ${d}`)}a=
void 0}a:{switch(d.kind){case "iamPolicy":var e=d.member;break a;case "lateralMove":e=d.impersonationPolicyBinding.member;break a;default:_.uc(d,`Invalid binding insight: ${d}`)}e=void 0}a:{switch(d.kind){case "iamPolicy":var f=d.condition;break a;case "lateralMove":f=d.impersonationPolicyBinding.condition;break a;default:_.uc(d,`Invalid binding insight: ${d}`)}f=void 0}a:{switch(d.kind){case "iamPolicy":var g=d.targetFullResourceNames[0];break a;case "lateralMove":g=d.impersonationPolicyBinding.fullResourceName;
break a;default:_.uc(d,`Invalid binding insight: ${d}`)}g=void 0}const l=g;g=`${l} ${e} ${a} ${f?_.bH(f):""}`;a={roleName:a,member:e,fullResourceName:l};f&&(a.condition=f);c.set(g,a);b.get(g)||b.set(g,[]);b.get(g).push(d)}d=[];for(const [l,m]of b)b=m,a=c.get(l),d.push(Object.assign({},a,{insights:b}));return d},QCi=function(a){a&1&&_.J(0,"cfc-iam-member-type-icon",19);a&2&&(a=_.O().rowData,_.G("type",a.type))},RCi=function(a){a&1&&_.J(0,"cm-icon",20);a&2&&(a=_.O(4),_.G("icon",a.cloudProductsIcon))},
SCi=function(a,b){a&1&&(_.Gf(0),_.S(1,"\n          "),_.D(2,QCi,1,1,"cfc-iam-member-type-icon",17),_.S(3,"\n          "),_.D(4,RCi,1,1,"cm-icon",18),_.S(5,"\n        "),_.L());a&2&&(a=b.rowData,_.z(2),_.G("ngIf","google-managed"!==a.type),_.z(2),_.G("ngIf","google-managed"===a.type))},TCi=function(a,b){a&1&&(_.Gf(0),_.S(1),_.L());a&2&&(a=b.rowData,_.z(),_.V("\n          ",a.displayName,"\n        "))},UCi=function(a){a&1&&(_.Gf(0),_.S(1),_.X(2,"async"),_.L());a&2&&(a=_.O().rowData,_.z(),_.V("\n            ",
_.Y(2,1,a.description),"\n          "))},VCi=function(a){a&1&&(_.Gf(0),_.S(1,"\n            "),_.J(2,"cfc-service-account-description",22),_.S(3,"\n          "),_.L());if(a&2){a=_.O().rowData;const b=_.O().ngIf;_.z(2);_.G("serviceAccount",a.displayName)("projectIds",b)}},WCi=function(a,b){a&1&&(_.Gf(0),_.S(1,"\n          "),_.D(2,UCi,3,3,"ng-container",2),_.S(3,"\n          "),_.D(4,VCi,4,2,"ng-container",2),_.S(5,"\n        "),_.L());a&2&&(a=b.rowData,b=_.O(4),_.z(2),_.G("ngIf",a.type!==b.serviceAccountType&&
"google-managed"!==a.type),_.z(2),_.G("ngIf",a.type===b.serviceAccountType||"google-managed"===a.type))},XCi=function(a){a&1&&(_.H(0,"cfc-table-column",21),_.S(1,"\n        "),_.D(2,WCi,6,2,"ng-container",9),_.S(3,"\n      "),_.I());a&2&&(_.z(2),_.G("cfcTableTemplate","body"))},YCi=function(a,b){a&1&&_.J(0,"iam-grant-role-title",24);a&2&&(a=b.$implicit,_.Bf("cfc-space-above-minus-3",0<b.index),_.G("insightGroup",a.insightGroup)("sourcedRole",a.sourcedRole))},ZCi=function(a,b){a&1&&(_.Gf(0),_.S(1,
"\n          "),_.D(2,YCi,1,4,"iam-grant-role-title",23),_.X(3,"async"),_.S(4,"\n        "),_.L());a&2&&(a=b.rowData,_.z(2),_.G("ngForOf",_.Y(3,1,a.sourcedRolesWithInsightGroups)))},$Ci=function(a){a&1&&(_.Gf(0),_.S(1,"\n          "),_.Gf(2),_.M(3,0),_.L(),_.S(4,"\n          "),_.H(5,"cfc-help-button",26),_.Kf(6,1),_.H(7,"div",27),_.J(8,"a",28),_.I(),_.Lf(),_.I(),_.S(9,"\n        "),_.L());a&2&&(a=_.O(4),_.z(8),_.G("cfcDocLink",a.dl.CONSOLE__IAM_HELP_RECOMMENDATIONS_ROLES))},aDi=function(a,b){a&1&&
_.J(0,"iam-role-insight-group",30);if(a&2){a=b.$implicit;b=b.index;const c=_.O(6);_.Bf("cfc-space-above-minus-3",0<b);_.G("role",a.sourcedRole.role)("insightGroup",a.insightGroup)("impactMetric",c.impactMetric)}},bDi=function(a){a&1&&(_.Gf(0),_.S(1,"\n            "),_.D(2,aDi,1,5,"iam-role-insight-group",29),_.X(3,"async"),_.S(4,"\n          "),_.L());a&2&&(a=_.O().rowData,_.z(2),_.G("ngForOf",_.Y(3,1,a.sourcedRolesWithInsightGroups)))},cDi=function(a){a&1&&(_.Gf(0),_.S(1,"\n          "),_.D(2,bDi,
5,3,"ng-container",2),_.X(3,"async"),_.X(4,"async"),_.S(5,"\n        "),_.L());a&2&&(a=_.O(4),_.z(2),_.G("ngIf",_.Y(3,1,a.canViewInsightGroups$)&&!_.Y(4,3,a.listInsightGroupsError$)))},dDi=function(a){a&1&&(_.H(0,"cfc-table-column",25),_.S(1,"\n        "),_.D(2,$Ci,10,1,"ng-container",9),_.S(3,"\n        "),_.D(4,cDi,6,5,"ng-container",9),_.S(5,"\n      "),_.I());a&2&&(a=_.O(3),_.G("header",a.RECOMMENDATION_FILTER_HEADER)("sortDisabled",!0),_.z(2),_.G("cfcTableTemplate","header"),_.z(2),_.G("cfcTableTemplate",
"body"))},eDi=function(a,b){a&1&&_.J(0,"iam-grant-role-inheritance",33);if(a&2){a=b.$implicit;b=b.index;const c=_.O(3).ngIf;_.Bf("cfc-space-above-minus-3",0<b);_.G("insightGroup",a.insightGroup)("sourcedRole",a.sourcedRole)("tableResource",c)}},fDi=function(a,b){a&1&&(_.Gf(0),_.S(1,"\n          "),_.D(2,eDi,1,5,"iam-grant-role-inheritance",32),_.X(3,"async"),_.S(4,"\n        "),_.L());a&2&&(a=b.rowData,_.z(2),_.G("ngForOf",_.Y(3,1,a.sourcedRolesWithInsightGroups)))},gDi=function(a){a&1&&(_.H(0,"cfc-table-column",
31),_.S(1,"\n        "),_.D(2,fDi,5,3,"ng-container",9),_.S(3,"\n      "),_.I());a&2&&(_.z(2),_.G("cfcTableTemplate","body"))},hDi=function(a,b){a&1&&_.J(0,"iam-grant-role-condition",24);a&2&&(a=b.$implicit,_.Bf("cfc-space-above-minus-3",0<b.index),_.G("insightGroup",a.insightGroup)("sourcedRole",a.sourcedRole))},iDi=function(a){a&1&&(_.Gf(0),_.S(1,"\n            "),_.D(2,hDi,1,4,"iam-grant-role-condition",23),_.X(3,"async"),_.S(4,"\n          "),_.L());a&2&&(a=_.O().rowData,_.z(2),_.G("ngForOf",
_.Y(3,1,a.sourcedRolesWithInsightGroups)))},jDi=function(a,b){a&1&&(_.Gf(0),_.S(1,"\n          "),_.D(2,iDi,5,3,"ng-container",2),_.S(3,"\n        "),_.L());a&2&&(a=b.rowData,_.z(2),_.G("ngIf",a.filteredConditions))},kDi=function(a){a&1&&(_.H(0,"cfc-table-column",34),_.S(1,"\n        "),_.D(2,jDi,4,1,"ng-container",9),_.S(3,"\n      "),_.I());a&2&&(_.z(2),_.G("cfcTableTemplate","body"))},lDi=function(a,b){a&1&&(_.Gf(0),_.S(1,"\n          "),_.J(2,"cfc-iam-edit-button",36),_.S(3,"\n        "),_.L());
if(a&2){a=b.rowData;b=_.O().ngIf;const c=_.O().ngIf;_.z(2);_.G("member",a)("inherited",a.allInherited)("resourceLabel",b)("resource",c)}},mDi=function(a){a&1&&(_.H(0,"cfc-table-column",35),_.S(1,"\n        "),_.D(2,lDi,4,4,"ng-container",9),_.S(3,"\n      "),_.I());a&2&&(_.G("sortDisabled",!0)("nonHideable",!0)("noPadding",!0),_.z(2),_.G("cfcTableTemplate","body"))},oDi=function(a,b){if(a&1){const c=_.n();_.H(0,"cfc-table",5);_.X(1,"async");_.N("bulkActionRowsChanged",function(d){_.p(c);var e=_.O(2);
e.bulkActionRowsChanged.emit(d);e.selectedMemberRows=d;return _.r()});_.S(2,"\n      ");_.H(3,"cfc-table-action-container");_.S(4,"\n        ");_.H(5,"iam-add-member-action",6);_.N("onIamSave",function(){_.p(c);const d=_.O(2);return _.r(d.onPolicyUpdate.emit())});_.I();_.H(6,"remove-member-table-action",7);_.N("onRemoveMembers",function(){_.p(c);const d=_.O(2);return _.r(d.onPolicyUpdate.emit())});_.I();_.S(7,"\n      ");_.I();_.S(8,"\n      ");_.H(9,"cfc-table-column",8);_.S(10,"\n        ");_.D(11,
SCi,6,2,"ng-container",9);_.S(12,"\n      ");_.I();_.S(13,"\n      ");_.H(14,"cfc-table-column",10);_.S(15,"\n        ");_.D(16,TCi,2,1,"ng-container",9);_.S(17,"\n      ");_.I();_.S(18,"\n      ");_.D(19,XCi,4,1,"cfc-table-column",11);_.X(20,"async");_.S(21,"\n      ");_.H(22,"cfc-table-column",12);_.S(23,"\n        ");_.D(24,ZCi,5,3,"ng-container",9);_.S(25,"\n      ");_.I();_.S(26,"\n      ");_.D(27,dDi,6,4,"cfc-table-column",13);_.X(28,"async");_.S(29,"\n      ");_.D(30,gDi,4,1,"cfc-table-column",
14);_.X(31,"shouldHideInheritanceColumn");_.S(32,"\n      ");_.D(33,kDi,4,1,"cfc-table-column",15);_.X(34,"shouldHideConditionsColumn");_.S(35,"\n      ");_.D(36,mDi,4,4,"cfc-table-column",16);_.X(37,"async");_.S(38,"\n    ");_.I()}if(a&2){let c,d,e;a=b.ngIf;b=_.O(2);_.G("primaryColumnId","member")("columnsConfig",b.clientColumnsConfig)("sortKeys",_.cg(48,nDi))("rowsPerPage",50)("showFilter",!0)("showColumnsChooser",!0)("filterChips",b.filterChips)("showSelectionControls",!0)("disableRowClick",!0)("externalTableCaptionId",
b.tableCaptionId)("tableManager",b.clientTableManager)("disableTableManagerMessages",!0)("fullBleedConfig",null!==(c=b.fullBleedConfig)&&void 0!==c?c:b.DEFAULT_FULL_BLEED_CONFIG)("pagination",!0)("message",null!==(d=_.Y(1,36,b.tableMessage$))&&void 0!==d?d:void 0)("hideTopBorder",null!==(e=b.hideTopBorder)&&void 0!==e?e:!1)("tableRendererV2",!1);_.z(5);_.G("resource",a)("conditionsDisabledTooltip",b.conditionsDisabledTooltip)("preselectedRolesForAdd",b.preselectedRolesForAdd);_.z();_.G("resource",
a)("importantMembers",b.importantMembers)("selectedMemberRows",b.selectedMemberRows);_.z(3);_.G("header",b.PRINCIPAL_TYPE_FILTER_HEADER)("noPadding",!0)("shorthands",b.typeShorthands);_.z(2);_.G("cfcTableTemplate","body");_.z(5);_.G("cfcTableTemplate","body");_.z(3);_.G("ngIf",_.Y(20,38,b.projectIds$));_.z(3);_.G("header",b.ROLE_FILTER_HEADER)("sortDisabled",!0);_.z(2);_.G("cfcTableTemplate","body");_.z(3);_.G("ngIf",_.Y(28,40,b.showRecsColumn$));_.z(3);_.G("ngIf",!_.Y(31,42,b.clientTableManager.rows));
_.z(3);_.G("ngIf",!_.Y(34,44,b.clientTableManager.rows));_.z(3);_.G("ngIf",_.Y(37,46,b.resourceLabel$))}},pDi=function(a,b){a&1&&(_.Gf(0),_.S(1,"\n  "),_.H(2,"cfc-loader",3),_.S(3,"\n    "),_.D(4,oDi,39,49,"cfc-table",4),_.X(5,"async"),_.S(6,"\n  "),_.I(),_.S(7,"\n"),_.L());a&2&&(a=b.ngIf,b=_.O(),_.z(2),_.G("isLoading",a.state===b.DisplayState.LOADING),_.z(2),_.G("ngIf",_.Y(5,2,b.resource$)))},qDi=function(a){if(a&1){const b=_.n();_.Gf(0);_.H(1,"mat-checkbox",9);_.N("change",function(c){_.p(b);_.O(3).analyticsService.sendEvent({type:"iamCommon",
name:"toggleShowGoogleManagedAccounts",metadata:{checked:c.checked}});return _.r()});_.M(2,0);_.I();_.H(3,"cfc-help-button",10)(4,"span");_.M(5,1);_.I();_.H(6,"div",11)(7,"a",12);_.M(8,2);_.I()()();_.L()}a&2&&(a=_.O(3),_.z(),_.G("formControl",a.showGoogleManagedAccounts),_.z(6),_.G("cfcDocLink",a.dl.CONSOLE__IAM_HELP_SERVICE_ACCOUNTS_GOOGLE_MANAGED))},rDi=function(a){if(a&1){const b=_.n();_.H(0,"mat-checkbox",9);_.N("change",function(c){_.p(b);const d=_.O(3);let e;d.analyticsService.sendEvent({type:"iamCommon",
name:"toggleShowAllRoles",metadata:{checked:c.checked,hasPermissionsFilter:!(null==(e=d.rolesFilterConfig)||!e.permissionsFilter)}});return _.r()});_.S(1);_.X(2,"async");_.I()}a&2&&(a=_.O(3),_.G("formControl",a.showAllRoles),_.z(),_.V(" ",_.Y(2,2,a.rolesCheckboxFilterText$)," "))},sDi=function(a){a&1&&(_.H(0,"div",6),_.D(1,qDi,9,2,"ng-container",7)(2,rDi,3,4,"mat-checkbox",8),_.I());if(a&2){a=_.O().ngIf;const b=_.O();_.G("ngSwitch",a);_.z();_.G("ngSwitchCase",b.InclusionMode.INCLUDE_GOOGLE_MANAGED_ACCOUNTS);
_.z();_.G("ngSwitchCase",b.InclusionMode.INCLUDE_ALL_ROLES)}},tDi=function(a,b){a&1&&(_.Gf(0),_.D(1,sDi,3,3,"div",5),_.L());a&2&&(a=b.ngIf,b=_.O(),_.z(),_.G("ngIf",a!==b.InclusionMode.UNSPECIFIED))},uDi=function(a,b){if(a&1){const c=_.n();_.H(0,"cfc-iam-members-table",18);_.X(1,"async");_.X(2,"async");_.X(3,"async");_.X(4,"async");_.N("bulkActionRowsChanged",function(d){_.p(c);const e=_.O(3);return _.r(e.memberTableSelectedRows=d)})("listInsightGroupsErrorChanged",function(d){_.p(c);const e=_.O(3);
return _.r(e.listInsightGroupsErrorChanged.emit(d))})("onPolicyUpdate",function(){_.p(c);const d=_.O(3);return _.r(d.onPolicyUpdate.emit())});_.I()}if(a&2){let c,d,e;a=b.ngIf;b=_.O(2).ngIf;const f=_.O();_.G("fullBleedConfig",f.TABLE_NEVER_FULL_BLEED_CONFIG)("resource",b)("tableCaptionId",f.tableCaptionId)("showGoogleManagedAccounts",!1===_.Y(1,15,f.shouldShowGoogleManagedFilter$)||f.showGoogleManagedAccounts.value)("tableFilters",f.tableFilters)("impactMetric",f.impactMetric)("skipVisibilityChecks",
f.skipVisibilityChecks)("roleFilter",null!==(c=_.Y(2,17,f.roleFilter$))&&void 0!==c?c:void 0)("includePermissionsWithRoles",!(null==(d=_.Y(3,19,f.rolesFilterConfig$))||!d.permissionsFilter))("tableMessage",null!==(e=_.Y(4,21,f.membersTableMessage$))&&void 0!==e?e:void 0)("hideSecurityRecommendations",f.hideSecurityRecommendations)("hideTopBorder",!0)("conditionsDisabledTooltip",f.conditionsDisabledTooltip)("preselectedRolesForAdd",f.preselectedRolesForAdd)("importantMembers",a)}},vDi=function(a){a&
1&&(_.D(0,uDi,5,23,"cfc-iam-members-table",17),_.X(1,"async"));a&2&&(a=_.O(2),_.G("ngIf",_.Y(1,1,a.importantMembers$)))},wDi=function(){},yDi=function(a){a&1&&(_.D(0,wDi,0,0,"ng-template",21),_.X(1,"async"),_.X(2,"async"),_.X(3,"async"));if(a&2){let b;a=_.O(3).ngIf;const c=_.O();_.G("typeInfo",c.rolesTableComponentInfo)("setInputs",_.u1b(9,xDi,[c.TABLE_NEVER_FULL_BLEED_CONFIG,a,c.roleData,c.tableCaptionId,!1===_.Y(1,3,c.shouldShowGoogleManagedFilter$)||c.showGoogleManagedAccounts.value,c.conditionsDisabledTooltip,
null!==(b=_.Y(2,5,c.roleFilter$))&&void 0!==b?b:void 0,null!==(b=_.Y(3,7,c.rolesTableMessage$))&&void 0!==b?b:void 0,c.preselectedRolesForAdd]))("outputs",c.rolesTableOutputHandlers)}},zDi=function(a){a&1&&_.D(0,yDi,4,19,"ng-template",20);a&2&&_.G("lazyTabPreload",!1)},ADi=function(a){a&1&&(_.H(0,"mat-tab",19),_.D(1,zDi,1,1,"ng-template",15),_.I())},CDi=function(a){if(a&1){const b=_.n();_.H(0,"mat-tab-group",13);_.X(1,"toTabIndex");_.N("selectedIndexChange",function(c){_.p(b);const d=_.O();d.viewMode=
BDi[c];d.clearSelections();return _.r()});_.H(2,"mat-tab",14);_.D(3,vDi,2,3,"ng-template",15);_.I();_.D(4,ADi,2,0,"mat-tab",16);_.I()}a&2&&(a=_.O(),_.Bf("cfc-full-bleed",a.fullBleed),_.G("selectedIndex",_.Y(1,4,a.viewMode)),_.z(4),_.G("ngIf",a.roleData))},DDi=function(a){a&1&&_.Hf(0)},EDi=function(a){a&1&&(_.H(0,"cfc-split-button",4),_.D(1,DDi,1,0,"ng-container",5),_.I());if(a&2){_.O();a=_.Yf(3);const b=_.O();_.G("menu",b.menuModel);_.z();_.G("ngTemplateOutlet",a)}},FDi=function(a){if(a&1){const b=
_.n();_.H(0,"button",6);_.N("click",function(){_.p(b);const c=_.O(2);return _.r(c.mainButton.dialogFunction())});_.S(1);_.I()}a&2&&(a=_.O(2),_.G("ve",a.mainButton.ve)("veClick",!0)("color",a.buttonColor),_.zf("aria-label",a.mainButton.label),_.z(),_.V(" ",a.mainButton.label," "))},GDi=function(a){a&1&&(_.H(0,"div",2),_.D(1,EDi,2,2,"cfc-split-button",3)(2,FDi,2,5,"ng-template",null,0,_.fg),_.I());if(a&2){a=_.Yf(3);const b=_.O();_.Bf("cfc-space-above-minus-1",b.addMargins)("cfc-space-below-minus-1",
b.addMargins);_.z();_.G("ngIf",b.showMenu)("ngIfElse",a)}},HDi=function(a){var b=_.Vb(a);if("array"===b)return a.map(HDi);if("object"===b){b={};const c=Object.keys(a).sort();for(const d of c)b[d]=HDi(a[d]);return b}return a},IDi=function(a){a&1&&(_.H(0,"h4",12),_.S(1),_.I());a&2&&(a=_.O(2),_.z(),_.V(" ",a.config.title," "))},JDi=function(a){a&1&&(_.H(0,"a",15),_.S(1," Learn more "),_.I());a&2&&(a=_.O(3),_.G("cfcDocHref",a.config.helpButtonLearnMore))},KDi=function(a){a&1&&(_.H(0,"cfc-help-button",
13),_.S(1),_.D(2,JDi,2,1,"a",14),_.I());a&2&&(a=_.O(2),_.z(),_.V(" ",a.config.helpButtonText," "),_.z(),_.G("ngIf",a.config.helpButtonLearnMore))},LDi=function(a){a&1&&(_.H(0,"a",16),_.S(1),_.I());a&2&&(a=_.O(2),_.G("cfcRouterLink",a.link.build())("queryParams",a.link.buildQueryParams())("track-name",a.config.trackName)("track-type",a.config.trackType),_.z(),_.V(" ",a.resourceName," "))},MDi=function(a){a&1&&(_.Gf(0),_.S(1),_.L());a&2&&(a=_.O(2),_.z(),_.V(" ",a.resourceName," "))},NDi=function(a){a&
1&&(_.H(0,"mat-card",2)(1,"mat-card-content")(2,"div",3)(3,"span",4),_.J(4,"cm-icon",5),_.I(),_.H(5,"div",6)(6,"div",7),_.D(7,IDi,2,1,"h4",8)(8,KDi,3,2,"cfc-help-button",9),_.I(),_.D(9,LDi,2,5,"a",10)(10,MDi,2,1,"ng-container",11),_.I()()()());a&2&&(a=_.O(),_.z(4),_.G("icon",a.icon),_.z(3),_.G("ngIf",a.config.title),_.z(),_.G("ngIf",a.config.helpButtonText),_.z(),_.G("ngIf",!!a.resourceName&&!a.linkDisabled&&a.link),_.z(),_.G("ngIf",!(a.resourceName&&!a.linkDisabled&&a.link)&&a.resourceName))},ODi=
function(a){a&1&&(_.H(0,"div",17)(1,"span",18),_.S(2),_.I(),_.S(3,": "),_.H(4,"a",16),_.S(5),_.I()());a&2&&(a=_.O(),_.z(2),_.Zf(a.config.title),_.z(2),_.G("cfcRouterLink",a.link.build())("queryParams",a.link.buildQueryParams())("track-name",a.config.trackName)("track-type",a.config.trackType),_.z(),_.V(" ",a.resourceName," "))},PDi=function(a){a&1&&_.Hf(0)},QDi=function(a){a&1&&(_.Gf(0),_.D(1,PDi,1,0,"ng-container",2),_.L());a&2&&(a=_.O(),_.z(),_.G("ngTemplateOutlet",a.globalErrorTemplate))},RDi=
function(a,b){a&1&&(_.H(0,"cfc-message",4)(1,"cfc-message-text"),_.J(2,"div",5),_.I()());a&2&&(a=b.$implicit,_.G("type",a.type),_.z(2),_.G("innerHtml",a.message,_.Nr))},SDi=function(a){a&1&&(_.Gf(0),_.D(1,RDi,3,2,"cfc-message",3),_.L());a&2&&(a=_.O(),_.z(),_.G("ngForOf",a.statusMessages))},UDi=function(a,b){a&1&&(_.H(0,"div")(1,"dt"),_.S(2),_.I(),_.H(3,"dd"),_.J(4,"cfc-icon",10),_.S(5),_.I()());a&2&&(a=b.$implicit,_.O(2),_.z(2),_.V(" ",a.name," "),_.z(2),_.G("icon",a.status),_.z(),_.V(" ",a.message||
TDi[a.status]," "))},VDi=function(a){a&1&&(_.H(0,"cfc-unfold",6)(1,"cfc-unfold-header",7),_.S(2),_.I(),_.H(3,"cfc-unfold-hidden-content")(4,"dl",8),_.D(5,UDi,6,3,"div",9),_.I()()());a&2&&(a=_.O(),_.G("unfolded",!0),_.z(),_.G("headingLevel",2)("headingVisualLevel",4),_.z(),_.V(" ",a.title," "),_.z(2),_.G("keyWidth",a.autoKeyWidth)("hidePinlines",!0),_.z(),_.G("ngForOf",a.statusDataArray))},aEi=function(a,b={}){const c=[];a.replace(WDi,(d,e,f,g,l)=>{c.push(e);if(!f)return"";const m=XDi.test(f);if(e.endsWith("/")&&
(!e.endsWith("depot/")||!f.startsWith("google3/"))||!g&&!l&&!m&&f.match("^(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?[.])+(?:cc|go|js|md|pi|pq|pp|py|qr|sh|ts|wf)(?::\\d{1,5}\\b)?$")||l&&!b.linkifyChangelistReferences||f.match("^com.google([A-Za-z0-9\\.]*)"))return c.push(f),"";let t=d=e="";if(g)e=`mailto:${g}`,d=b.preserveOriginalText?f:g;else if(l)e=`http://cl/${l}`,d=f;else if(m||(e="http://"),(l=f.match(YDi))&&!f.includes("("))e+=l[1],d=l[1],t=l[2];else{var u;(null==(u=b.pathPrefixesToShorten)?
0:u.some(v=>f.split("/")[0]===v))?(e+=f,d=f.split("/").pop()||f):(e+=f,d=f)}b.preserveExternalLinks||e.match(ZDi)||(e="https://www.google.com/url?sa=D&q="+encodeURIComponent(e));if(!e.includes("?")&&$Di.test(e)){const [,v,y]=e.match($Di);e=v+"?l="+y}u=Object.assign({},b.attributes);"rel"in u||g||(u.rel="nofollow noopener");"target"in u||g&&!b.openMailInNewTab||(u.target="_blank");c.push(_.zUf(Object.assign({},u,{href:e}),d));c.push(t);return""});return _.xUf(c)},dEi=function(a){if(!a)return[];const b=
[];for(const c of a)b.push({name:bEi(c.name),status:cEi(c.state),message:c.message});return b},iEi=function(a){if(!a)return[];const b=[];for(const e of a){a=eEi(e.severity);var c=e.message;if(c){let f=void 0;var d={};c=aEi(c,d).toString();if(null!=(f=d.linkifyPiperTags)?f:1)for(const [g,l]of fEi.entries())c=c.replace(g,l);d.linkifyHashtag&&(c=c.replace(gEi,'$1<a rel="nofollow noopener" target="_blank" href="https://critique.corp.google.com/#search/&q=tag:$2" title="Changelists tagged with #$2">#$2</a>'));
d.linkifyUsername&&d.openMailInNewTab?c=c.replace(hEi,'$1<a target="_blank" href="mailto:$2@google.com">$2@</a>'):d.linkifyUsername?c=c.replace(hEi,'$1<a href="mailto:$2@google.com">$2@</a>'):d.linkifyUsernameAsTeamsLink&&(c=c.replace(hEi,'$1<a target="_blank" href="https://teams.googleplex.com/$2">$2@</a>'));d=c}else d="";b.push({type:a,message:d})}return b},cEi=function(a){switch(a){case "COMPLETE":return"status-success";case "IN_PROGRESS":return"working";case "NOT_STARTED":return"pending";case "STATE_UNSPECIFIED":return"status-warning";
default:return"status-warning"}},bEi=function(a){switch(a){case "ARTIFACT_REGISTRY":return"Artifact registry";case "BUILD":return"Build";case "SERVICE":return"Service";case "TRIGGER":return"Trigger";case "SERVICE_ROLLBACK":return"Service rollback";case "TRIGGER_ROLLBACK":return"Trigger rollback";default:return"Not specified"}},eEi=function(a){switch(a){case "INFO":return"informational";case "WARNING":return"warning";case "ERROR":return"error";default:return"error"}},jEi=function(a=0,b){return _.fTd(a,
b)},kEi=function(a,b,c){return b?0!==b%1E3?`${b} millis`:jEi(b/1E3,a):c?"1":"1 (default)"},mEi=function(a){a&1&&(_.H(0,"cfc-message",35)(1,"cfc-message-text"),_.Kf(2,11),_.J(3,"pre",36),_.Lf(),_.I()());a&2&&(a=_.O(),_.z(3),_.Mf(lEi(a.dataHolder)),_.Nf(2))},nEi=function(a){a&1&&(_.H(0,"div")(1,"dt"),_.M(2,12),_.I(),_.H(3,"dd"),_.S(4),_.I()());a&2&&(a=_.O(),_.z(4),_.Zf(a.formatCpu(a.model.availableCpuMillis)))},oEi=function(a){a&1&&(_.H(0,"div")(1,"dt"),_.M(2,13),_.I(),_.H(3,"dd"),_.S(4),_.I()());if(a&
2){let b;a=_.O();_.z(4);_.Zf(null!==(b=a.model.maxInstanceRequestConcurrency)&&void 0!==b?b:1)}},pEi=function(a){a&1&&(_.H(0,"div")(1,"dt"),_.M(2,14),_.I(),_.H(3,"dd")(4,"a",37),_.S(5),_.I()()());a&2&&(a=_.O(),_.z(4),_.G("cfcRouterLink",a.serviceAccountsUrl),_.z(),_.V(" ",a.model.serviceAccount," "))},qEi=function(a){a&1&&(_.H(0,"div")(1,"dt"),_.M(2,15),_.I(),_.H(3,"dd")(4,"a",37),_.S(5),_.X(6,"placeholder"),_.I()()());a&2&&(a=_.O(),_.z(4),_.G("cfcRouterLink",a.serviceAccountsUrl),_.z(),_.V(" ",_.Y(6,
2,a.nullify(a.getServiceAccountEmail(a.model.buildServiceAccount)))," "))},rEi=function(a){a&1&&(_.H(0,"div")(1,"dt"),_.M(2,16),_.I(),_.H(3,"dd"),_.S(4),_.X(5,"placeholder"),_.I()());a&2&&(a=_.O(),_.z(4),_.V(" ",_.Y(5,1,a.nullify(a.model.buildWorkerPool))," "))},sEi=function(a){a&1&&(_.H(0,"div")(1,"dt"),_.M(2,17),_.I(),_.H(3,"dd")(4,"a",37),_.S(5),_.I()()());if(a&2){a=_.O();_.z(4);var b=a.model;var c=_.IQ.create();b=`resource.type="build"
resource.labels.build_id="${b.buildId}"
logName="projects/${b.projectId}/logs/cloudbuild"`;const d={end:(new Date).toISOString()};c=c.link().set(c.query,b).set(c.timeRange,d).build();_.G("cfcRouterLink",c);_.z();_.Zf(a.model.buildId)}},tEi=function(a){a&1&&(_.Gf(0),_.M(1,18),_.L())},uEi=function(a){a&1&&(_.Gf(0),_.M(1,19),_.L())},vEi=function(a){a&1&&(_.Gf(0),_.M(1,20),_.L())},wEi=function(a){a&1&&(_.S(0),_.X(1,"placeholder"));a&2&&_.V(" ",_.Y(1,1)," ")},xEi=function(a){a&1&&(_.Gf(0),_.M(1,21),_.L())},yEi=function(a){a&1&&(_.Gf(0),_.M(1,
22),_.L())},zEi=function(a){a&1&&(_.S(0),_.X(1,"placeholder"));a&2&&_.V(" ",_.Y(1,1)," ")},AEi=function(a){a&1&&(_.H(0,"dd")(1,"a",37),_.S(2),_.I()());a&2&&(a=_.O(2),_.z(),_.G("cfcRouterLink",a.dockerRepositoryLink),_.z(),_.Zf(a.dockerRepositoryShortName))},BEi=function(a){a&1&&(_.H(0,"dd"),_.S(1),_.X(2,"placeholder"),_.I());a&2&&(_.z(),_.V(" ",_.Y(2,1)," "))},CEi=function(a){a&1&&(_.H(0,"mat-card")(1,"mat-card-title"),_.M(2,23),_.I(),_.H(3,"mat-card-content")(4,"strong"),_.M(5,24),_.I(),_.H(6,"dl",
38)(7,"div")(8,"dt"),_.M(9,25),_.I(),_.H(10,"dd")(11,"a",39),_.S(12),_.I()()(),_.H(13,"div")(14,"dt"),_.M(15,26),_.I(),_.D(16,AEi,3,2,"dd",32)(17,BEi,3,3,"dd",32),_.I()()()());a&2&&(a=_.O(),_.z(6),_.G("hidePinlines",!0),_.z(5),_.G("cfcRouterLink",a.kmsKeyLink.link)("queryParams",a.kmsKeyLink.queryParams),_.z(),_.V(" ",a.model.kmsKeyName," "),_.z(4),_.G("ngIf",a.model.dockerRepositoryName),_.z(),_.G("ngIf",!a.model.dockerRepositoryName))},DEi=function(a){if(a&1){const b=_.n();_.H(0,"gce-rest-gcloud",
40);_.N("onInit",function(c){_.p(b);const d=_.O();return _.r(d.restGcloudDialog=c)});_.I()}a&2&&(a=_.O(),_.G("addMargins",!0)("showGcloud",!1)("isRestRequest",!1)("showRestDialog",a.showRestDialog.bind(a)))},EEi=function(){},FEi=function(a){a&1&&(_.H(0,"cfc-message",7)(1,"cfc-message-text"),_.S(2),_.I()());a&2&&(a=_.O().ngIf,_.z(2),_.Zf(null==a?null:a.crashErrorGroupFailure))},IEi=function(a,b){a&1&&(_.Gf(0),_.D(1,FEi,3,1,"cfc-message",5),_.J(2,"crash-error-table-view",6),_.L());a&2&&(a=b.ngIf,_.z(),
_.G("ngIf",null==a?null:a.crashErrorGroupFailure),_.z(),_.G("errorGroupStats",(null==a?null:a.crashErrorGroupStats)||_.cg(3,GEi))("columns",_.cg(4,HEi)))},JEi=function(a){a&1&&_.J(0,"gcf-invoker-permission-warning",5);a&2&&(a=_.O(),_.G("functionDisplayName",a.model.name)("region",a.model.region))},LEi=function(a){a&1&&_.J(0,"cfc-badge",22);a&2&&(a=_.O(2),_.G("type",KEi(a)))},MEi=function(a){a&1&&(_.Gf(0),_.H(1,"span",18)(2,"span",19),_.M(3,0),_.I(),_.S(4),_.D(5,LEi,1,1,"cfc-badge",20),_.I(),_.H(6,
"span",21)(7,"span",19),_.M(8,1),_.I(),_.S(9," : "),_.H(10,"code"),_.S(11),_.I()(),_.L());a&2&&(a=_.O(),_.z(4),_.V(" : ",a.getRuntimeInfoString(a.model.runtimeInfo)," "),_.z(),_.G("ngIf",KEi(a)),_.z(6),_.Zf(a.model.entryPoint))},NEi=function(a){a&1&&(_.H(0,"form",23),_.J(1,"gcf-runtime-select",24)(2,"gcf-entry-point-editor",25),_.I());a&2&&(a=_.O(),_.G("formGroup",a.form),_.z(),_.G("productVersion",a.model.productVersion)("region",a.model.region)("runtimeFamilyReadonly",!0))},PEi=function(a){if(a&
1){const b=_.n();_.H(0,"button",27);_.N("click",function(){_.p(b);const c=_.O(2);return _.r(OEi(c))});_.M(1,2);_.I()}a&2&&(a=_.O(2),_.G("ve",a.ve.FunctionsDetailsSourceTabInlineEditButton)("veClick",!0))},REi=function(a){if(a&1){const b=_.n();_.Gf(0);_.H(1,"button",28);_.N("click",function(){_.p(b);const c=_.O(2);return _.r(QEi(c))});_.M(2,3);_.I();_.H(3,"button",29);_.N("click",function(){_.p(b);const c=_.O(2);c.inlineEditInProgress=!1;c.form=void 0;c.editedModel=void 0;c.cloudShellService.panelOpenedSubject.next(!1);
_.H4h(c.cloudShellService);return _.r()});_.M(4,4);_.I();_.J(5,"gcf-predeployment-test-function",30);_.L()}a&2&&(a=_.O(2),_.z(),_.G("cmNativeDisabled",a.isSaveAndRedeployButtonDisabled)("ve",a.ve.FunctionsDetailsSourceTabInlineSaveButton)("veClick",!0),_.z(2),_.G("ve",a.ve.FunctionsDetailsSourceTabInlineCancelButton)("veClick",!0),_.z(2),_.G("model",a.model))},SEi=function(a){a&1&&(_.Gf(0),_.D(1,PEi,2,2,"button",26)(2,REi,6,6,"ng-container",10),_.L());a&2&&(a=_.O(),_.z(),_.G("ngIf",!a.inlineEditInProgress),
_.z(),_.G("ngIf",a.inlineEditInProgress))},TEi=function(a){a&1&&(_.H(0,"a",31),_.J(1,"cm-icon",32),_.Gf(2),_.M(3,5),_.L(),_.I());a&2&&(a=_.O(),_.G("cfc-external-link",a.sourceDownloadUrl)("isInternal",!0)("cfcIamResource",a.iamResource),_.z(),_.G("icon",a.icons.downloadSmallIcon))},UEi=function(a){a&1&&_.J(0,"gcf-missing-entry-point-warning",35)},VEi=function(a){a&1&&(_.Gf(0),_.D(1,UEi,1,0,"gcf-missing-entry-point-warning",33),_.X(2,"async"),_.J(3,"gcf-runtime-stage-messages",34),_.L());a&2&&(a=_.O(),
_.z(),_.G("ngIf",_.Y(2,2,a.isEntryPointMissing)),_.z(2),_.G("runtimeInfo",a.form.value.runtimeInfo))},WEi=function(a){a&1&&(_.H(0,"cfc-message",36)(1,"cfc-message-text"),_.M(2,6),_.I()())},XEi=function(a){a&1&&_.J(0,"gcf-source-errors",37);a&2&&(a=_.O(),_.G("inlineStatus",a.model.inlineStatus))},YEi=function(a){a&1&&(_.H(0,"div",38),_.J(1,"gcf-predeployment-test-function-panel",30),_.I());a&2&&(a=_.O(),_.z(),_.G("model",a.model))},$Ei=function(a,b){return Array.from(ZEi(a,!1,b)).map(([c,d])=>({key:c,
value:d}))},aFi=function(a,b){b=b.filter(c=>!!c.name&&!!c.value).map(c=>`${c.name}=${c.value}`);return 0<b.length?a+"?"+b.join("&"):a},ZEi=function(a,b,c){const d=new Map;var e=bFi(a);b&&d.set("Authorization","bearer $(gcloud auth print-identity-token)");d.set("Content-Type","application/json");_.x6(e)&&(a=cFi(a),d.set("ce-id","1234567890"),d.set("ce-specversion","1.0"),d.set("ce-type",`${e}`),d.set("ce-time","2020-08-08T00:11:44.895529672Z"),a&&d.set("ce-source",`${a}`));c=null==c?void 0:c.headers;
e=new Map;if(c)for(const {name:f,value:g}of c)e.set(f,g);c=e;return QAi(d,c)},bFi=function(a){let b,c,d,e;return null!=(e=null==(b=a.triggerV2)?void 0:b.eventType)?e:null==(c=a.upgradeInfo)?void 0:null==(d=c.triggerV2)?void 0:d.eventType},dFi=function(a){const b=[];a.forEach((c,d)=>{b.push(`-H "${d}: ${c}"`)});return b.join(" \\\n")},cFi=function(a){const b=bFi(a);if(_.G6(b)){let c,d,e,f;return`//storage.googleapis.com/projects/_/buckets/${null!=(f=null==(c=a.triggerV2)?void 0:null==(d=c.eventFilters)?
void 0:null==(e=d.find(g=>"bucket"===g.attribute))?void 0:e.value)?f:"BUCKET_NAME"}`}if(_.dph(b))return`//pubsub.googleapis.com/${eFi(a)}`;if(_.cph(b))return`//firestore.googleapis.com/projects/${a.projectId}`+"/databases/(default)";if(_.H6(b))return`//cloudaudit.googleapis.com/projects/${a.projectId}`+"/logs/data_access"},eFi=function(a){let b,c,d,e,f;return null!=(f=null!=(e=null==(b=a.triggerV2)?void 0:b.pubsubTopic)?e:null==(c=a.upgradeInfo)?void 0:null==(d=c.triggerV2)?void 0:d.pubsubTopic)?
f:"TOPIC_NAME"},fFi=function(a){a&1&&(_.H(0,"span"),_.M(1,7),_.I())},gFi=function(a){a&1&&(_.H(0,"span"),_.M(1,8),_.I())},hFi=function(a){a&1&&(_.Gf(0),_.H(1,"cfc-message",33)(2,"cfc-message-text"),_.D(3,fFi,2,0,"span",34)(4,gFi,2,0,"span",35),_.I()(),_.L());a&2&&(a=_.O(),_.z(),_.G("ngSwitch",a.model.status),_.z(2),_.G("ngSwitchCase","DEPLOYING"))},iFi=function(a){a&1&&_.J(0,"gcf-tab-testing-curl-command",36);a&2&&(a=_.O(),_.G("model",a.model)("httpUrl",a.model.trigger.deployedUrl)("testDataModel",
a.testDataModel))},jFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,11),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusRunningSmallIcon))},kFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,12),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusSuccessSmallIcon))},lFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,13),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusInactiveSmallIcon))},mFi=function(a){a&
1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,14),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusRunningSmallIcon))},nFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,15),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusWarningSmallIcon))},oFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,16),_.I(),_.J(4,"mat-progress-bar",46),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusRunningSmallIcon))},pFi=function(a){a&1&&(_.H(0,
"a",48),_.M(1,18),_.I());a&2&&(a=_.O(3),_.G("cfcRouterLink",a.lastExecution.logsUrl.build())("queryParams",a.lastExecution.logsUrl.buildQueryParams()))},qFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",44),_.H(2,"span",45),_.M(3,17),_.I(),_.D(4,pFi,2,2,"a",47),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusSuccessSmallIcon),_.z(2),_.Mf(a.LOG_LIMIT),_.Nf(3),_.z(),_.G("ngIf",a.lastExecution.logsUrl))},rFi=function(a){a&1&&_.J(0,"logs-viewer",49);a&2&&(a=_.O(2),_.G("resourceNames",a.logsViewerProjectIds)("filter",
a.lastExecution.logsFilter)("pageSize",a.LOG_LIMIT))},sFi=function(a){a&1&&(_.Gf(0),_.H(1,"div",37)(2,"div",38)(3,"cfc-form-label",39),_.Gf(4),_.M(5,9),_.L(),_.D(6,jFi,4,1,"ng-container",19)(7,kFi,4,1,"ng-container",19),_.I()(),_.H(8,"pre",40),_.S(9),_.I(),_.H(10,"cfc-form-label",41),_.Gf(11),_.M(12,10),_.L(),_.Gf(13,42),_.D(14,lFi,4,1,"ng-container",35)(15,mFi,4,1,"ng-container",34)(16,nFi,4,1,"ng-container",34)(17,oFi,5,1,"ng-container",34)(18,qFi,5,3,"ng-container",34),_.L(),_.I()(),_.D(19,rFi,
1,3,"logs-viewer",43),_.L());if(a&2){const b=_.O();_.z(6);_.G("ngIf","RUNNING"==b.lastExecution.state);_.z();_.G("ngIf","FINISHED"==b.lastExecution.state);_.z(2);_.V("      ",null==b.lastExecution.result?null:b.lastExecution.result.result,"\n    ");_.z(4);a=b.lastExecution;_.G("ngSwitch","NOT_RUN"===a.state?"TEST_NOT_RUN":"RUNNING"===a.state?"WAITING_TO_FINISH":a.logEntries.length?"HAVE_RESULTS":a.logPolling?"POLLING_NO_RESULTS":"LOGS_UNAVAILABLE");_.z(2);_.G("ngSwitchCase","WAITING_TO_FINISH");_.z();
_.G("ngSwitchCase","LOGS_UNAVAILABLE");_.z();_.G("ngSwitchCase","POLLING_NO_RESULTS");_.z();_.G("ngSwitchCase","HAVE_RESULTS");_.z();_.G("ngIf",null==b.lastExecution.logEntries?null:b.lastExecution.logEntries.length)}},uFi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-message",25,0)(2,"cfc-message-text");_.M(3,4);_.I();_.H(4,"cfc-message-actions")(5,"button",26);_.N("click",function(){_.p(b);_.O().dialog.open(tFi);return _.r()});_.M(6,5);_.I();_.H(7,"button",27);_.N("click",function(){_.p(b);const c=
_.Yf(1);return _.r(c.dismiss())});_.M(8,6);_.I()()()}},vFi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-message",28,1)(2,"cfc-message-text");_.M(3,7);_.I();_.H(4,"cfc-message-actions")(5,"button",27);_.N("click",function(){_.p(b);const c=_.Yf(1);return _.r(c.dismiss())});_.M(6,8);_.I()()()}},wFi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-progress-button",37)(1,"button",38);_.N("click",function(){_.p(b);const c=_.O(2);return _.r(c.runTest())});_.J(2,"cm-icon",39);_.Gf(3);_.M(4,11);_.L();_.I()()}a&
2&&(a=_.O(2),_.G("inProgress","RUNNING"===a.testExecutionState),_.z(),_.G("cfcDisable",!a.testButtonEnabled),_.z(),_.G("icon",a.icons.functionsLargeIcon))},zFi=function(a){if(a&1){const b=_.n();_.Gf(0);_.H(1,"cfc-form-label",29)(2,"h3",30);_.M(3,9);_.I()();_.H(4,"mat-card")(5,"mat-card-content")(6,"form",31,2)(8,"cfc-code-editor",32,3);_.Iw("ngModelChange",function(c){_.p(b);const d=_.O();_.Hw(d.testDataModel,c)||(d.testDataModel=c);return _.r(c)});_.I();_.H(10,"cfc-form-error",33);_.M(11,10);_.I();
_.D(12,wFi,5,3,"cfc-progress-button",34);_.I()()();_.H(13,"div",35)(14,"gcf-http-request-editor",36);_.N("requestSettingsChanged",function(c){_.p(b);const d=_.O();return _.r(d.requestSettings=c)});_.I()();_.L()}if(a&2){a=_.Yf(9);const b=_.O();_.z(8);_.Gw("ngModel",b.testDataModel);_.G("options",_.dg(7,xFi,_.cg(6,yFi)));_.z(2);_.G("errorFor","json")("control",a);_.z(2);_.G("ngIf",b.showTestButton);_.z(2);_.G("showHttpMethodSelector",!1)}},AFi=function(a){if(a&1){const b=_.n();_.H(0,"gcf-tab-testing-curl-command",
40);_.N("testInCloudShellClicked",function(){_.p(b);const c=_.O();return _.r(c.testInCloudShellClicked.emit())});_.I()}a&2&&(a=_.O(),_.G("model",a.model)("testDataModel",a.testDataModel)("httpUrl",a.httpUrl)("requestSettings",a.requestSettings))},BFi=function(a){a&1&&(_.H(0,"cfc-form-label",42)(1,"h3",30),_.M(2,13),_.I(),_.H(3,"pre",47),_.S(4),_.I()());a&2&&(a=_.O(2),_.z(4),_.V("          ",a.testExecutionResult,"\n        "))},CFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",48),_.H(2,"span",49),_.M(3,
14),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusRunningSmallIcon))},DFi=function(a){a&1&&(_.Gf(0),_.J(1,"cm-icon",48),_.H(2,"span",49),_.M(3,15),_.I(),_.H(4,"a",50),_.M(5,16),_.I(),_.L());a&2&&(a=_.O(2),_.z(),_.G("icon",a.icons.statusSuccessSmallIcon),_.z(2),_.Mf(a.LOGS_PAGE_SIZE),_.Nf(3),_.z(),_.G("cfcRouterLink",a.fullLogsUrl.build())("queryParams",a.fullLogsUrl.buildQueryParams()))},EFi=function(a){a&1&&(_.H(0,"div",21),_.D(1,BFi,5,1,"cfc-form-label",41),_.H(2,"cfc-form-label",42)(3,
"h3",43),_.M(4,12),_.I(),_.Gf(5,44),_.D(6,CFi,4,1,"ng-container",45)(7,DFi,6,4,"ng-container",45),_.L(),_.I(),_.J(8,"logs-viewer",46),_.I());a&2&&(a=_.O(),_.z(),_.G("ngIf",null!==a.testExecutionResult),_.z(4),_.G("ngSwitch",a.testExecutionState),_.z(),_.G("ngSwitchCase","RUNNING"),_.z(),_.G("ngSwitchCase","FINISHED"),_.z(),_.G("resourceNames",a.logsViewerProjectIds)("enableStreaming",!0)("filter",a.logsFilter)("pageSize",a.LOGS_PAGE_SIZE)("heightPx",500))},FFi=function(a){a&1&&_.J(0,"gcf-tab-testing-v1",
2);a&2&&(a=_.O(),_.G("model",a.model))},GFi=function(a){a&1&&_.J(0,"gcf-tab-testing-v2",3);a&2&&(a=_.O(),_.G("model",a.model)("httpUrl",a.model.deployedUrl)("isTabVisible",a.isTabVisible))},HFi=function(a){a&1&&(_.Kf(0,3,1),_.Gf(1),_.J(2,"code")(3,"br"),_.L(),_.Lf())},IFi=function(a){a&1&&(_.H(0,"mat-card-content")(1,"div",17)(2,"span",18),_.M(3,2),_.I(),_.H(4,"cfc-help-button",19),_.Kf(5,3),_.D(6,HFi,4,0,"ng-container",11),_.Lf(),_.I()(),_.H(7,"mat-radio-group",20)(8,"mat-radio-button",21),_.Kf(9,
4),_.J(10,"div",22),_.Lf(),_.I(),_.H(11,"mat-radio-button",23),_.Kf(12,5),_.J(13,"div",22),_.Lf(),_.I()()());a&2&&(a=_.O(),_.z(6),_.G("ngIf",!1===a.hasCrSetPolicyPermission),_.z(2),_.G("value",!0)("ve",a.ve.FunctionsCreateAllowUnauthenticatedRadioButton)("veClick",!0),_.z(3),_.G("value",!1)("ve",a.ve.FunctionsCreateRequireAuthenticationRadioButton)("veClick",!0))},JFi=function(a){a&1&&_.J(0,"a",24);a&2&&(a=_.O(),_.lu("linkText",a.url),_.lu("cfc-external-link",a.url))},KFi=function(a){a&1&&(_.H(0,
"span",25),_.S(1),_.I());a&2&&(a=_.O(),_.z(),_.Zf(a.url))},LFi=function(a){a&1&&_.J(0,"gcf-trigger-card",3);a&2&&(a=_.O(),_.G("type",a.cardTypes.DETAILS)("mode",a.cardModes.VIEW)("model",a.model)("functionUrl",a.functionUrl))},MFi=function(a){a&1&&_.J(0,"gcf-trigger-v2-https",7);a&2&&(a=_.O(2),_.G("model",a.model)("name",a.model.name)("mode",a.triggerV2Mode))},NFi=function(a){a&1&&_.J(0,"gcf-trigger-v2-main",8);a&2&&(a=_.O(2),_.G("mode",a.triggerV2Mode)("model",a.model))},OFi=function(a){a&1&&(_.H(0,
"div",4),_.D(1,MFi,1,3,"gcf-trigger-v2-https",5)(2,NFi,1,2,"gcf-trigger-v2-main",6),_.I());a&2&&(a=_.O(),_.z(),_.G("ngIf",!a.isMainV2TriggerAvailable),_.z(),_.G("ngIf",a.isMainV2TriggerAvailable))},PFi=function(a){a&1&&(_.H(0,"span")(1,"p"),_.M(2,1),_.I()())},RFi=function(a){a&1&&(_.Gf(0),_.H(1,"div",5),_.M(2,2),_.I(),_.Hf(3,6),_.L());if(a&2){a=_.O();const b=_.Yf(4);_.z(3);_.G("ngTemplateOutlet",b)("ngTemplateOutletContext",_.dg(2,QFi,a.mountedSummaries))}},TFi=function(a){a&1&&(_.Gf(0),_.H(1,"div",
5),_.M(2,3),_.I(),_.Hf(3,6),_.L());if(a&2){a=_.O();const b=_.Yf(4);_.z(3);_.G("ngTemplateOutlet",b)("ngTemplateOutletContext",_.dg(2,SFi,a.envSummaries))}},UFi=function(a){a&1&&(_.H(0,"span"),_.S(1),_.I());a&2&&(a=_.O().$implicit,_.z(),_.V(":",a.key,""))},VFi=function(a,b){a&1&&(_.H(0,"div",9)(1,"dt")(2,"code")(3,"pre"),_.S(4),_.I()()(),_.H(5,"dd")(6,"code")(7,"a",10),_.S(8),_.I(),_.D(9,UFi,2,1,"span",4),_.I()()());a&2&&(a=b.$implicit,_.z(4),_.Zf(a.source),_.z(3),_.G("cfcRouterLink",a.link)("queryParams",
a.linkQueryCommands),_.z(),_.Zf(a.name),_.z(),_.G("ngIf",a.key))},WFi=function(a,b){a&1&&(_.H(0,"dl",7),_.D(1,VFi,10,5,"div",8),_.I());a&2&&(a=b.summaries,_.G("id",b.id),_.z(),_.G("ngForOf",a))},XFi=function(a,b){a&1&&(_.Gf(0),_.H(1,"div")(2,"dt")(3,"pre"),_.S(4),_.I()(),_.H(5,"dd")(6,"pre"),_.S(7),_.I()()(),_.L());a&2&&(a=b.$implicit,_.z(4),_.Zf(a.name),_.z(3),_.Zf(a.value))},YFi=function(a){a&1&&(_.H(0,"dl",15),_.D(1,XFi,8,2,"ng-container",16),_.I());a&2&&(a=_.O().variables,_.z(),_.G("ngForOf",
a))},ZFi=function(a){a&1&&(_.H(0,"span"),_.M(1,4),_.I())},$Fi=function(a,b){a&1&&_.D(0,YFi,2,1,"dl",13)(1,ZFi,2,0,"span",14);a&2&&(a=b.variables,_.G("ngIf",a.length),_.z(),_.G("ngIf",!a.length))},aGi=function(a,b){a&1&&(_.H(0,"cfc-message",3)(1,"cfc-message-text"),_.S(2),_.I(),_.H(3,"cfc-message-actions")(4,"a",4),_.M(5,0),_.I(),_.H(6,"a",5),_.M(7,1),_.I()()());a&2&&(a=b.ngIf,b=_.O(),_.z(2),_.V(" ",a," "),_.z(2),_.G("cfcDocLink",b.dl.CONSOLE__FUNCTIONS_DOCS_RUNTIME_SUPPORT),_.z(2),_.G("cfcRouterLink",
b.editLink.build())("queryParams",b.editLink.buildQueryParams())("cfcDisable",!b.editEnabled)("cfcIamResource",b.iamResource))},cGi=function(a){if(a&1){const b=_.n();_.H(0,"button",11);_.N("click",function(){_.p(b);const c=_.O();1===c.step?c.subtaskService.open(bGi,{data:{model:c.model},width:1500}):2===c.step&&c.showConfirmDialog(2);return _.r()});_.S(1);_.I()}a&2&&(a=_.O(),_.G("ve",a.secondaryActionButtonVe)("veClick",!0),_.z(),_.V(" ",a.secondActionBtnTitle," "))},dGi=function(a){a&1&&(_.H(0,"a",
12),_.S(1),_.I());a&2&&(a=_.O(),_.G("cfcDocLink",a.CONSOLE__FUNCTIONS_DOCS_2ND_GEN_OVERVIEW),_.z(),_.V(" ",a.secondActionBtnTitle," "))},eGi=function(a){a&1&&(_.H(0,"cfc-message-actions")(1,"a",3),_.M(2,0),_.I()());a&2&&(a=_.O(),_.z(),_.G("cfcRouterLink",a.logsLink.build())("queryParams",a.logsLink.buildQueryParams()))},fGi=function(a){if(a&1){const b=_.n();_.H(0,"button",62);_.N("click",function(){_.p(b);const c=_.O();c.dialogService.open({moduleId:"pm_gcf_upgrade_confirm_dialog",className:"GcfUpgradeConfirmDialog"},
{data:{model:c.model,type:0}});return _.r()});_.Kf(1,7);_.J(2,"cm-icon",25);_.Lf();_.I()}a&2&&(a=_.O(),_.G("ve",a.abortUpgradeButtonVe)("veClick",!0),_.z(2),_.G("icon",a.icons.deleteSmallIcon))},gGi=function(a){a&1&&_.J(0,"gcf-traffic-warning",63);a&2&&(a=_.O(),_.G("mode",a.trafficWarningMode)("cloudRunServiceName",a.cloudRunServiceName)("deployedAllTrafficOnLatestRevision",a.model.deployedAllTrafficOnLatestRevision)("invalidV2Function",a.model.isInvalidV2Function())("region",a.model.region))},hGi=
function(a){if(a&1){const b=_.n();_.H(0,"cfc-message",65,0)(2,"cfc-message-text");_.M(3,8);_.I();_.H(4,"cfc-message-actions")(5,"button",66);_.N("click",function(){_.p(b);const c=_.Yf(1);return _.r(c.dismiss())});_.M(6,9);_.I();_.H(7,"a",67);_.M(8,10);_.I()()()}if(a&2){a=_.O().ngIf;const b=_.O();_.G("cfcMessageTabernaStateSync",b.gcrIsPublicWarningSyncKey);_.z(3);_.Mf(a.getName());_.Nf(3);_.z(4);_.G("cfcRouterLink",b.gcrSettingsUrl)}},iGi=function(a,b){a&1&&(_.Gf(0),_.D(1,hGi,9,3,"cfc-message",64),
_.L());a&2&&(a=b.ngIf,b=_.O(),_.z(),_.G("ngIf",a.getVisibility()===b.GcrVisibility.PUBLIC))},jGi=function(a){a&1&&_.J(0,"gcf-upgrade-warning",71);a&2&&(a=_.O(3),_.G("upgradeState",a.model.upgradeInfo.upgradeState)("logsLink",a.logsLink))},kGi=function(a){if(a&1){const b=_.n();_.H(0,"cfc-message",72)(1,"cfc-message-text");_.M(2,11);_.I();_.H(3,"cfc-message-actions")(4,"cfc-expand-button",73);_.N("toggle",function(){_.p(b);const c=_.O(3);c.deploymentTrackerExpanderCollapsed=!c.deploymentTrackerExpanderCollapsed;
return _.r()});_.I();_.H(5,"a",74);_.M(6,12);_.I();_.H(7,"a",75);_.M(8,13);_.I()()()}a&2&&(a=_.O(3),_.z(4),_.G("collapsed",a.deploymentTrackerExpanderCollapsed),_.z(),_.G("cfcRouterLink",a.logsLink.build())("queryParams",a.logsLink.buildQueryParams()),_.z(2),_.G("cfcRouterLink",a.editLink)("queryParams",a.editLinkQueryParams)("cfcDisable",!a.model.editEnabled())("cfcIamResource",a.iamResource))},lGi=function(a){a&1&&_.D(0,jGi,1,2,"gcf-upgrade-warning",69)(1,kGi,9,7,"cfc-message",70);a&2&&(a=_.O(2),
_.G("ngIf",a.showUpgradeWarning),_.z(),_.G("ngIf",null==a.postDeploymentsMessages?null:a.postDeploymentsMessages.length))},mGi=function(a){a&1&&(_.Gf(0),_.H(1,"s8s-deployment-progress-tracker",68),_.D(2,lGi,2,2,"ng-template",null,1,_.fg),_.I(),_.L());a&2&&(a=_.O(),_.z(),_.Bf("cfc-space-above-minus-2",a.model.deployedAllTrafficOnLatestRevision||a.model.isInvalidV2Function()||a.showUpgradeWarning||!a.isV2Function),_.G("expanderCollapsed",a.deploymentTrackerExpanderCollapsed)("layout",a.deploymentTrackerLayout)("statusMessages",
a.postDeploymentsMessages)("statusDataArray",a.statusData))},nGi=function(a){a&1&&_.J(0,"hr",47)},oGi=function(a){a&1&&(_.H(0,"mat-chip",76),_.M(1,14),_.I())},pGi=function(a){a&1&&(_.H(0,"mat-chip",76),_.M(1,15),_.I())},qGi=function(a,b){a&1&&(_.H(0,"mat-option",79),_.S(1),_.H(2,"div",80),_.S(3),_.I()());a&2&&(a=b.$implicit,_.G("value",a.revision),_.z(),_.V(" ",a.description," "),_.z(2),_.V(" ",a.note," "))},rGi=function(a){a&1&&(_.S(0),_.H(1,"span",81),_.S(2),_.I());a&2&&(a=_.O(2),_.V(" ",null==
a.selectedRevisionInfo?null:a.selectedRevisionInfo.description," "),_.z(2),_.V(" ",null==a.selectedRevisionInfo?null:a.selectedRevisionInfo.note," "))},uGi=function(a){if(a&1){const b=_.n();_.H(0,"mat-form-field",77)(1,"mat-label");_.M(2,16);_.I();_.H(3,"cfc-select",78);_.Iw("ngModelChange",function(c){_.p(b);const d=_.O();_.Hw(d.selectedRevision,c)||(d.selectedRevision=c);return _.r(c)});_.Ef(4,qGi,4,3,"mat-option",null,sGi);_.D(6,rGi,3,2,"ng-template",null,2,_.fg);_.I()()}a&2&&(a=_.O(),_.z(3),_.Gw("ngModel",
a.selectedRevision),_.G("ngModelOptions",_.cg(2,tGi)),_.z(),_.Ff(a.revisions))},vGi=function(a){a&1&&(_.H(0,"span",82),_.S(1),_.I());a&2&&(a=_.O(),_.z(),_.V(" (",null==a.selectedRevisionInfo?null:a.selectedRevisionInfo.description,") "))},wGi=function(a){a&1&&_.J(0,"a",89);a&2&&(a=_.O(2),_.lu("linkText",a.v2DeployedUrl),_.lu("cfc-external-link",a.v2DeployedUrl))},xGi=function(a){a&1&&(_.H(0,"span",90),_.S(1),_.I());a&2&&(a=_.O(2),_.z(),_.V("",a.v2DeployedUrl," "))},yGi=function(a){a&1&&(_.H(0,"span",
83)(1,"span",84),_.M(2,17),_.I(),_.S(3,": "),_.D(4,wGi,1,2,"a",85)(5,xGi,2,1,"ng-template",null,3,_.fg),_.J(7,"cfc-easy-copy",86),_.H(8,"cfc-help-button",87),_.Gf(9),_.M(10,18),_.L(),_.H(11,"a",88),_.M(12,19),_.I()()());if(a&2){a=_.Yf(6);const b=_.O();_.z(4);_.G("ngIf",b.model.unauthenticatedAccess)("ngIfElse",a);_.z(3);_.G("copyText",b.v2DeployedUrl)("alwaysShowCopyButton",!0);_.z(4);_.G("cfcDocLink",b.dl.CONSOLE__FUNCTIONS_DOCS_CALLING_HTTP_URL)}},zGi=function(a){a&1&&_.J(0,"gcf-upgrade-progress",
91);a&2&&(a=_.O(),_.G("step",a.upgradeStep)("model",a.model))},AGi=function(a){a&1&&_.J(0,"s8s-badge",92);a&2&&(a=_.O(),_.G("badgeType",a.s8sBadgeType)("linkDisabled",a.cloudRunLinkDisabled)("resourceName",a.cloudRunServiceName)("region",a.model.region))},BGi=function(a){a&1&&_.J(0,"gcf-tab-details",93);a&2&&(a=_.O(),_.G("dataHolder",a.dataHolder))},CGi=function(a){a&1&&(_.H(0,"div",94),_.J(1,"gcf-tab-source",33),_.I());a&2&&(a=_.O(),_.z(),_.G("model",a.model))},DGi=function(a){a&1&&_.J(0,"gcf-tab-variables",
33);a&2&&(a=_.O(),_.G("model",a.model))},EGi=function(a){a&1&&_.J(0,"gcf-tab-triggers",33);a&2&&(a=_.O(),_.G("model",a.model))},FGi=function(a){a&1&&_.J(0,"gcf-tab-permissions",33);a&2&&(a=_.O(),_.G("model",a.model))},GGi=function(a){a&1&&(_.H(0,"div",94),_.J(1,"gcf-tab-logs",33),_.I());a&2&&(a=_.O(),_.z(),_.G("model",a.model))},HGi=function(a){a&1&&_.J(0,"gcf-tab-testing",95);a&2&&(a=_.O(),_.G("model",a.model)("isTabVisible",a.isTestingTabVisible))},IGi=function(a,b){return a.config.request("CallFunctionV1",
'mutation CallFunctionV1($name: String!, $testData: String!) @Signature(bytes: "2/hg5yjJrAmoVvDdAsxJchxoBJ7Wu91gCQ5hpp1hv4UyE=") { callFunctionV1(name: $name, testData: $testData) { name } }',b,void 0)},JGi=function(a){return!_.zlh(a)&&!a.upgradeInProgress()},KGi=function(a,b){let c,d,e,f,g;const l=(null==(c=b.operation)?0:null==(d=c.customErrors)?0:d.find(t=>"CALL_FUNCTION_DEADLINE"===(null==t?void 0:t.reason)))?"Function being tested has exceeded the 5 minutes timeout imposed by the Cloud Functions testing utility.":
null!=(g=null==(e=b.operation)?void 0:null==(f=e.error)?void 0:f.causeErrorMessage)?g:"An unknown error has occurred while testing a function.";let m;_.s6(a,{error:null!=(m=b.operation.error)?m:{},message:l});return _.Td(b)},LGi=function(a,b,c){b=IGi(a.graphqlClient,{name:b.fullName,testData:c}).pipe(_.x(d=>d.callFunctionV1.name),a.operationsService.getOperationResult());return _.Nt(b.pipe(_.Je(d=>KGi(a,d))))},MGi={READY:"ACTIVE",FAILED:"FAILED",WARNING:"FAILED"},NGi={setting:"GCF_TESTING_TAB_VISITED_SECOND_GEN"},
OGi=function(a){return a.basicTypesService.get(NGi).pipe(_.x(b=>{let c,d;return!(null!=(d=null==(c=b.value)?void 0:c.boolVal)&&d)}),_.Je(()=>_.w(!0)))},PGi=function(a,b){var c;let d;var e=null!=(d=null==(c=b.base)?void 0:c.type)?d:"";let f,g;c=null!=(g=null==(f=b.base)?void 0:f.subtype)?g:"";if(a.assistConfigMap.get(e).shouldBypassPanelLoad()){var l;let m;e=null!=(m=null==(l=b.base)?void 0:l.type)?m:"";let t,u;l=null!=(u=null==(t=b.base)?void 0:t.subtype)?u:"";b="google.compute.firewall.Insight"===
e?_.wzi(a,b.id):_.xzi(a,{assistGroup:"GROUP_UNSPECIFIED",assistObject:b},e,l);b.backdropClick.pipe(_.C(b.afterClosed)).subscribe(a.sendPanelBackdropEvent(null!=e?e:"","GROUP_UNSPECIFIED"));a=b}else a=_.yzi(a,b.id,e,b.base.assistKind,c,"GROUP_UNSPECIFIED");return a},QGi=function(a){const b=_.w6b(a);if(!b)throw Error("Yd`"+a);return b},RGi={type:1,path:"/functions/docs/calling/http#url"},SGi={type:1,path:"/functions/docs/reference/rest/"},TGi={type:1,path:"/iam/help/recommendations/roles"},UGi={type:1,
path:"/iam/help/service-accounts/google-managed"},VGi={type:1,path:"/resource-manager/docs/creating-managing-organization"},WGi={type:1,path:"/security-command-center/"},XGi=a=>({animationDuration:a}),YGi=(a,b)=>({value:a,params:b}),ZGi=class{set position(a){this._positionIndex=a;this._computePositionAnimationState()}constructor(a,b,c){this._elementRef=a;this._dir=b;this._dirChangeSubscription=_.Nd.EMPTY;this._translateTabComplete=new _.hf;this._onCentering=new _.Nk;this._beforeCentering=new _.Nk;
this._afterLeavingCenter=new _.Nk;this._onCentered=new _.Nk(!0);this.animationDuration="500ms";this.preserveContent=!1;b&&(this._dirChangeSubscription=b.change.subscribe(d=>{this._computePositionAnimationState(d);c.markForCheck()}));this._translateTabComplete.pipe(_.Re((d,e)=>d.fromState===e.fromState&&d.toState===e.toState)).subscribe(d=>{this._isCenterPosition(d.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit();this._isCenterPosition(d.fromState)&&!this._isCenterPosition(this._position)&&
this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe();this._translateTabComplete.complete()}_onTranslateTabStarted(a){a=this._isCenterPosition(a.toState);this._beforeCentering.emit(a);a&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(a){return"center"==
a||"left-origin-center"==a||"right-origin-center"==a}_computePositionAnimationState(a=this._getLayoutDirection()){this._position=0>this._positionIndex?"ltr"==a?"left":"right":0<this._positionIndex?"ltr"==a?"right":"left":"center"}_computePositionFromOrigin(a){const b=this._getLayoutDirection();return"ltr"==b&&0>=a||"rtl"==b&&0<a?"left-origin-center":"right-origin-center"}};ZGi.\u0275fac=function(a){return new (a||ZGi)(_.A(_.Ld),_.A(_.Pm,8),_.A(_.Wk))};
ZGi.\u0275dir=_.id({type:ZGi,inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}});
var $Gi=class extends _.$m{constructor(a,b,c,d){super(a,b,d);this._host=c;this._leavingSub=this._centeringSub=_.Nd.EMPTY}ngOnInit(){super.ngOnInit();this._centeringSub=this._host._beforeCentering.pipe(_.nf(this._host._isCenterPosition(this._host._position))).subscribe(a=>{a&&!this.hasAttached()&&this.attach(this._host._content)});this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy();this._centeringSub.unsubscribe();
this._leavingSub.unsubscribe()}};$Gi.\u0275fac=function(a){return new (a||$Gi)(_.A(_.Ck),_.A(_.Sf),_.A(_.Yc(()=>aHi)),_.A(_.yg))};$Gi.\u0275dir=_.id({type:$Gi,selectors:[["","matTabBodyHost",""]],features:[_.xf]});var aHi=class extends ZGi{};aHi.\u0275fac=function(a){return new (a||aHi)(_.A(_.Ld),_.A(_.Pm,8),_.A(_.Wk))};
aHi.\u0275cmp=_.fd({type:aHi,selectors:[["mat-tab-body"]],viewQuery:function(a,b){a&1&&_.Uf(_.$m,5);if(a&2){let c;_.Wf(c=_.Xf())&&(b._portalHost=c.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(a){a&2&&_.zf("mat-id-collision",null)},features:[_.xf],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(a,b){if(a&1){const c=_.n();_.H(0,"div",1,0);_.N("@translateTab.start",function(d){_.p(c);return _.r(b._onTranslateTabStarted(d))})("@translateTab.done",
function(d){_.p(c);return _.r(b._translateTabComplete.next(d))});_.D(2,nAi,0,0,"ng-template",2);_.I()}a&2&&_.G("@translateTab",_.eg(3,YGi,b._position,_.dg(1,XGi,b.animationDuration)))},dependencies:[$Gi],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}\n'],
encapsulation:2,data:{animation:[_.CBb]}});
var bHi=class{get disablePagination(){return this._disablePagination}set disablePagination(a){this._disablePagination=_.Mg(a)}get selectedIndex(){return this._selectedIndex}set selectedIndex(a){a=_.Pg(a);this._selectedIndex!=a&&(this._selectedIndexChanged=!0,this._selectedIndex=a,this._keyManager&&_.zn(this._keyManager,a))}constructor(a,b,c,d,e,f,g){this._elementRef=a;this._changeDetectorRef=b;this._viewportRuler=c;this._dir=d;this._ngZone=e;this._platform=f;this._animationMode=g;this._scrollDistance=
0;this._selectedIndexChanged=!1;this._destroyed=new _.hf;this._showPaginationControls=!1;this._disableScrollBefore=this._disableScrollAfter=!0;this._stopScrolling=new _.hf;this._disablePagination=!1;this._selectedIndex=0;this.selectFocusedIndex=new _.Nk;this.indexFocused=new _.Nk;e.runOutsideAngular(()=>{_.je(a.nativeElement,"mouseleave").pipe(_.C(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){_.je(this._previousPaginator.nativeElement,"touchstart",_.DBb).pipe(_.C(this._destroyed)).subscribe(()=>
{this._handlePaginatorPress("before")});_.je(this._nextPaginator.nativeElement,"touchstart",_.DBb).pipe(_.C(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const a=this._dir?this._dir.change:_.w("ltr"),b=this._viewportRuler.change(150),c=()=>{this.updatePagination();this._alignInkBarToSelectedTab()};this._keyManager=_.vn(_.wn(_.yn(_.xn(new _.Bn(this._items),this._getLayoutDirection()))),()=>!1);_.zn(this._keyManager,this._selectedIndex);this._ngZone.onStable.pipe(_.Te(1)).subscribe(c);
_.ne(a,b,this._items.changes,this._itemsResized()).pipe(_.C(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance));c()})});_.xn(this._keyManager,this._getLayoutDirection())});this._keyManager.change.subscribe(d=>{this.indexFocused.emit(d);this._setTabFocus(d)})}_itemsResized(){return"function"!==typeof ResizeObserver?_.Se:this._items.changes.pipe(_.nf(this._items),_.of(a=>new _.Rd(b=>
this._ngZone.runOutsideAngular(()=>{const c=new ResizeObserver(d=>b.next(d));a.forEach(d=>c.observe(d.elementRef.nativeElement));return()=>{c.disconnect()}}))),_.lf(1),_.pe(a=>a.some(b=>0<b.contentRect.width&&0<b.contentRect.height)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck());this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),
this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck());this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){let a;null==(a=this._keyManager)||a.destroy();this._destroyed.next();this._destroyed.complete();this._stopScrolling.complete()}_handleKeydown(a){if(!_.Sg(a))switch(a.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const b=this._items.get(this.focusIndex);
b&&!b.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(a))}break;default:this._keyManager.onKeydown(a)}}_onContentChanges(){const a=this._elementRef.nativeElement.textContent;a!==this._currentTextContent&&(this._currentTextContent=a||"",this._ngZone.run(()=>{this.updatePagination();this._alignInkBarToSelectedTab();this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled();this._checkScrollingControls();this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?
this._keyManager.activeItemIndex:0}set focusIndex(a){this._isValidIndex(a)&&this.focusIndex!==a&&this._keyManager&&this._keyManager.setActiveItem(a)}_isValidIndex(a){return this._items?!!this._items.toArray()[a]:!0}_setTabFocus(a){this._showPaginationControls&&this._scrollToLabel(a);this._items&&this._items.length&&(this._items.toArray()[a].focus(),a=this._tabListContainer.nativeElement,a.scrollLeft="ltr"==this._getLayoutDirection()?0:a.scrollWidth-a.offsetWidth)}_getLayoutDirection(){return this._dir&&
"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(!this.disablePagination){var a=this.scrollDistance;this._tabList.nativeElement.style.transform=`translateX(${Math.round("ltr"===this._getLayoutDirection()?-a:a)}px)`;if(this._platform.TRIDENT||this._platform.EDGE)this._tabListContainer.nativeElement.scrollLeft=0}}get scrollDistance(){return this._scrollDistance}set scrollDistance(a){this._scrollTo(a)}_scrollHeader(a){return this._scrollTo(this._scrollDistance+("before"==a?-1:1)*this._tabListContainer.nativeElement.offsetWidth/
3)}_handlePaginatorClick(a){this._stopInterval();this._scrollHeader(a)}_scrollToLabel(a){if(!this.disablePagination){var b=this._items?this._items.toArray()[a]:null;if(b){a=this._tabListContainer.nativeElement.offsetWidth;var c=b.elementRef.nativeElement.offsetLeft,d=b.elementRef.nativeElement.offsetWidth;"ltr"==this._getLayoutDirection()?b=c+d:(b=this._tabListInner.nativeElement.offsetWidth-c,c=b-d);d=this.scrollDistance;a=this.scrollDistance+a;c<d?this.scrollDistance-=d-c:b>a&&(this.scrollDistance+=
Math.min(b-a,c-d))}}}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const a=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;a||(this.scrollDistance=0);a!==this._showPaginationControls&&this._changeDetectorRef.markForCheck();this._showPaginationControls=a}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=
this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){var a=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null;(a=a?a.elementRef.nativeElement:null)?this._inkBar.alignToElement(a):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(a,b){b&&null!=b.button&&
0!==b.button||(this._stopInterval(),_.re(650,100).pipe(_.C(_.ne(this._stopScrolling,this._destroyed))).subscribe(()=>{const {maxScrollDistance:c,distance:d}=this._scrollHeader(a);(0===d||d>=c)&&this._stopInterval()}))}_scrollTo(a){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const b=this._getMaxScrollDistance();this._scrollDistance=Math.max(0,Math.min(b,a));this._scrollDistanceChanged=!0;this._checkScrollingControls();return{maxScrollDistance:b,distance:this._scrollDistance}}};
bHi.\u0275fac=function(a){return new (a||bHi)(_.A(_.Ld),_.A(_.Wk),_.A(_.Sm),_.A(_.Pm,8),_.A(_.we),_.A(_.Lm),_.A(_.Ek,8))};bHi.\u0275dir=_.id({type:bHi,inputs:{disablePagination:"disablePagination"}});var cHi=class extends bHi{get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=_.Mg(a)}constructor(a,b,c,d,e,f,g){super(a,b,c,d,e,f,g);this._disableRipple=!1}_itemSelected(a){a.preventDefault()}};
cHi.\u0275fac=function(a){return new (a||cHi)(_.A(_.Ld),_.A(_.Wk),_.A(_.Sm),_.A(_.Pm,8),_.A(_.we),_.A(_.Lm),_.A(_.Ek,8))};cHi.\u0275dir=_.id({type:cHi,inputs:{disableRipple:"disableRipple"},features:[_.xf]});
var dHi=0,eHi=class{},fHi=class extends _.JBb{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(a){this._dynamicHeight=_.Mg(a)}get selectedIndex(){return this._selectedIndex}set selectedIndex(a){this._indexToSelect=_.Pg(a,null)}get animationDuration(){return this._animationDuration}set animationDuration(a){this._animationDuration=/^\d+$/.test(a+"")?a+"ms":a}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(a){this._contentTabIndex=_.Pg(a,null)}get disablePagination(){return this._disablePagination}set disablePagination(a){this._disablePagination=
_.Mg(a)}get preserveContent(){return this._preserveContent}set preserveContent(a){this._preserveContent=_.Mg(a)}get backgroundColor(){return this._backgroundColor}set backgroundColor(a){const b=this._elementRef.nativeElement.classList;b.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`);a&&b.add("mat-tabs-with-background",`mat-background-${a}`);this._backgroundColor=a}constructor(a,b,c,d){super(a);this._changeDetectorRef=b;this._animationMode=d;this._tabs=new _.Tf;this._indexToSelect=
0;this._lastFocusedTabIndex=null;this._tabBodyWrapperHeight=0;this._tabLabelSubscription=this._tabsSubscription=_.Nd.EMPTY;this._dynamicHeight=!1;this._selectedIndex=null;this.headerPosition="above";this._preserveContent=this._disablePagination=!1;this.selectedIndexChange=new _.Nk;this.focusChange=new _.Nk;this.animationDone=new _.Nk;this.selectedTabChange=new _.Nk(!0);this._groupId=dHi++;this.animationDuration=c&&c.animationDuration?c.animationDuration:"500ms";this.disablePagination=c&&null!=c.disablePagination?
c.disablePagination:!1;this.dynamicHeight=c&&null!=c.dynamicHeight?c.dynamicHeight:!1;let e;this.contentTabIndex=null!=(e=null==c?void 0:c.contentTabIndex)?e:null;this.preserveContent=!(null==c||!c.preserveContent)}ngAfterContentChecked(){const a=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=a){const b=null==this._selectedIndex;if(!b){this.selectedTabChange.emit(this._createChangeEvent(a));const c=this._tabBodyWrapper.nativeElement;c.style.minHeight=c.clientHeight+
"px"}Promise.resolve().then(()=>{this._tabs.forEach((c,d)=>c.isActive=d===a);b||(this.selectedIndexChange.emit(a),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((b,c)=>{b.position=c-a;null==this._selectedIndex||0!=b.position||b.origin||(b.origin=a-this._selectedIndex)});this._selectedIndex!==a&&(this._selectedIndex=a,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges();this._subscribeToTabLabels();
this._tabsSubscription=this._tabs.changes.subscribe(()=>{const a=this._clampTabIndex(this._indexToSelect);if(a===this._selectedIndex){const b=this._tabs.toArray();let c;for(let d=0;d<b.length;d++)if(b[d].isActive){this._indexToSelect=this._selectedIndex=d;this._lastFocusedTabIndex=null;c=b[d];break}!c&&b[a]&&Promise.resolve().then(()=>{b[a].isActive=!0;this.selectedTabChange.emit(this._createChangeEvent(a))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(_.nf(this._allTabs)).subscribe(a=>
{this._tabs.reset(a.filter(b=>b._closestTabGroup===this||!b._closestTabGroup));_.koa(this._tabs)})}ngOnDestroy(){this._tabs.destroy();this._tabsSubscription.unsubscribe();this._tabLabelSubscription.unsubscribe()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}_focusChanged(a){this._lastFocusedTabIndex=a;this.focusChange.emit(this._createChangeEvent(a))}_createChangeEvent(a){const b=new eHi;b.index=a;this._tabs&&this._tabs.length&&(b.tab=this._tabs.toArray()[a]);return b}_subscribeToTabLabels(){this._tabLabelSubscription&&
this._tabLabelSubscription.unsubscribe();this._tabLabelSubscription=_.ne(...this._tabs.map(a=>a._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(a){return Math.min(this._tabs.length-1,Math.max(a||0,0))}_getTabLabelId(a){return`mat-tab-label-${this._groupId}-${a}`}_getTabContentId(a){return`mat-tab-content-${this._groupId}-${a}`}_setTabBodyWrapperHeight(a){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var b=this._tabBodyWrapper.nativeElement;b.style.height=
this._tabBodyWrapperHeight+"px";this._tabBodyWrapper.nativeElement.offsetHeight&&(b.style.height=a+"px")}}_removeTabBodyWrapperHeight(){const a=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=a.clientHeight;a.style.height="";this.animationDone.emit()}_handleClick(a,b,c){b.focusIndex=c;a.disabled||(this.selectedIndex=c)}_getTabIndex(a){let b;const c=null!=(b=this._lastFocusedTabIndex)?b:this.selectedIndex;return a===c?0:-1}_tabFocusChanged(a,b){a&&"mouse"!==a&&"touch"!==a&&(this._tabHeader.focusIndex=
b)}};fHi.\u0275fac=function(a){return new (a||fHi)(_.A(_.Ld),_.A(_.Wk),_.A(_.p$a,8),_.A(_.Ek,8))};
fHi.\u0275dir=_.id({type:fHi,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[_.xf]});
var gHi=class{constructor(a,b,c,d){this._elementRef=a;this._ngZone=b;this._inkBarPositioner=c;this._animationMode=d}alignToElement(a){this.show();this._ngZone.run(()=>{this._ngZone.onStable.pipe(_.Te(1)).subscribe(()=>{const b=this._inkBarPositioner(a),c=this._elementRef.nativeElement;c.style.left=b.left;c.style.width=b.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}};
gHi.\u0275fac=function(a){return new (a||gHi)(_.A(_.Ld),_.A(_.we),_.A(_.i$a),_.A(_.Ek,8))};gHi.\u0275dir=_.id({type:gHi,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(a,b){a&2&&_.Bf("_mat-animation-noopable","NoopAnimations"===b._animationMode)}});var hHi=a=>({animationDuration:a}),iHi=(a,b)=>({value:a,params:b}),jHi=class extends $Gi{};jHi.\u0275fac=function(a){return new (a||jHi)(_.A(_.Ck),_.A(_.Sf),_.A(_.Yc(()=>kHi)),_.A(_.yg))};
jHi.\u0275dir=_.id({type:jHi,selectors:[["","matTabBodyHost",""]],features:[_.xf]});var kHi=class extends ZGi{};kHi.\u0275fac=function(a){return new (a||kHi)(_.A(_.Ld),_.A(_.Pm,8),_.A(_.Wk))};
kHi.\u0275cmp=_.fd({type:kHi,selectors:[["mat-tab-body"]],viewQuery:function(a,b){a&1&&_.Uf(_.$m,5);if(a&2){let c;_.Wf(c=_.Xf())&&(b._portalHost=c.first)}},hostAttrs:[1,"mat-tab-body"],hostVars:1,hostBindings:function(a){a&2&&_.zf("mat-id-collision",null)},features:[_.xf],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-tab-body-content"],["matTabBodyHost",""]],template:function(a,b){if(a&1){const c=_.n();_.H(0,"div",1,0);_.N("@translateTab.start",function(d){_.p(c);return _.r(b._onTranslateTabStarted(d))})("@translateTab.done",
function(d){_.p(c);return _.r(b._translateTabComplete.next(d))});_.D(2,oAi,0,0,"ng-template",2);_.I()}a&2&&_.G("@translateTab",_.eg(3,iHi,b._position,_.dg(1,hHi,b.animationDuration)))},dependencies:[jHi],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[_.CBb]}});
var lHi=["tabListContainer"],mHi=["tabList"],nHi=["tabListInner"],oHi=["nextPaginator"],pHi=["previousPaginator"],qHi=class extends cHi{};qHi.\u0275fac=function(a){return new (a||qHi)(_.A(_.Ld),_.A(_.Wk),_.A(_.Sm),_.A(_.Pm,8),_.A(_.we),_.A(_.Lm),_.A(_.Ek,8))};
qHi.\u0275cmp=_.fd({type:qHi,selectors:[["mat-tab-header"]],contentQueries:function(a,b,c){a&1&&_.Vf(c,_.Nx,4);if(a&2){let d;_.Wf(d=_.Xf())&&(b._items=d)}},viewQuery:function(a,b){a&1&&(_.Uf(gHi,7),_.Uf(lHi,7),_.Uf(mHi,7),_.Uf(nHi,7),_.Uf(oHi,5),_.Uf(pHi,5));if(a&2){let c;_.Wf(c=_.Xf())&&(b._inkBar=c.first);_.Wf(c=_.Xf())&&(b._tabListContainer=c.first);_.Wf(c=_.Xf())&&(b._tabList=c.first);_.Wf(c=_.Xf())&&(b._tabListInner=c.first);_.Wf(c=_.Xf())&&(b._nextPaginator=c.first);_.Wf(c=_.Xf())&&(b._previousPaginator=
c.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:5,hostBindings:function(a,b){a&2&&(_.zf("mat-id-collision",null),_.Bf("mat-tab-header-pagination-controls-enabled",b._showPaginationControls)("mat-tab-header-rtl","rtl"==b._getLayoutDirection()))},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[_.xf],ngContentSelectors:["*"],decls:14,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",
""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],[1,"mat-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination",
"mat-tab-header-pagination-after","mat-elevation-z4",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(a,b){if(a&1){const c=_.n();_.Of();_.H(0,"button",5,0);_.N("click",function(){_.p(c);return _.r(b._handlePaginatorClick("before"))})("mousedown",function(d){_.p(c);return _.r(b._handlePaginatorPress("before",d))})("touchend",function(){_.p(c);return _.r(b._stopInterval())});_.J(2,"div",6);_.I();_.H(3,"div",7,1);_.N("keydown",function(d){_.p(c);return _.r(b._handleKeydown(d))});
_.H(5,"div",8,2);_.N("cdkObserveContent",function(){_.p(c);return _.r(b._onContentChanges())});_.H(7,"div",9,3);_.Pf(9);_.I();_.J(10,"mat-ink-bar");_.I()();_.H(11,"button",10,4);_.N("mousedown",function(d){_.p(c);return _.r(b._handlePaginatorPress("after",d))})("click",function(){_.p(c);return _.r(b._handlePaginatorClick("after"))})("touchend",function(){_.p(c);return _.r(b._stopInterval())});_.J(13,"div",6);_.I()}a&2&&(_.Bf("mat-tab-header-pagination-disabled",b._disableScrollBefore),_.G("matRippleDisabled",
b._disableScrollBefore||b.disableRipple)("disabled",b._disableScrollBefore||null),_.z(5),_.Bf("_mat-animation-noopable","NoopAnimations"===b._animationMode),_.z(6),_.Bf("mat-tab-header-pagination-disabled",b._disableScrollAfter),_.G("matRippleDisabled",b._disableScrollAfter||b.disableRipple)("disabled",b._disableScrollAfter||null))},dependencies:[_.Pn,_.qn,gHi],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],
encapsulation:2});var rHi=["tabBodyWrapper"],sHi=["tabHeader"],tHi=class extends fHi{};tHi.\u0275fac=function(a){return new (a||tHi)(_.A(_.Ld),_.A(_.Wk),_.A(_.p$a,8),_.A(_.Ek,8))};
tHi.\u0275cmp=_.fd({type:tHi,selectors:[["mat-tab-group"]],contentQueries:function(a,b,c){a&1&&_.Vf(c,_.Ox,5);if(a&2){let d;_.Wf(d=_.Xf())&&(b._allTabs=d)}},viewQuery:function(a,b){a&1&&(_.Uf(rHi,5),_.Uf(sHi,5));if(a&2){let c;_.Wf(c=_.Xf())&&(b._tabBodyWrapper=c.first);_.Wf(c=_.Xf())&&(b._tabHeader=c.first)}},hostAttrs:["ngSkipHydration","",1,"mat-tab-group"],hostVars:5,hostBindings:function(a,b){a&2&&(_.zf("mat-id-collision",null),_.Bf("mat-tab-group-dynamic-height",b.dynamicHeight)("mat-tab-group-inverted-header",
"below"===b.headerPosition))},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[_.$f([{provide:_.B$a,useExisting:tHi}]),_.xf],decls:6,vars:7,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabTextLabel",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass",
"disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","matRippleDisabled"],[1,"mat-tab-label-content"],
[3,"ngIf","ngIfElse"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(a,b){if(a&1){const c=_.n();_.H(0,"mat-tab-header",3,0);_.N("indexFocused",function(d){_.p(c);return _.r(b._focusChanged(d))})("selectFocusedIndex",function(d){_.p(c);return _.r(b.selectedIndex=d)});_.D(2,sAi,5,15,"div",4);_.I();_.H(3,"div",5,1);_.D(5,tAi,1,11,"mat-tab-body",6);_.I()}a&2&&(_.G("selectedIndex",
b.selectedIndex||0)("disableRipple",b.disableRipple)("disablePagination",b.disablePagination),_.z(2),_.G("ngForOf",b._tabs),_.z(),_.Bf("_mat-animation-noopable","NoopAnimations"===b._animationMode),_.z(2),_.G("ngForOf",b._tabs))},dependencies:[_.cl,_.dl,_.el,_.$m,_.Pn,_.jn,_.Nx,kHi,qHi],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],
encapsulation:2});
var uHi=function(a){return[...a.matTabGroup._elementRef.nativeElement.querySelectorAll(".mat-tab-label, .mdc-tab")][a.matTab.position||0]},vHi=class extends _.Cx{constructor(a,b,c,d,e,f,g,l,m,t){super(a,b,c,d,e,null,f);this.legacyMatTab=g;this.cmMatTab=l;this.legacyMatTabGroup=m;this.cmMatTabGroup=t;let u;this.matTab=null!=(u=this.legacyMatTab)?u:this.cmMatTab;let v;this.matTabGroup=null!=(v=this.legacyMatTabGroup)?v:this.cmMatTabGroup}setElementDisabled(a){super.setElementDisabled(a);this.matTab.disabled!==
a&&_.KBb.then(()=>{this.matTab.disabled=a;this.cdr.markForCheck()})}getTooltipHostElementRef(){return new _.Ld(uHi(this))}getFocusableElementRef(){return new _.Ld(uHi(this))}};vHi.\u0275fac=function(a){return new (a||vHi)(_.A(_.Du),_.A(_.Ts),_.A(_.Lu),_.A(_.Ld),_.A(_.kw),_.A(_.Wk),_.A(_.Ox,9),_.A(_.vq,9),_.A(tHi,9),_.A(_.wq,9))};
vHi.\u0275dir=_.id({type:vHi,selectors:[["mat-tab","cfcDisable",""],["MatTab","cfcDisable",""]],features:[_.$f([{provide:_.Dx,useExisting:vHi},{provide:_.Cx,useExisting:vHi}]),_.xf]});var wHi={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},xHi=class extends _.BD{constructor(a,b,c){super(a,b,c);this.renderer=c;this._applyStyleToElement(wHi)}};xHi.\u0275fac=function(a){return new (a||xHi)(_.A(_.AD),_.A(_.Ld),_.A(_.Gk))};
xHi.\u0275dir=_.id({type:xHi,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[_.xf]});
var yHi=()=>["required","pattern"],zHi=class{constructor(a){this.resourceId=a.iamCompatible.getResourceId()||"";this.pattern=new RegExp(`^${_.X_b(this.resourceId.toLowerCase())}$`,"i");this.projectForm=new _.et("",[_.Xw,_.Bs(this.pattern)]);this.membersToBeDeletedCount=a.membersToBeDeleted.length;this.memberToBeDeleted=(this.deleteSingleMember=1===a.membersToBeDeleted.length)?a.membersToBeDeleted[0]:String(this.membersToBeDeletedCount)+" principles"}};zHi.\u0275fac=function(a){return new (a||zHi)(_.A(_.Gn))};
zHi.\u0275cmp=_.fd({type:zHi,selectors:[["ng-component"]],decls:21,vars:11,consts:()=>{let a;a=_.$r("\ufffd#14\ufffd If you remove these roles there's a high risk that you might cause interruptions because they were used in the past 90 days. [\ufffd#15\ufffd\ufffd/#15\ufffd|\ufffd#16\ufffd\ufffd/#16\ufffd][\ufffd#15\ufffd\ufffd/#15\ufffd|\ufffd#16\ufffd\ufffd/#16\ufffd] We recommend you verify the details and replace the roles with less privileged roles, if necessary. You can find which roles are being used by opening the edit principle panel, and removing the roles one by one. \ufffd/#14\ufffd");
let b;b=_.$r("\ufffd#13\ufffd If you remove these roles there's a high risk that you might cause interruptions because some or all of them were used in the last 90 days. [\ufffd#14\ufffd\ufffd/#14\ufffd|\ufffd#15\ufffd\ufffd/#15\ufffd][\ufffd#14\ufffd\ufffd/#14\ufffd|\ufffd#15\ufffd\ufffd/#15\ufffd] We recommend you verify the details and replace the roles with less privileged roles, if necessary. You can find which roles are being used by opening the edit principle panel and removing the roles one by one. \ufffd/#13\ufffd");
return[["bulkDelete",""]," Cancel ",a,b," Enter \ufffd#3\ufffd\ufffd0\ufffd\ufffd/#3\ufffd to confirm. ",["matDialogTitle","",1,"title-catastrophic"],[1,"title-text"],["matDialogContent",""],[4,"ngIf","ngIfElse"],["for","projectForm"],["matInput","","id","projectForm","placeholder","Project ID","type","text",1,"cfctest-principle-delete-dialog-input",3,"formControl","required"],["matError","",4,"cfcDebounceErrorFor"],["matDialogActions",""],["mat-button","","color","primary",3,"matDialogClose"],["mat-button",
"","color","primary","aria-label","label for remove",3,"cmNativeDisabled","matDialogClose"],["type","error",1,"cfc-space-above-base"],["matError",""]]},template:function(a,b){a&1&&(_.H(0,"div",5)(1,"h1",6),_.S(2),_.I()(),_.H(3,"div",7),_.D(4,uAi,17,2,"div",8)(5,vAi,16,2,"ng-template",null,0,_.fg),_.S(7," To remove access, type the project ID: "),_.H(8,"b"),_.S(9),_.I(),_.H(10,"form")(11,"mat-form-field")(12,"mat-label",9),_.S(13,"Project ID "),_.I(),_.J(14,"input",10),_.D(15,wAi,4,1,"cm-error",11),
_.I()()(),_.H(16,"div",12)(17,"button",13),_.M(18,1),_.I(),_.H(19,"button",14),_.S(20," Remove "),_.I()());a&2&&(a=_.Yf(6),_.z(2),_.V(" Remove access for ",b.memberToBeDeleted,"? "),_.z(2),_.G("ngIf",b.deleteSingleMember)("ngIfElse",a),_.z(5),_.Zf(b.resourceId),_.z(5),_.G("formControl",b.projectForm)("required",!0),_.z(),_.G("cfcDebounceErrorFor",_.cg(10,yHi)),_.z(2),_.G("matDialogClose",!1),_.z(2),_.G("cmNativeDisabled",!b.projectForm.valid)("matDialogClose",!0))},dependencies:[_.Ls,_.In,_.Jn,_.Ms,
_.yt,_.gp,_.xt,_.el,_.to,_.wo,_.$w,_.Gs,_.Yw,_.Zw,_.qt,_.ht,_.vx,_.wx,_.tx,_.Sw,_.Qw,_.Ow,_.ox,_.nx,_.OC],styles:[".title-catastrophic[_ngcontent-%COMP%]{margin-left:-24px;margin-right:-24px;max-width:none;background-color:var(--cm-sys-color-status-error,#d50000)}.title-catastrophic[_ngcontent-%COMP%]:first-child:not(.cfc-full-bleed-keep-top-padding){margin-top:-24px}.title-catastrophic[_ngcontent-%COMP%]:last-child:not(.cfc-full-bleed-keep-bottom-padding){margin-bottom:-24px}.title-catastrophic[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{color:var(--cm-sys-color-on-primary,#fff);padding:24px;margin-bottom:0}\n/*# sourceMappingURL=remove_member_action_dialog.css.map */"]});
var AHi={OVERVIEW:"overview",VERSIONS:"versions",USAGE_TRACKING:"usage",PERMISSIONS:"permissions"},BHi=class extends _.Dfd{constructor(){super();this.regionId=new _.Dm("path","regionId");this.keyRingId=new _.Dm("path","keyRingId");this.keyId=new _.Dm("path","keyId");this.source=new _.lUa(["keys"],"matrix","source");this.tab=new _.lUa(Object.values(AHi),"matrix","tab");_.Bm(this,["key","manage",this.regionId,this.keyRingId,this.keyId])}},CHi=function(a,b){return{info:{moduleId:"pm_rest_gcloud_dialog",
className:"RestGcloudDialogController"},config:{data:{dialogData:a,sendAnalyticsEvent:b}}}},DHi=class extends _.Ikh{constructor(){super();this.region=new _.Dm("path","region");this.name=new _.Dm("path","name");this.env=_.Gkh();_.Bm(this,["edit",this.region,this.name])}},EHi={icon:"EVENTARC_SECTION",iconSet:"shelllogos",iconSize:"medium"},FHi=class extends _.kUa{staticSerialize(a){const b=[zAi(a.format),a.projectId];a.locationName&&(b.push(a.locationName),a.repositoryName&&(b.push(a.repositoryName),
a.packageName&&(b.push(_.eph(a.packageName)),a.versionName?b.push(_.eph(a.versionName)):a.tagName&&(b[0]="tags",b.push(_.eph(a.tagName))))));return b.join("/")}staticDeserialize(){throw Error("Op");}setupRouteObservers(a,b){a&&(this.createDeserializingObservable=()=>a.params.pipe(_.x(AAi)));this.deserializeFromSnapshot=()=>{const c=a&&a.snapshot?a.snapshot:b?b:null;return c?AAi(c.params):void 0}}},GHi=class extends _.JXh{constructor(){super();this.resource=new FHi("");this.tab=new _.Dm("matrix","tab");
_.Bm(this,[this.resource])}},HHi=class extends _.OXh{constructor(){super();this.secretId=new _.Dm("path","secretId");_.Bm(this,["secret",this.secretId])}},IHi=class extends HHi{constructor(){super();_.Bm(this,["versions"])}},JHi={VISIBILITY_UNSPECIFIED:0,PRIVATE:1,PUBLIC:2},KHi={PRIMARY:1,UNSPECIFIED:0,1:"PRIMARY",0:"UNSPECIFIED"},LHi=a=>({"cfc-space-below-base":!0,"cfc-max-width-base":a}),MHi=a=>({$implicit:a}),JAi=(a,b)=>({$implicit:a,isDeleting:b}),EAi=function(a,b){a.onDeleteClicked.emit(b);const c=
{header:a.messages.deleteResourceDialogHeader,message:a.messages.deleteResourceDialogMessage,body:(new _.rp(a.messages.deleteResourceDialogBody)).format({fullName:b.name}),theme:"warning",matDialogConfig:{panelClass:"cfc-width-base"}};a.confirmDialogService.confirm(c).pipe(_.Te(1),_.C(a.destroy),_.ee(d=>d.afterClosed()),_.pe(d=>null==d?void 0:d.confirmed)).subscribe(()=>{a.deleteResource(b)})},NHi=class{set cardTitle(a){a&&Object.assign(this.cardTitleInternal,a)}get cardTitle(){let a,b;return null!=
(b=null==(a=this.resource.viewControl)?void 0:a.cardTitle)?b:this.cardTitleInternal}get shouldDisplayDeleteButton(){let a,b;return this.supportedActionButtons.has(1)&&(!(null==(a=this.resource.viewControl)?0:null==(b=a.supportedActionButtons)?0:b.size)||this.resource.viewControl.supportedActionButtons.has(1))}get shouldDisplayEditButton(){let a,b;return this.supportedActionButtons.has(0)&&(!(null==(a=this.resource.viewControl)?0:null==(b=a.supportedActionButtons)?0:b.size)||this.resource.viewControl.supportedActionButtons.has(0))}constructor(a){this.confirmDialogService=
a;this.supportedActionButtons=new Set([1,0]);this.doNotRestrictCardWidth=!1;this.headingAriaLevel=3;this.overrideMessages={};this.editButtonVe=140285;this.deleteButtonVe=140284;this.onEditClicked=new _.Nk;this.onDeleteClicked=new _.Nk;this.iamCheckAndOperator=1;this.widthOverflow=BAi;this.cardTitleInternal={icon:"activity",iconSet:"shell",iconSize:"small"};this.destroy=new _.hf}ngOnChanges(){this.messages=Object.assign({},{editResourceTooltip:"Edit resource",deleteResourceDialogHeader:"Delete resource",
deleteResourceDialogBody:'Are you sure you want to delete resource "{fullName}"?',deleteResourceDialogMessage:"This action will delete the underlying resource immediately and cannot be undone.",deleteResourceTooltip:"Delete resource"},this.overrideMessages)}ngOnDestroy(){this.destroy.next();this.destroy.complete()}editHandler(a){this.onEditClicked.emit(a)}};NHi.\u0275fac=function(a){return new (a||NHi)(_.A(_.ZB))};
NHi.\u0275cmp=_.fd({type:NHi,selectors:[["s8s-companion-card"]],inputs:{resource:"resource",supportedActionButtons:"supportedActionButtons",doNotRestrictCardWidth:"doNotRestrictCardWidth",deleteResource:"deleteResource",isDeleteInProgress:"isDeleteInProgress",isEditInProgress:"isEditInProgress",headingAriaLevel:"headingAriaLevel",overrideMessages:"overrideMessages",permissions:"permissions",cardTitle:"cardTitle",cardContentTemplate:"cardContentTemplate",cardActionsTemplate:"cardActionsTemplate",editButtonVe:"editButtonVe",
deleteButtonVe:"deleteButtonVe"},outputs:{onEditClicked:"onEditClicked",onDeleteClicked:"onDeleteClicked"},features:[_.rd],decls:16,vars:17,consts:()=>[["titleContainer",""],["defaultCardContentTemplate",""],[3,"ngClass"],["role","heading"],[1,"cfc-flex-container","cfc-flex-center-aligned"],[1,"companion-card-space-right"],[3,"icon","iconset","size"],[1,"cfc-truncated-text"],[1,"cfc-text-title-1","s8s-companion-card-title-text",3,"cfcTooltip","cfcTooltipDisabled"],["class","cfc-space-below-minus-5 cfc-button-small companion-card-space-left",
4,"ngIf"],["class","cfc-flex-container cfc-flex-grow-content cfc-flex-justify-end",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"cfc-space-below-minus-5","cfc-button-small","companion-card-space-left"],["ariaLabel","Tooltip for title",1,"cfc-button-small"],[1,"cfc-flex-container","cfc-flex-grow-content","cfc-flex-justify-end"],[3,"inProgress",4,"ngIf"],[3,"inProgress"],["mat-icon-button","","type","button","cfcDisableTooltip","This resource is being deleted",1,"s8s-companion-card-edit-button",
3,"click","cfcTooltip","cfcDisable","cfcIamCheck","cfcIamDisableDuringPermissionFetch","cfcIamOperator","ve","veClick"],["icon","edit"],["mat-icon-button","","type","button","cfcDisable","",1,"s8s-companion-card-delete-button",3,"click","cfcTooltip","cfcIamCheck","cfcIamDisableDuringPermissionFetch","cfcIamOperator","ve","veClick"],["icon","delete"],[1,"cfc-text-title-base"]],template:function(a,b){a&1&&(_.H(0,"mat-card",2)(1,"mat-card-title",3)(2,"div",4)(3,"div",5),_.J(4,"cfc-icon",6),_.I(),_.H(5,
"div",7,0)(7,"span",8),_.S(8),_.I()(),_.D(9,CAi,3,1,"div",9)(10,GAi,3,2,"div",10),_.I()(),_.H(11,"mat-card-content"),_.D(12,HAi,1,0,"ng-container",11),_.I(),_.D(13,KAi,2,5,"mat-card-actions",12),_.I(),_.D(14,LAi,2,1,"ng-template",null,1,_.fg));if(a&2){let c,d,e;a=_.Yf(6);const f=_.Yf(15);_.G("ngClass",_.dg(13,LHi,!b.doNotRestrictCardWidth));_.z();_.zf("aria-level",b.headingAriaLevel);_.z(3);_.G("icon",null!==(c=b.cardTitle.icon)&&void 0!==c?c:"")("iconset",null!==(d=b.cardTitle.iconSet)&&void 0!==
d?d:"")("size",null!==(e=b.cardTitle.iconSize)&&void 0!==e?e:"small");_.z(3);_.G("cfcTooltip",b.cardTitle.title||b.resource.displayName)("cfcTooltipDisabled",!b.widthOverflow(a));_.z();_.V(" ",b.cardTitle.title||b.resource.displayName," ");_.z();_.G("ngIf",b.cardTitle.helpText);_.z();_.G("ngIf",b.shouldDisplayDeleteButton||b.shouldDisplayEditButton);_.z(2);_.G("ngTemplateOutlet",b.cardContentTemplate||f)("ngTemplateOutletContext",_.dg(15,MHi,b.resource));_.z();_.G("ngIf",b.cardActionsTemplate)}},
dependencies:[_.Wr,_.Tr,_.cl,_.el,_.il,_.Jx,_.Sx,_.sB,_.so,_.yt,_.Ss,_.xt,_.OI,_.PI,_.Qnh,_.QI,_.EP,_.NI,_.Nv,_.Mu],styles:[".cm-card[_ngcontent-%COMP%]   .companion-card-space-right[class][_ngcontent-%COMP%]{margin-right:8px}.cm-card[_ngcontent-%COMP%]   .companion-card-space-left[class][_ngcontent-%COMP%]{margin-left:4px}"]});
var OHi=["eventarcTriggerSubtask"],PHi={eventFilters:[]},QHi={eventFilters:[{attribute:"type",value:"google.cloud.pubsub.topic.v1.messagePublished"}]},RHi={PUB_SUB:1,STORAGE:2,FIRESTORE:3,EVENTARC:4,1:"PUB_SUB",2:"STORAGE",3:"FIRESTORE",4:"EVENTARC"},SHi={eventFilters:[{attribute:"type",value:"google.cloud.storage.object.v1.finalized"}]},THi={eventFilters:[{attribute:"type",value:"google.cloud.firestore.document.v1.created"}]},UHi=function(a){a.subtaskStaticDestination={destinationPlatform:"cloudFunction",
destination:{name:a.name&&a.region?_.DWh(a.model,a.name,a.region):a.model.fullName,displayName:a.name||a.model.name}}},VHi=function(a,b){a.triggerEventarcCompatible=b;a.triggerExists.emit(!0);a.eventarcTriggerSubtask.handleCancel();setTimeout(()=>{a.showSubtask=!1})},WHi=function(a,b){a.showSubtask=!0;switch(b){case 1:a.prototypeTrigger=QHi;break;case 2:a.prototypeTrigger=SHi;break;case 3:a.prototypeTrigger=THi;break;case 4:a.prototypeTrigger=a.prototypeOtherEventarcTrigger}setTimeout(()=>{a.eventarcTriggerSubtask&&
a.eventarcTriggerSubtask.run().pipe(_.C(a.destroyed)).subscribe(c=>{c&&VHi(a,c)})})},XHi=class{set setPrototypeTrigger(a){this.prototypeOtherEventarcTrigger=a||PHi}constructor(a,b){this.changeDetectorRef=a;this.icons=b;this.prototypeTrigger=QHi;this.prototypeOtherEventarcTrigger=PHi;this.triggerExists=new _.Nk;this.showSubtask=!1;this.pubSubTopicPickerInput={allowNoneTopic:!1};this.triggerDetailsHiddenFields=new Set([5]);this.triggerTitle=Object.assign({},EHi,{title:"Eventarc trigger",helpText:"Eventarc lets you asynchronously deliver events between decoupled microservices while managing delivery, security, authorization, observability, and error-handling for you."});
this.triggerType=RHi;this.ve={FunctionsAddEventarcFirestoreTriggerButton:186974,FunctionsAddEventarcOtherTriggerButton:186975,FunctionsAddEventarcPubSubTriggerButton:186976,FunctionsAddEventarcStorageTriggerButton:186977,FunctionsAddEventarcTriggerButton:166881};this.destroyed=new _.ff;this.isDeleteInProgress=()=>!1;this.deleteTrigger=()=>{this.triggerEventarcCompatible=void 0;this.triggerExists.emit(!1);this.changeDetectorRef.detectChanges()}}ngOnInit(){this.buildTriggerEventarcCompatible();this.setEventarcSubtaskMode();
UHi(this);switch(this.mode){case 1:this.companionCardSupportedActions=new Set([0,1]);break;case 2:this.companionCardSupportedActions=new Set([0]);break;default:this.companionCardSupportedActions=new Set}this.setDisabledFields();this.eventarcTriggerSubtaskHiddenFields=1===this.mode?new Set(["NAME","DESTINATION_PLATFORM","DESTINATION","EVENT_DATA_CONTENT_TYPE"]):new Set(["DESTINATION_PLATFORM","DESTINATION","EVENT_DATA_CONTENT_TYPE"]);this.companionCardMessages={editResourceTooltip:"Edit trigger",deleteResourceDialogHeader:"Delete trigger",
deleteResourceDialogBody:"Are you sure you want to delete this trigger?",deleteResourceDialogMessage:void 0,deleteResourceTooltip:"Delete trigger"}}ngOnChanges(a){const b=a.region;void 0===a.name&&void 0===b||UHi(this);void 0!==b&&(this.prototypeTrigger.region=this.region,this.model.region=b.currentValue,this.buildTriggerEventarcCompatible())}ngOnDestroy(){this.destroyed.next()}getTrigger(){return this.triggerEventarcCompatible?_.U3h(this.triggerEventarcCompatible):{}}editHandler(){WHi(this)}setEventarcSubtaskMode(){1===
this.mode?this.eventarcTriggerSubtaskMode=0:2===this.mode&&(this.eventarcTriggerSubtaskMode=1)}setDisabledFields(){1===this.mode?this.eventarcTriggerSubtaskDisabledFields=new Set:(this.eventarcTriggerSubtaskDisabledFields=new Set(_.dSh),this.eventarcTriggerSubtaskDisabledFields.delete("PUB_SUB_TOPIC"))}buildTriggerEventarcCompatible(){this.triggerInModelExists?(this.triggerEventarcCompatible=_.T3h(this.model.triggerV2,this.model),this.triggerExists.emit(!0)):this.triggerExists.emit(!1)}get existingTriggerOrPrototype(){return this.triggerEventarcCompatible?
this.triggerEventarcCompatible:this.prototypeTrigger}get addTriggerAvailable(){return!this.mainTriggerExists&&1===this.mode}get triggerInModelExists(){let a;return!(null==(a=this.model.triggerV2)||!a.eventType)}get mainTriggerExists(){return!!this.triggerEventarcCompatible}get companionCardCompatible(){return this.triggerEventarcCompatible}};XHi.\u0275fac=function(a){return new (a||XHi)(_.A(_.Wk),_.A(_.E8))};
XHi.\u0275cmp=_.fd({type:XHi,selectors:[["gcf-trigger-v2-main"]],viewQuery:function(a,b){a&1&&_.Uf(OHi,5);if(a&2){let c;_.Wf(c=_.Xf())&&(b.eventarcTriggerSubtask=c.first)}},inputs:{mode:"mode",model:"model",name:"name",region:"region",setPrototypeTrigger:[0,"prototypeTrigger","setPrototypeTrigger"]},outputs:{triggerExists:"triggerExists"},features:[_.rd],decls:12,vars:19,consts:()=>[["triggerMenu",""],["triggerContentTemplate",""],["eventarcTriggerSubtask",""]," Add trigger ",[3,"cardContentTemplate",
"cardTitle","deleteResource","isDeleteInProgress","overrideMessages","resource","supportedActionButtons","onEditClicked",4,"ngIf"],[3,"ve","veClick",4,"ngIf"],["ariaLabelledby","gcf-add-trigger-button"],["label","Pub/Sub trigger",3,"click","icon","useIconSizeMedium","ve","veClick"],["label","Cloud Storage trigger",3,"click","icon","useIconSizeMedium","ve","veClick"],["label","Firestore trigger",3,"click","icon","useIconSizeMedium","ve","veClick"],["label","Other trigger",3,"click","icon","useIconSizeMedium",
"ve","veClick"],[4,"ngIf"],[3,"onEditClicked","cardContentTemplate","cardTitle","deleteResource","isDeleteInProgress","overrideMessages","resource","supportedActionButtons"],[3,"ve","veClick"],["id","gcf-add-trigger-button","mat-raised-button","","color","basic","role","button","type","button","aria-label","Add trigger","cfcMenuButton","",1,"cfc-align-left",3,"cfcMenuTriggerFor"],[3,"icon"],[3,"disabledFields","hiddenFields","mode","pubSubTopicPickerInput","staticDestination","trigger","showEquivalentGcloudCommand"],
[3,"trigger","hiddenFields"]],template:function(a,b){if(a&1){const c=_.n();_.D(0,MAi,1,7,"s8s-companion-card",4)(1,NAi,5,4,"div",5);_.H(2,"cfc-menu",6,0)(4,"cfc-menu-section")(5,"cfc-menu-item",7);_.N("click",function(){_.p(c);return _.r(WHi(b,b.triggerType.PUB_SUB))});_.I();_.H(6,"cfc-menu-item",8);_.N("click",function(){_.p(c);return _.r(WHi(b,b.triggerType.STORAGE))});_.I();_.H(7,"cfc-menu-item",9);_.N("click",function(){_.p(c);return _.r(WHi(b,b.triggerType.FIRESTORE))});_.I();_.H(8,"cfc-menu-item",
10);_.N("click",function(){_.p(c);return _.r(WHi(b,b.triggerType.EVENTARC))});_.I()()();_.D(9,OAi,3,7,"ng-container",11)(10,PAi,1,2,"ng-template",null,1,_.fg)}a&2&&(_.G("ngIf",b.triggerEventarcCompatible),_.z(),_.G("ngIf",b.addTriggerAvailable),_.z(4),_.G("icon",b.icons.pubsubMediumIcon)("useIconSizeMedium",!0)("ve",b.ve.FunctionsAddEventarcPubSubTriggerButton)("veClick",!0),_.z(),_.G("icon",b.icons.storageMediumIcon)("useIconSizeMedium",!0)("ve",b.ve.FunctionsAddEventarcStorageTriggerButton)("veClick",
!0),_.z(),_.G("icon",b.icons.firestoreMediumIcon)("useIconSizeMedium",!0)("ve",b.ve.FunctionsAddEventarcFirestoreTriggerButton)("veClick",!0),_.z(),_.G("icon",b.icons.eventarcMediumIcon)("useIconSizeMedium",!0)("ve",b.ve.FunctionsAddEventarcOtherTriggerButton)("veClick",!0),_.z(),_.G("ngIf",b.showSubtask))},dependencies:[_.Wr,_.Tr,_.yt,_.gp,_.xt,_.el,_.z2h,_.l3h,_.fo,_.dw,_.$v,_.cw,_.gw,NHi],encapsulation:2});var YHi=[_.Xr,_.At,_.kl,_.B2h,_.n3h,_.Ux,_.go,_.iw,_.W3h],ZHi=class{};
ZHi.\u0275fac=function(a){return new (a||ZHi)};ZHi.\u0275mod=_.gd({type:ZHi});ZHi.\u0275inj=_.Rc({imports:[YHi]});
var $Hi=class{constructor(a,b){this.message=a;this.stateSyncTaberna=b;this.cfcMessageTabernaStateSyncInitiallyHidden=!1;this.restoreSnapshotComplete=new _.Nk;this.destroy=new _.hf}ngOnInit(){this.cfcMessageTabernaStateSyncInitiallyHidden&&(this.message.isDismissed=!0);this.stateSyncTaberna.capture({config:{key:this.cfcMessageTabernaStateSync},triggers:[this.message.dismissed],takeSnapshotCB:()=>({dismissed:this.message.isDismissed}),restoreSnapshotCB:a=>{this.message.isDismissed=!!a.dismissed;this.restoreSnapshotComplete.emit()},
restoreIfNoState:!0}).pipe(_.C(this.destroy)).subscribe()}ngOnDestroy(){this.destroy.next()}};$Hi.\u0275fac=function(a){return new (a||$Hi)(_.A(_.to,1),_.A(_.Avi))};$Hi.\u0275dir=_.id({type:$Hi,selectors:[["","cfcMessageTabernaStateSync",""]],inputs:{cfcMessageTabernaStateSync:"cfcMessageTabernaStateSync",cfcMessageTabernaStateSyncInitiallyHidden:"cfcMessageTabernaStateSyncInitiallyHidden"},outputs:{restoreSnapshotComplete:"restoreSnapshotComplete"}});
var aIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,_.A$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,_.A$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},_.A$,{})})}};
aIi.\u0275fac=function(a){return new (a||aIi)(_.k(_.Szi,8),_.k(_.Tzi),_.k(_.gq,8))};aIi.\u0275prov=_.h({token:aIi,factory:aIi.\u0275fac});
var bIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,_.A$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,_.A$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},
_.A$,{})})}};bIi.\u0275fac=function(a){return new (a||bIi)(_.k(_.Szi,8),_.k(_.Tzi),_.k(_.gq,8))};bIi.\u0275prov=_.h({token:bIi,factory:bIi.\u0275fac});
var cIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1beta1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,_.A$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,_.A$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},_.A$,{})})}};
cIi.\u0275fac=function(a){return new (a||cIi)(_.k(_.Szi,8),_.k(_.Tzi),_.k(_.gq,8))};cIi.\u0275prov=_.h({token:cIi,factory:cIi.\u0275fac});var dIi=new _.nd("API_VERSION"),eIi=new _.nd("REQUEST_SERVICE"),F$={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",callback:"callback",cloudEntityRestrictions:"cloudEntityRestrictions",fields:"fields",filter:"filter",groupingEntityGrouping:"grouping.entityGrouping",groupingPrimaryServiceGrouping:"grouping.primaryServiceGrouping",groupingProjectGrouping:"grouping.projectGrouping",groupingRecommenderGrouping:"grouping.recommenderGrouping",groupingStateGrouping:"grouping.stateGrouping",includeInternalSubtypes:"includeInternalSubtypes",
includeUnrevealedLocations:"includeUnrevealedLocations",key:"key",oauth_token:"oauth_token",orderBy:"orderBy",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",queryMode:"queryMode",quotaUser:"quotaUser",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",validateOnly:"validateOnly"},fIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1alpha2":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,F$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,F$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));
return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},F$,{})})}};fIi.\u0275fac=function(a){return new (a||fIi)(_.k(dIi,8),_.k(eIi),_.k(_.gq,8))};fIi.\u0275prov=_.h({token:fIi,factory:fIi.\u0275fac});
var gIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1alpha2":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,F$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,F$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},
F$,{})})}};gIi.\u0275fac=function(a){return new (a||gIi)(_.k(dIi,8),_.k(eIi),_.k(_.gq,8))};gIi.\u0275prov=_.h({token:gIi,factory:gIi.\u0275fac});
var hIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1alpha2":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,F$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,F$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},F$,{})})}reset(a,b,c={},d={}){_.Hq(a,
RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.reset",path:`/${this.gapiVersion}/${a}/insights:reset`,queryParams:_.li(c,F$,d)})}};hIi.\u0275fac=function(a){return new (a||hIi)(_.k(dIi,8),_.k(eIi),_.k(_.gq,8))};hIi.\u0275prov=_.h({token:hIi,factory:hIi.\u0275fac});var iIi=new _.nd("API_VERSION"),jIi=new _.nd("REQUEST_SERVICE"),G$={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",callback:"callback",fields:"fields",filter:"filter",includeInternalSubtypes:"includeInternalSubtypes",includeUnrevealedLocations:"includeUnrevealedLocations",key:"key",oauth_token:"oauth_token",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",quotaUser:"quotaUser",updateMask:"updateMask",uploadType:"uploadType",upload_protocol:"upload_protocol",validateOnly:"validateOnly"},
kIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,G$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.folders.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,G$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^folders/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.folders.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},G$,{})})}};
kIi.\u0275fac=function(a){return new (a||kIi)(_.k(iIi,8),_.k(jIi),_.k(_.gq,8))};kIi.\u0275prov=_.h({token:kIi,factory:kIi.\u0275fac});
var lIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,G$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));
return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.organizations.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,G$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^organizations/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.organizations.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},
G$,{})})}};lIi.\u0275fac=function(a){return new (a||lIi)(_.k(iIi,8),_.k(jIi),_.k(_.gq,8))};lIi.\u0275prov=_.h({token:lIi,factory:lIi.\u0275fac});
var mIi=class{constructor(a,b,c){this.gapiVersion=a;this.gapiVersion=null==a?"v1":a;this.$apiClient=new _.Jq(b,c)}get(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.get",path:`/${this.gapiVersion}/${a}`,queryParams:_.li(b,G$,c)})}list(a,b={},c={}){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+$"));return _.Iq(this.$apiClient,
{body:null,httpMethod:"GET",methodId:"recommender.projects.locations.insightTypes.insights.list",path:`/${this.gapiVersion}/${a}/insights`,queryParams:_.li(b,G$,c)})}markDismissed(a,b){_.Hq(a,RegExp("^projects/[^/]+/locations/[^/]+/insightTypes/[^/]+/insights/[^/]+$"));return _.Iq(this.$apiClient,{body:b,httpMethod:"POST",methodId:"recommender.projects.locations.insightTypes.insights.markDismissed",path:`/${this.gapiVersion}/${a}:markDismissed`,queryParams:_.li({},G$,{})})}};
mIi.\u0275fac=function(a){return new (a||mIi)(_.k(iIi,8),_.k(jIi),_.k(_.gq,8))};mIi.\u0275prov=_.h({token:mIi,factory:mIi.\u0275fac});var nIi=function(a,b){if(b.startsWith("projects"))return a.betaProjectsInsightsClient;if(b.startsWith("folders"))return a.betaFoldersInsightsClient;if(b.startsWith("organizations"))return a.betaOrganizationsInsightsClient;throw Error("tq`"+b);},oIi=class{constructor(a){var b=a.create({host:_.Cc("pantheon_cloudRecommenderApiUrl"),version:"v1alpha2"});b.init(hIi);b.init(fIi);b.init(gIi);b=a.create({host:_.Cc("pantheon_cloudRecommenderApiUrl"),version:"v1beta1"});this.betaProjectsInsightsClient=b.init(cIi);
this.betaFoldersInsightsClient=b.init(aIi);this.betaOrganizationsInsightsClient=b.init(bIi);a=a.create({host:_.Cc("pantheon_cloudRecommenderApiUrl"),version:"v1"});a.init(mIi);a.init(kIi);a.init(lIi)}};oIi.\u0275fac=function(a){return new (a||oIi)(_.k(_.hq))};oIi.\u0275prov=_.h({token:oIi,factory:oIi.\u0275fac,providedIn:"root"});var pIi=function(a,b){return 0===b.getResourceType()?a.projectService.getProject(b.getResourceId(),!0).pipe(_.Te(1),_.x(c=>`//cloudresourcemanager.googleapis.com/projects/${c.projectNumber}`)):_.w(b.getFullResourcePath())},H$=class{constructor(a){this.projectService=a}getParentResource(a){const b=a.split("/")[1];if(a.startsWith("projects/"))return this.projectService.getProject(b,!0).pipe(_.Te(1),_.x(c=>({resource:c,parentResourceApiName:hBi(c)})));if(a.startsWith("folders/"))return a=new _.rr(b,
43),_.w({resource:a,parentResourceApiName:hBi(a)});if(a.startsWith("organizations/"))return a=new _.rr(b,2),_.w({resource:a,parentResourceApiName:hBi(a)})}};H$.\u0275fac=function(a){return new (a||H$)(_.k(_.pq))};H$.\u0275prov=_.h({token:H$,factory:H$.\u0275fac,providedIn:"root"});var sIi=function(a,b){var c={forceCacheRefresh:!0};return(null==c?0:c.listParentEntitiesFirst)?a.parentResourceService.getParentResource(b).pipe(_.of(d=>qIi(a,d.resource).pipe(_.Te(1))),_.of(()=>rIi(a,b,null==c?void 0:c.forceCacheRefresh))):rIi(a,b,null==c?void 0:c.forceCacheRefresh)},uIi=function(a,b){const c=`${b}/locations/global/insightTypes/${a.insightTypeId}`;return tIi(a,c).pipe(_.Ue(d=>d&&d.nextPageToken?tIi(a,c,d.nextPageToken):_.Se),_.x(d=>{let e;return null!=(e=d.insights)?e:[]}),_.bf((d,
e)=>d.concat(e),[]),_.x(d=>d.map(e=>a.conversionFunction(e))),_.qf(d=>{for(const e of d)a.insightByNameCache.set(e.name,_.w(e))}),_.x(d=>d.map(e=>e.name)),_.kf({bufferSize:1,refCount:!0}))},rIi=function(a,b,c){c&&a.insightByNameCache.delete(b);a.insightByNameCache.get(b,{onCacheMiss:()=>vIi(a,b)});return a.insightByNameCache.onValueChangeFiltered(b).pipe(_.of(d=>d.pipe(_.x(e=>C$(e)),_.Je(e=>_.w(gBi(fBi(e,b)))))))},qIi=function(a,b){const c=hBi(b);a.insightNamesByParentCache.get(c,{onCacheMiss:()=>
uIi(a,c)});return a.insightNamesByParentCache.onValueChangeFiltered(c).pipe(_.of(d=>d.pipe(_.of(e=>{if(0===e.length)return _.w(C$([]));e=e.map(f=>rIi(a,f));return _.ce(e).pipe(_.x(f=>{const g=[],l=[];for(const m of f)D$(m)?g.push(m.left):l.push(m.right);return 0<g.length?gBi(dBi(l,g)):C$(l)}))}),_.Je(e=>_.w(gBi(eBi(e)))))))},vIi=function(a,b){return a.insightsClientResolver.getClientForName(b).get(b).pipe(_.x(c=>a.conversionFunction(c)),_.qf(c=>{a.updateParentCache(c)}),_.kf({bufferSize:1,refCount:!0}))},
tIi=function(a,b,c){const d={};c&&(d.pageToken=c);return a.insightsClientResolver.getClientForName(b).list(b,d)},wIi=class{constructor(a,b){this.conversionFunction=b;this.cacheService=a.cacheService;this.insightsClientResolver=a;this.parentResourceService=a.parentResourceService;this.roleRecommendationsService=a.roleRecommendationsService;this.insightTypeId=a.insightTypeId;this.insightNamesByParentCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","insights cache by parent resource");this.insightByNameCache=
this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","insights cache by insight name");this.insightsAccepted$=this.roleRecommendationsService.insightsAccepted$.pipe(_.pe(c=>c.includes(this.insightTypeId)));this.insightsAccepted$.pipe(_.x(c=>this.insightByNameCache.get(c)),_.pe(_.mv),_.of(c=>c),_.pe(c=>"ACCEPTED"!==c.state),_.of(c=>sIi(this,c.name).pipe(_.Te(1)))).subscribe()}updateParentCache(a){this.parentResourceService.getParentResource(a.name).pipe(_.of(b=>{const c=b.parentResourceApiName;return(b=
this.insightNamesByParentCache.get(c))?b.pipe(_.x(d=>({insightNames:d,parentResourceName:c}))):_.w(null)})).subscribe(b=>{if(null!==b){var c=b.insightNames;b=b.parentResourceName;c.includes(a.name)||(c.push(a.name),this.insightNamesByParentCache.set(b,_.w(c)))}})}};var oBi=["ACTIVE","DISMISSED","SUCCEEDED"],yIi=function(a,b){const c=b.name;xIi(a,c).subscribe(d=>{const e=mBi(b,d.parentResource.resource);e&&(a.recommendationByNameCache.set(c,_.w(e)),d.recommendationNames&&a.updateParentCache(e,d.recommendationNames,d.parentResource))})},zIi=function(a,b){let c,d;b=null!=(d=null==(c=b.associatedInsights)?void 0:c.map(e=>e.insight))?d:[];for(const e of b)a.insightsAcceptedSubject$.next(e)},BIi=function(a,b){const c=`${b}/locations/global/recommenders/`+"google.iam.policy.Recommender";
return AIi(a,c).pipe(_.Ue(d=>d&&d.nextPageToken?AIi(a,c,d.nextPageToken):_.Se),_.x(d=>{let e;return null!=(e=d.recommendations)?e:[]}),_.bf((d,e)=>d.concat(e),[]))},DIi=function(a,b,c){c&&a.recommendationByNameCache.delete(b);a.recommendationByNameCache.get(b,{onCacheMiss:()=>CIi(a,b)});return a.recommendationByNameCache.onValueChangeFiltered(b).pipe(_.of(d=>d.pipe(_.x(e=>C$(e)),_.Je(e=>_.w(gBi(fBi(e,b)))))))},EIi=function(a,b){const c=hBi(b);a.recommendationNamesByParentCache.get(c,{onCacheMiss:()=>
BIi(a,c).pipe(_.x(d=>d.map(e=>mBi(e,b)).filter(e=>!!e).map(e=>e)),_.qf(d=>{for(const e of d)a.recommendationByNameCache.set(e.name,_.w(e))}),_.x(d=>d.map(e=>e.name)))});return a.recommendationNamesByParentCache.onValueChangeFiltered(c).pipe(_.of(d=>d.pipe(_.of(e=>{if(0===e.length)return _.w(C$([]));e=e.map(f=>DIi(a,f));return pBi(e,!0)}),_.Je(e=>_.w(gBi(eBi(e)))))))},FIi=function(a,b,c){return(null==c?0:c.listParentEntitiesFirst)?a.parentResourceService.getParentResource(b).pipe(_.of(d=>EIi(a,d.resource).pipe(_.Te(1))),
_.of(()=>DIi(a,b,null==c?void 0:c.forceCacheRefresh))):DIi(a,b,null==c?void 0:c.forceCacheRefresh)},GIi=function(a,b){var c={listParentEntitiesFirst:!0};if(0===b.length)return _.w(C$([]));b=b.map(d=>FIi(a,d,c));return pBi(b)},CIi=function(a,b){const c=a.apiClient.getClientForName(b).get(b);b=a.parentResourceService.getParentResource(b);return _.ce([c,b]).pipe(_.x(([d,e])=>mBi(d,e.resource)),_.qf(d=>{xIi(a,d.name).subscribe(e=>{e.recommendationNames&&a.updateParentCache(d,e.recommendationNames,e.parentResource)})}),
_.kf({bufferSize:1,refCount:!0}))},xIi=function(a,b){return a.parentResourceService.getParentResource(b).pipe(_.of(c=>{const d=a.recommendationNamesByParentCache.get(c.parentResourceApiName);return d?d.pipe(_.x(e=>({recommendationNames:e,parentResource:c}))):_.w({parentResource:c})}))},AIi=function(a,b,c){const d={includeInternalSubtypes:!0};c&&(d.pageToken=c);return a.apiClient.getClientForName(b).list(b,d)},I$=class{constructor(a,b,c){this.apiClient=a;this.parentResourceService=b;this.cacheService=
c;this.insightsAccepted$=this.insightsAcceptedSubject$=new _.ff(1);this.recommendationNamesByParentCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","cached recommendation names by parent resource");this.recommendationByNameCache=this.cacheService.createAsync("NON_SHAREABLE_CACHE_ID","recommendations cache by name")}markSucceeded(a,b,c=!1,d){const e={};c&&(e.reverted="true");d&&(e.google_created_custom_role_name=d);return this.apiClient.getClientForName(a).markSucceeded(a,{etag:b,stateMetadata:e}).pipe(_.qf(f=>
{yIi(this,f);zIi(this,f)}),_.kf({bufferSize:1,refCount:!0}))}markFailed(a,b){return this.apiClient.getClientForName(a).markFailed(a,{etag:b}).pipe(_.qf(c=>{yIi(this,c);zIi(this,c)}),_.kf({bufferSize:1,refCount:!0}))}markDismissed(a,b){return this.apiClient.getClientForName(a).markDismissed(a,{etag:b}).pipe(_.qf(c=>{yIi(this,c)}),_.kf({bufferSize:1,refCount:!0}))}updateParentCache(a,b,c){b.includes(a.name)||(b.push(a.name),this.recommendationNamesByParentCache.set(c.parentResourceApiName,_.w(b)))}};
I$.\u0275fac=function(a){return new (a||I$)(_.k(_.Xzi),_.k(H$),_.k(_.Rl))};I$.\u0275prov=_.h({token:I$,factory:I$.\u0275fac,providedIn:"root"});var HIi=class extends wIi{constructor(a,b,c,d){super({cacheService:a,getClientForName:e=>nIi(b,e),parentResourceService:c,roleRecommendationsService:d,insightTypeId:"google.iam.policy.LateralMovementInsight"},ZAi);this.cacheService=a;this.insightsService=b;this.parentResourceService=c;this.roleRecommendationsService=d}};HIi.\u0275fac=function(a){return new (a||HIi)(_.k(_.Rl),_.k(oIi),_.k(H$),_.k(I$))};HIi.\u0275prov=_.h({token:HIi,factory:HIi.\u0275fac,providedIn:"root"});var IIi=class extends wIi{constructor(a,b,c,d){super({cacheService:a,getClientForName:e=>nIi(b,e),parentResourceService:c,roleRecommendationsService:d,insightTypeId:"google.iam.policy.Insight"},XAi);this.cacheService=a;this.insightsService=b;this.parentResourceService=c;this.roleRecommendationsService=d}};IIi.\u0275fac=function(a){return new (a||IIi)(_.k(_.Rl),_.k(oIi),_.k(H$),_.k(I$))};IIi.\u0275prov=_.h({token:IIi,factory:IIi.\u0275fac,providedIn:"root"});var JIi=class{constructor(){this.keyWidth=9}ngOnChanges(){}};JIi.\u0275fac=function(a){return new (a||JIi)};
JIi.\u0275cmp=_.fd({type:JIi,selectors:[["iam-roles-filter-help-button"]],inputs:{rolesQualifierLabel:"rolesQualifierLabel",cfcDocHref:"cfcDocHref",primaryRoles:"primaryRoles"},features:[_.rd],decls:6,vars:4,consts:()=>[" Primary \ufffd0\ufffd roles include:\n"," Learn more ",["ariaLabel","Help information about primary roles"],[1,"cfc-font-weight-bold","cfc-space-below-minus-5"],["cfc-kv-list","",3,"keyWidth"],[4,"ngFor","ngForOf"],["aria-label","Learn more about the roles filtered in this table",
3,"cfcDocHref",4,"ngIf"],[1,"overflow-wrap-break-word"],["aria-label","Learn more about the roles filtered in this table",3,"cfcDocHref"]],template:function(a,b){a&1&&(_.H(0,"cfc-help-button",2)(1,"div",3),_.M(2,0),_.I(),_.H(3,"dl",4),_.D(4,qBi,5,2,"div",5),_.I(),_.D(5,rBi,2,1,"a",6),_.I());a&2&&(_.z(2),_.Mf(b.rolesQualifierLabel),_.Nf(2),_.z(),_.G("keyWidth",b.keyWidth),_.z(),_.G("ngForOf",b.primaryRoles),_.z(),_.G("ngIf",b.cfcDocHref))},dependencies:[_.dl,_.el,_.yu,_.Sx,_.Gt],styles:[".overflow-wrap-break-word[_ngcontent-%COMP%]{overflow-wrap:break-word}"],
changeDetection:0});var KIi=class{constructor(){this.tableMessageType$=new _.wg(2);this.hasMessage$=this.tableMessageType$.pipe(_.x(a=>2!==a));this.isPermissionFiltered$=this.tableMessageType$.pipe(_.x(a=>1===a));this.iamLink=_.luc.create().link().build()}set tableMessageType(a){this.tableMessageType$.next(a)}ngOnInit(){}ngOnChanges(){}};KIi.\u0275fac=function(a){return new (a||KIi)};
KIi.\u0275cmp=_.fd({type:KIi,selectors:[["iam-members-table-message"]],inputs:{tableMessageType:"tableMessageType",rolesFilterConfig:"rolesFilterConfig",primaryRoles:"primaryRoles"},features:[_.rd],decls:6,vars:3,consts:()=>{let a;a=_.$r(' This table only shows principals with primary \ufffd0\ufffd roles. \ufffd*2:1\ufffd\ufffd#1:1\ufffd To see all roles with [\ufffd0:1\ufffd|\ufffd1:1\ufffd] permissions, select the checkbox "Include all roles with [\ufffd0:1\ufffd|\ufffd1:1\ufffd] permissions". [\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]\ufffd*3:2\ufffd\ufffd#1:2\ufffd[\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]');
let b;b=_.$r(' This table only shows principals with any \ufffd0\ufffd permissions. \ufffd*2:1\ufffd\ufffd#1:1\ufffd To see only principals with primary \ufffd0:1\ufffd roles, clear the checkbox "Include all roles with \ufffd1:1\ufffd permissions". [\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]\ufffd*3:2\ufffd\ufffd#1:2\ufffd[\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]');return[["allPermissionsTableMessage",""],["editAllRolesText",""],a,b," To edit all project roles, go to \ufffd#1\ufffdCloud IAM\ufffd/#1\ufffd.\n",
["class","cfc-flex-container cfc-flex-center-aligned",4,"ngIf"],[1,"cfc-flex-container","cfc-flex-center-aligned"],["icon","status-info","role","img","aria-label","Information","size","small",1,"cfc-table-message-icon"],["class","cfc-table-message-renderer-message-text",4,"ngIf","ngIfElse"],[3,"rolesQualifierLabel","cfcDocHref","primaryRoles"],[1,"cfc-table-message-renderer-message-text"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"cfcRouterLink"]]},template:function(a,b){a&1&&(_.D(0,vBi,5,7,"div",5),_.X(1,
"async"),_.D(2,yBi,4,3,"ng-template",null,0,_.fg)(4,zBi,2,1,"ng-template",null,1,_.fg));a&2&&_.G("ngIf",_.Y(1,1,b.hasMessage$))},dependencies:[_.el,_.il,_.so,_.qu,JIi,_.jl],encapsulation:2,changeDetection:0});var LIi=class{constructor(){this.tableMessageType$=new _.wg(2);this.hasMessage$=this.tableMessageType$.pipe(_.x(a=>2!==a));this.isPermissionFiltered$=this.tableMessageType$.pipe(_.x(a=>1===a));this.iamLink=_.luc.create().link().build()}set tableMessageType(a){this.tableMessageType$.next(a)}ngOnInit(){}ngOnChanges(){}};LIi.\u0275fac=function(a){return new (a||LIi)};
LIi.\u0275cmp=_.fd({type:LIi,selectors:[["iam-roles-table-message"]],inputs:{tableMessageType:"tableMessageType",rolesFilterConfig:"rolesFilterConfig",primaryRoles:"primaryRoles"},features:[_.rd],decls:6,vars:3,consts:()=>{let a;a=_.$r(' This table only shows primary \ufffd0\ufffd roles. \ufffd*2:1\ufffd\ufffd#1:1\ufffd To see all roles with [\ufffd0:1\ufffd|\ufffd1:1\ufffd] permissions, select the checkbox "Include all roles with [\ufffd0:1\ufffd|\ufffd1:1\ufffd] permissions". [\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]\ufffd*3:2\ufffd\ufffd#1:2\ufffd[\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]');
let b;b=_.$r(' This table shows all roles with \ufffd0\ufffd permissions. \ufffd*2:1\ufffd\ufffd#1:1\ufffd To see only primary \ufffd0:1\ufffd roles, clear the checkbox "Include all roles with \ufffd1:1\ufffd permissions". [\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]\ufffd*3:2\ufffd\ufffd#1:2\ufffd[\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*3:2\ufffd]');return[["allPermissionsTableMessage",""],["editAllRolesText",""],a,b," To edit all project roles, go to \ufffd#1\ufffdCloud IAM\ufffd/#1\ufffd.\n",
["class","cfc-flex-container cfc-flex-center-aligned",4,"ngIf"],[1,"cfc-flex-container","cfc-flex-center-aligned"],["icon","status-info","role","img","aria-label","Information","size","small",1,"cfc-table-message-icon"],["class","cfc-table-message-renderer-message-text",4,"ngIf","ngIfElse"],[3,"rolesQualifierLabel","cfcDocHref","primaryRoles"],[1,"cfc-table-message-renderer-message-text"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"cfcRouterLink"]]},template:function(a,b){a&1&&(_.D(0,DBi,5,7,"div",5),_.X(1,
"async"),_.D(2,GBi,4,3,"ng-template",null,0,_.fg)(4,HBi,2,1,"ng-template",null,1,_.fg));a&2&&_.G("ngIf",_.Y(1,1,b.hasMessage$))},dependencies:[_.el,_.il,_.so,_.qu,JIi,_.jl],encapsulation:2,changeDetection:0});var MIi=class{};MIi.\u0275fac=function(a){return new (a||MIi)};MIi.\u0275mod=_.gd({type:MIi});MIi.\u0275inj=_.Rc({imports:[_.kl,_.Yx,_.Ux,_.Do,_.Et,_.ru]});var NIi=class{transform(a){if(0===a.length)return"Must select row";if(a.some(b=>b.allInherited))return"Please select only principals that have a non-inherited role"}};NIi.\u0275fac=function(a){return new (a||NIi)};NIi.\u0275pipe=_.ld({name:"disableTooltipMessage",type:NIi,pure:!0});
var OIi=class{constructor(a,b,c,d,e,f){this.confirmDialogService=a;this.iamActionService=b;this.iamErrorService=c;this.snackBar=d;this.iamUIservice=e;this.dialog=f;this.icons={personRemoveIcon:_.wsc};this.ve={IamPageActionBarRemoveMember:62841};this.selectedMemberRows=[];this.onRemoveMembers=new _.Nk}confirmDeleteMember(){return this.checkOwnershipAndConfirmDeletion(this.resource).pipe(_.of(({builder:a,successMessage:b})=>this.applyBuilderAndShowSuccess(a,b)),_.Te(1)).subscribe()}checkOwnershipAndConfirmDeletion(a){const b=
new _.Br,c=this.selectedMemberRows[0].displayName,d=_.qw("{NUM_PRINCIPALS, plural,   =1 {Removed {TITLE}} other {Removed # principals}}",{TITLE:c,NUM_PRINCIPALS:this.selectedMemberRows.length});let e;const f=[];for(const {roles:g,iamMember:l,displayName:m,conditions:t}of this.selectedMemberRows){f.push(m);let u;if(null==(u=this.importantMembers)?0:u.has(m))e=!0;for(const [v,y]of g.entries()){const B=v;b.removeMember(y.name,l,t?t[B]:void 0)}}return _.Umc(this.iamUIservice,[this.resource],b).pipe(_.of(g=>
g.shouldContinue?g.wasShown?_.w({builder:b,successMessage:d}):e?this.dialog.open(zHi,{data:{iamCompatible:a,membersToBeDeleted:f}}).afterClosed().pipe(_.of(l=>l?_.w({builder:b,successMessage:d}):_.Se)):this.confirmDialogService.confirmation({header:_.qw("{NUM_MEMBERS, plural,   =1 {Remove {TITLE}} other {Remove these # principals?}}",{TITLE:c,NUM_MEMBERS:this.selectedMemberRows.length}),body:_.qw("{NUM_MEMBERS, plural,   =1 {Are you sure you want to remove {TITLE}? They will lose all non-inherited roles on this resource.} other {Are you sure you want to remove these # principals? They will lose all non-inherited roles on this resource.}}",
{TITLE:c,NUM_MEMBERS:this.selectedMemberRows.length}),cancelButtonVeId:158959,confirmButtonVeId:158960}).pipe(_.of(l=>l.confirmed?_.w({builder:b,successMessage:d}):_.Se)):_.Se))}applyBuilderAndShowSuccess(a,b){return _.pB(this.iamActionService,[this.resource],a).pipe(_.qf(()=>{this.onRemoveMembers.emit();return this.snackBar.open(b)}),_.Je(c=>{this.iamErrorService.showErrorMessage(c);return _.Se}))}};OIi.\u0275fac=function(a){return new (a||OIi)(_.A(_.ZB),_.A(_.Hr),_.A(_.XG),_.A(_.VA),_.A(_.YG),_.A(_.Hn))};
OIi.\u0275cmp=_.fd({type:OIi,selectors:[["remove-member-table-action"]],inputs:{importantMembers:"importantMembers",selectedMemberRows:"selectedMemberRows",resource:"resource"},outputs:{onRemoveMembers:"onRemoveMembers"},decls:2,vars:3,consts:()=>[["collapsibleText",""]," Remove Access ",["mat-button","","cfcCollapsibleButton","","color","primary","aria-label","Remove Access","cfcDisableTooltipPosition","right",3,"cfcDisable","cfcDisableTooltip","cfcIamCheck","cfcIamResource","ve","veClick","click",
4,"xapLet"],["mat-button","","cfcCollapsibleButton","","color","primary","aria-label","Remove Access","cfcDisableTooltipPosition","right",3,"click","cfcDisable","cfcDisableTooltip","cfcIamCheck","cfcIamResource","ve","veClick"],[3,"icon"]],template:function(a,b){a&1&&(_.D(0,IBi,6,9,"button",2),_.X(1,"disableTooltipMessage"));a&2&&_.G("xapLet",_.Y(1,1,b.selectedMemberRows))},dependencies:()=>[_.Wr,_.Tr,_.yt,_.gp,_.xt,_.KB,_.Jx,_.sB,_.fo,_.OH,_.vsc,NIi],encapsulation:2,changeDetection:0});var PIi=class{};
PIi.\u0275fac=function(a){return new (a||PIi)};PIi.\u0275mod=_.gd({type:PIi});PIi.\u0275inj=_.Rc({imports:[_.Xr,_.At,_.yH,_.kl,_.Qx,_.tB,_.RH,_.go,_.EE]});var QIi=class{constructor(){this.insightGroup$=new _.wg;this.blankLinesForInsightGroup$=this.insightGroup$.pipe(_.x(a=>{if(!a)return[];let b=0;for(const c of a.insightsByRecommendations)b+=Math.min(c.activeInsightMetadata.activeInsightCount,1);return[].constructor(Math.max(0,b-1))}))}set insightGroup(a){this.insightGroup$.next(a)}get insightGroup(){return this.insightGroup$.value}};QIi.\u0275fac=function(a){return new (a||QIi)};
QIi.\u0275cmp=_.fd({type:QIi,selectors:[["iam-insight-group-blank-lines"]],inputs:{insightGroup:"insightGroup"},standalone:!0,features:[_.bg],decls:2,vars:3,consts:[[4,"ngIf"],["class","members-table-column-multi-line-item",4,"ngFor","ngForOf"],[1,"members-table-column-multi-line-item"]],template:function(a,b){a&1&&(_.D(0,KBi,2,1,"ng-container",0),_.X(1,"async"));a&2&&_.G("ngIf",_.Y(1,1,b.blankLinesForInsightGroup$))},dependencies:[_.kl,_.dl,_.el,_.jl],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var LBi=function(a,b){return(new _.rp("{ELEMENT_LABEL}, for role {ROLE_TITLE}")).format({ELEMENT_LABEL:a,ROLE_TITLE:b})},RIi=class{constructor(a){this.dialogService=a;this.ve={IamMembersTableConditionLink:62837}}showConditionsDialog(a,b){this.dialogService.open(_.FH,{data:{roleDisplayName:a,condition:b}})}};RIi.\u0275fac=function(a){return new (a||RIi)(_.A(_.Hn))};
RIi.\u0275cmp=_.fd({type:RIi,selectors:[["iam-grant-role-condition"]],inputs:{insightGroup:"insightGroup",sourcedRole:"sourcedRole"},standalone:!0,features:[_.bg],decls:3,vars:3,consts:[[4,"ngIf"],["class","members-table-column-multi-line-item",4,"ngIf"],[3,"insightGroup"],["mat-button","","class","cfc-nowrap cfctest-table-condition-link members-table-column-multi-line-item\n                 cfc-text-button cfc-font-weight-regular","color","primary",3,"ve","veClick","click",4,"ngVar"],["mat-button",
"","color","primary",1,"cfc-nowrap","cfctest-table-condition-link","members-table-column-multi-line-item","cfc-text-button","cfc-font-weight-regular",3,"click","ve","veClick"],[1,"members-table-column-multi-line-item"]],template:function(a,b){a&1&&(_.D(0,NBi,3,3,"ng-container",0)(1,OBi,2,0,"div",1),_.J(2,"iam-insight-group-blank-lines",2));a&2&&(_.G("ngIf",b.sourcedRole.condition),_.z(),_.G("ngIf",!b.sourcedRole.condition),_.z(),_.G("insightGroup",b.insightGroup))},dependencies:[_.Xr,_.Wr,_.Tr,QIi,
_.At,_.yt,_.gp,_.xt,_.kl,_.el,_.GH,_.Vn,_.zE,_.WD,_.VD],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],changeDetection:0});var SIi=class{constructor(){this.tableResource$=new _.wg;this.sourcedRole$=new _.wg;this.roleInheritanceResource$=this.sourcedRole$.pipe(_.pe(_.mv),_.x(a=>a.inheritedFrom[0]));this.isInheritanceUniqueFromTable$=_.ce([this.roleInheritanceResource$,this.tableResource$.pipe(_.pe(_.mv))]).pipe(_.x(([a,b])=>SBi(a,b)))}set tableResource(a){this.tableResource$.next(a)}set sourcedRole(a){this.sourcedRole$.next(a)}get sourcedRole(){return this.sourcedRole$.value}ngOnInit(){}};
SIi.\u0275fac=function(a){return new (a||SIi)};
SIi.\u0275cmp=_.fd({type:SIi,selectors:[["iam-grant-role-inheritance"]],inputs:{tableResource:"tableResource",sourcedRole:"sourcedRole",insightGroup:"insightGroup"},standalone:!0,features:[_.bg],decls:7,vars:5,consts:[["screenReaderText",""],[1,"members-table-column-multi-line-item"],[4,"ngIf","ngIfElse"],[3,"insightGroup"],[3,"resource","associatedRole",4,"ngIf"],[3,"resource","associatedRole"],[1,"screen-reader-only-content"]],template:function(a,b){a&1&&(_.H(0,"div",1),_.D(1,QBi,3,3,"ng-container",
2),_.X(2,"async"),_.D(3,RBi,2,1,"ng-template",null,0,_.fg),_.J(5,"br"),_.I(),_.J(6,"iam-insight-group-blank-lines",3));a&2&&(a=_.Yf(4),_.z(),_.G("ngIf",_.Y(2,3,b.isInheritanceUniqueFromTable$))("ngIfElse",a),_.z(5),_.G("insightGroup",b.insightGroup))},dependencies:[QIi,_.kl,_.el,_.jl,_.IH,_.HH,_.WD],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var TIi=new _.yk("45476127");var UIi=function(a,b){b=b.filter(c=>c.includes("recommenders/google.iam.policy.Recommender"));return GIi(a.roleRecommendationsService,b).pipe(_.x(c=>D$(c)?c:C$(c.right.filter(d=>{let e;const f=null==d?void 0:null==(e=d.properties)?void 0:e.metadata;return!!d&&!d.reverted&&!(null==f||!f.accessObservationStartTime)&&!(null==f||!f.accessObservationEndTime)&&"DISMISSED"!==d.state&&["INACTIVE","NEW_ROLE"].includes(d.properties.recommendationType)&&"ACTIVE"===d.state}))),_.kf({refCount:!0,bufferSize:1}))},
VIi=class{constructor(a){this.roleRecommendationsService=a}};VIi.\u0275fac=function(a){return new (a||VIi)(_.k(I$))};VIi.\u0275prov=_.h({token:VIi,factory:VIi.\u0275fac,providedIn:"root"});var WIi=new _.yk("45403393");var XIi=class{constructor(){this.showRecommenderErrors=_.Bc(WIi)}};XIi.\u0275fac=function(a){return new (a||XIi)};
XIi.\u0275cmp=_.fd({type:XIi,selectors:[["iam-grant-recommendation-fetch-error-icon"]],standalone:!0,features:[_.bg],decls:1,vars:1,consts:()=>[["mat-icon-button","","type","button","cfcTooltip","Failed to fetch recommendation(s) associated with this insight.",4,"ngIf"],"mat-icon-button;;type;button;cfcTooltip;Failed to fetch recommendation(s) associated with this insight.".split(";"),"iconset material icon error_outline size small".split(" ")],template:function(a,b){a&1&&_.D(0,TBi,2,0,"button",0);
a&2&&_.G("ngIf",b.showRecommenderErrors)},dependencies:[_.At,_.yt,_.Ss,_.xt,_.kl,_.el,_.Do,_.so,_.Ou,_.Mu],encapsulation:2});var YIi=["iam.roles.create","iam.roles.list"],aJi=function(a,b){return ZIi(a,b).pipe(_.of(c=>void 0===c?_.w({canCreateCustomRoles:!1}):$Ii(a,c).pipe(_.x(d=>({roleParent:c,canCreateCustomRoles:d})))),_.kf({bufferSize:1,refCount:!0}))},bJi=function(a,b){return b.properties.allowCreateCustomRole?aJi(a,QGi(b.resourceName)):_.w({canCreateCustomRoles:!1})},ZIi=function(a,b){switch(b.getResourceType()){case 0:return a.projectService.getProject(b.getResourceId()).pipe(_.of(c=>_.w(c)),_.kf({bufferSize:1,refCount:!0}));
case 43:case 2:return a.crmResourceService.getResource({id:b.getResourceId(),type:b.getResourceType()}).pipe(_.of(c=>_.tUb(a.purviewService,c).pipe(_.x(d=>d?d:void 0))),_.kf({bufferSize:1,refCount:!0}));default:return _.w(void 0)}},$Ii=function(a,b){return a.iamPermissionsService.preFetchPermissions(YIi,[b]).pipe(_.x(c=>{const d=Array.from(c.values())[0];return YIi.every(e=>!!d.get(e))}),_.kf({bufferSize:1,refCount:!0}))},cJi=class{constructor(a,b,c,d){this.crmResourceService=a;this.iamPermissionsService=
b;this.projectService=c;this.purviewService=d}};cJi.\u0275fac=function(a){return new (a||cJi)(_.k(_.cu),_.k(_.Ir),_.k(_.pq),_.k(_.gu))};cJi.\u0275prov=_.h({token:cJi,factory:cJi.\u0275fac,providedIn:"root"});var dJi=class{tableFilters(a,b){a=new Set;for(const c of b.get("ACTIVE")||[])a.add(c.properties.userMemberInfo.rawName);return Array.from(a).map(c=>({member:c}))}};(new Map).set("OWNER_EDITOR",new dJi);var eJi=class{};eJi.\u0275fac=function(a){return new (a||eJi)};eJi.\u0275mod=_.gd({type:eJi});eJi.\u0275inj=_.Rc({providers:[_.z$],imports:[_.MC]});
var gJi=function(a,b,c){a.analyticsService.sendEvent({type:"iamRecommendations",name:"openRecommendationClicked",metadata:VBi(c,b)});b=aBi({recommendation:b,impactMetric:c});b=PGi(a.recommendationSubtaskService,b);return _.qe(b.onAccept,b.onCancel).pipe(_.of(d=>void 0===d?_.w("NO_POLICY_CHANGE"):fJi(a,d)))},hJi=function(a,b,c,d){a.analyticsService.sendEvent({type:"iamRecommendations",name:"openLateralMovementInsightClicked",metadata:VBi(d,c)});d=b=cBi(b);c&&(d=aBi({recommendation:c}),d.insightDetails=
b.insightDetails);c=PGi(a.recommendationSubtaskService,d);return _.qe(c.onAccept,c.onCancel).pipe(_.of(e=>void 0===e?_.w("NO_POLICY_CHANGE"):fJi(a,e)))},iJi=function(a,b,c,d){switch(b.kind){case "iamPolicy":return c?b=gJi(a,c,d):(a.analyticsService.sendEvent({type:"iamRecommendations",name:"openPolicyInsightClicked",metadata:VBi(d)}),a=a.recommendationSubtaskService,c=YAi(b),b={id:b.name,base:Object.assign({},bBi(b),{content:c.content}),insightDetails:{content:c.content,policyInsightDetails:{member:b.member,
role:b.roleName,displayMember:b.member,displayRole:b.roleName,exercisedPermissions:b.exercisedPermissions,inferredPermissions:b.inferredPermissions}}},b=PGi(a,b).onCancel.pipe(_.$e("NO_POLICY_CHANGE"))),b;case "lateralMove":return hJi(a,b,c,d);default:_.uc(b,`Invalid insight: ${b}`)}},fJi=function(a,b){let c;const d=null==(c=b.assistObject)?void 0:c.name;return FIi(a.cloudRecommendations,d,{forceCacheRefresh:!0}).pipe(_.x(()=>b.data?"RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_CREATED":"RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_NOT_CREATED"))},
jJi=class{constructor(a,b,c){this.analyticsService=a;this.recommendationSubtaskService=b;this.cloudRecommendations=c}};jJi.\u0275fac=function(a){return new (a||jJi)(_.k(_.Im),_.k(_.z$),_.k(I$))};jJi.\u0275prov=_.h({token:jJi,factory:jJi.\u0275fac,providedIn:eJi});var kJi=new _.rp("Remove role recommendation for {USER}"),lJi=new _.rp("Replace {ROLE_TITLE} role for {USER}"),mJi=new _.rp("There are no permissions being used for {ROLE_TITLE} for {USER}. Remove this role to clean up your policy. Analysis is based off of the last {DAYS} days."),nJi=new _.rp("Replacing the {ROLE_TITLE} role with the {NEW_ROLE} role will reduce the principal's permissions from {OLD_NUM} to {NEW_NUM}. Analysis is based off of the last {DAYS} days."),oJi=new _.rp("Replacing the {ROLE_TITLE} role with the following {NUM_NEW_ROLES} roles will reduce the principal's permissions from {OLD_NUM} to {NEW_NUM}."),
pJi=new _.rp("Replacing the {ROLE_TITLE} role with the {NEW_ROLE} role will reduce {USER}'s permissions. However, you do not have permission to view the role definition of both the current role and the role replacement recommendation. Analysis is based off of the last {DAYS} days."),qJi=new _.rp("Remove {ROLE_TITLE} role recommendation"),rJi=new _.rp("Current permissions for {ROLE_TITLE} role");new _.rp('Remove {USER} from "{ROLE}"');new _.rp('{NUM_ROLES, plural,=1 {Replace "{OLD_ROLE}" with "{NEW_ROLE}" for {USER}}other {Replace "{OLD_ROLE}" with # role recommendations for {USER}}}');
new _.rp('Replace "{OLD_ROLE}" with custom role "{NEW_ROLE}" for {USER}');new _.rp("{USER} applied the recommendation");new _.rp("{USER} reverted the recommendation");new _.rp("{USER} dismissed the recommendation");new _.rp("{USER} created custom role");
var sJi=new _.rp("Last Analyzed {DATE}"),tJi=new _.rp("Permissions for {USER}"),vJi=function(a,b,c,d,e){return uJi(a,e.currentRole).pipe(_.x(f=>"string"===typeof f?{role:f,user:c,policyBuilder:(new _.Br).removeMember(f,b),message:"There is a remove role recommendation here. However, you do not have permission to view the analysis of the current role definition.",title:qJi.format({ROLE_TITLE:f}),recommendationType:"INACTIVE",actionBarTitle:kJi.format({USER:c}),dateObserved:d,inferredPermissions:e.justification.inferredPermissions,
showPermissionList:!1}:{role:f,user:c,policyBuilder:(new _.Br).removeMember(f.name,b),message:mJi.format({ROLE_TITLE:E$(f),USER:c,DAYS:WBi(e)}),title:qJi.format({ROLE_TITLE:E$(f)}),recommendationType:"INACTIVE",actionBarTitle:kJi.format({USER:c}),dateObserved:d,inferredPermissions:e.justification.inferredPermissions,showPermissionList:!0}),_.kf(1))},yJi=function(a,b,c,d,e){const f={user:c,dateObserved:d,sampledUsedPermissions:e.justification.sampledUsedPermissions,inferredPermissions:e.justification.inferredPermissions,
numDaysObserved:WBi(e),recommendationType:"NEW_ROLE",createdCustomRole:e.createdCustomRole};return _.ie([uJi(a,e.currentRole),...e.recommendedRoles.map(g=>uJi(a,g))]).pipe(_.x(([g,...l])=>"string"===typeof g||l.some(m=>"string"===typeof m)?wJi(f,b,g,l[0]):xJi(f,b,g,l)),_.kf(1))},zJi=function(a,b,c,d){const e=d.justification.sampledUsedPermissions,f=d.justification.inferredPermissions;return uJi(a,d.currentRole).pipe(_.x(g=>"string"===typeof g?{role:g,title:rJi.format({ROLE_TITLE:g}),message:"There is no recommendation available at this time for this binding. However, you do not have permission to view the analysis of the current role definition.",
unusedPermissions:[],recommendationType:"OK",actionBarTitle:tJi.format({USER:b}),dateObserved:c,inferredPermissions:f,showPermissionList:!1}:{role:g,title:rJi.format({ROLE_TITLE:_.tE(g)}),message:"",unusedPermissions:g.includedPermissions.filter(l=>!e.includes(l)),recommendationType:"OK",actionBarTitle:tJi.format({USER:b}),dateObserved:c,inferredPermissions:f,showPermissionList:!0}),_.kf(1))},AJi=function(a,b){const c=b.userMemberInfo.rawName,d=b.userMemberInfo.iamMember;var e="";b.metadata.accessObservationEndTime&&
(e=new Date(b.metadata.accessObservationEndTime),e=_.Kw(3).format(e),e=sJi.format({DATE:e}));return"INACTIVE"===b.recommendationType?vJi(a,d,c,e,b):"NEW_ROLE"===b.recommendationType?yJi(a,d,c,e,b):zJi(a,c,e,b)},uJi=function(a,b){return a.rolesService.getRole(b).pipe(_.Je(c=>403===c.status?_.w(b):_.Td(c)))},wJi=function(a,b,c,d){return Object.assign({},a,{oldRole:c,newRoles:"string"===typeof d?d:[d],policyBuilder:_.Cr((new _.Br).removeMember("string"===typeof c?c:c.name,b),"string"===typeof d?d:d.name,
b),message:pJi.format({ROLE_TITLE:E$(c),USER:a.user,NEW_ROLE:E$(d),DAYS:a.numDaysObserved}),actionBarTitle:lJi.format({ROLE_TITLE:E$(c),USER:a.user})})},xJi=function(a,b,c,d){if(1===d.length){var e=d[0];e=nJi.format({ROLE_TITLE:E$(c),NEW_ROLE:E$(e),OLD_NUM:c.includedPermissions.length,NEW_NUM:e.includedPermissions.length,DAYS:a.numDaysObserved})}else{e=new Set;for(var f of d)for(const g of f.includedPermissions)e.add(g);e=oJi.format({ROLE_TITLE:E$(c),NUM_NEW_ROLES:d.length,OLD_NUM:c.includedPermissions.length,
NEW_NUM:e.size})}f=new _.Br;f.removeMember(c.name,b);for(const g of d)_.Cr(f,g.name,b);return Object.assign({},a,{oldRole:c,newRoles:d,policyBuilder:f,message:e,actionBarTitle:lJi.format({ROLE_TITLE:E$(c),USER:a.user})})},BJi=class{constructor(a){this.rolesService=a}};BJi.\u0275fac=function(a){return new (a||BJi)(_.k(_.oE))};BJi.\u0275prov=_.h({token:BJi,factory:BJi.\u0275fac,providedIn:"root"});var CJi=new _.rp("Dismiss role recommendation for {USER} confirmation"),DJi=class{};DJi.\u0275fac=function(a){return new (a||DJi)};DJi.\u0275mod=_.gd({type:DJi});DJi.\u0275inj=_.Rc({imports:[_.EE]});
var EJi=function(a,b,c){const d=XBi(b.properties),e=c.currentView,f=c.source,g=!!nBi(b);a.analyticsService.sendEvent({type:"iamRecommendation",name:"dismissClicked",metadata:{type:d,currentView:e,source:f,withLateralMoveInsight:g,priority:b.priority}});return AJi(a.recommendationDataService,b.properties).pipe(_.of(l=>{if("OK"===l.recommendationType)return _.w(void 0);const m=CJi.format({USER:l.user});return a.confirmDialogService.confirmation({header:m,body:"NEW_ROLE"===l.recommendationType?"Dismissing this role replacement recommendation will cause it to not resurface again. To view again, go to the recommendations history tab. Are you sure you want to dismiss this?":
"Dismissing this role removal recommendation will cause it to not resurface again. To view again, go to the recommendations history tab. Are you sure you want to dismiss this?",confirmButtonText:"Dismiss"}).pipe(_.qf(t=>{t.confirmed&&(a.analyticsService.sendEvent({type:"iamRecommendations",name:"recommendationDismissed",metadata:{name:b.name,id:b.id,withLateralMoveInsight:g,priority:b.priority}}),a.analyticsService.sendEvent({type:"iamRecommendation",name:"dismissConfirmed",metadata:{type:d,currentView:e,
source:f,withLateralMoveInsight:g,priority:b.priority}}))}))}))},FJi=function(a,b,c){const d=XBi(b.properties);a.snackBar.open("Dismissing recommendation");const e=!!nBi(b);return a.cloudRecommendations.markDismissed(b.name,b.etag).pipe(_.qf(()=>{a.snackBar.open("Recommendation dismissed");a.analyticsService.sendEvent({type:"iamRecommendation",name:"dismissSuccess",metadata:{type:d,currentView:c.currentView,source:c.source,withLateralMoveInsight:e,priority:b.priority}})},()=>{a.snackBar.open("Dismissal failed. Please try again")}))},
GJi=function(a,b,c,d,e){const f=XBi(c.properties),g=!!nBi(c),l=e.source;return d.pipe(_.of(m=>_.Smc(a.iamUIService,[b],m.policyBuilder,{propagateEtagMismatchFlow:!0}).pipe(_.x(()=>{a.analyticsService.sendEvent({type:"iamRecommendations",name:"recommendationAccepted",metadata:{name:c.name,id:c.id,withLateralMoveInsight:g,priority:c.priority}});return m})))).pipe(_.of(m=>a.cloudRecommendations.markSucceeded(c.name,c.etag,!1,m.createdRole?m.createdRole.name:void 0).pipe(_.x(()=>Object.assign({},m,{actionCompleted:!0}))))).pipe(_.Je(m=>
FIi(a.cloudRecommendations,c.name,{forceCacheRefresh:!0}).pipe(_.x(t=>{if(D$(t))throw Error("vq`"+c.name);return t.right}),_.Te(1)).pipe(_.of(t=>{if(c.etag!==t.etag)return a.analyticsService.sendEvent({type:"iamRecommendation",name:"applyFailedForStaleRecommendation",metadata:{type:f,oldState:c.state,newState:t.state,source:l,withLateralMoveInsight:g,priority:c.priority}}),m.errorExperience=2,_.w({refreshedConflictedRecommendation:t});if("CLAIMED"===t.state)return a.cloudRecommendations.markFailed(t.name,
t.etag).pipe(_.x(()=>{c.etag=t.etag;a.analyticsService.sendEvent({type:"iamRecommendation",name:"markFailedInsteadOfClaimed",metadata:{type:f,source:l,withLateralMoveInsight:g,priority:c.priority}});throw m;}));throw m;})))).pipe(_.x(m=>{if(m.actionCompleted){const t=!!m.createdRole;a.analyticsService.sendEvent({type:"iamRecommendation",name:"applySuccess",metadata:{type:f,customRoleCreated:"replace_customizable"===f?String(t):"NA",source:l,withLateralMoveInsight:g,priority:c.priority}})}return m}),
_.Je(m=>{a.snackBar.open("Apply failed. Please try again");throw m;}))},HJi=function(a,b,c,d){const e=AJi(a.recommendationDataService,c.properties).pipe(_.x(f=>({policyBuilder:f.policyBuilder})));return GJi(a,b,c,e,d)},IJi=class{constructor(a,b,c,d,e,f){this.analyticsService=a;this.cloudRecommendations=b;this.confirmDialogService=c;this.iamUIService=d;this.recommendationDataService=e;this.snackBar=f}};IJi.\u0275fac=function(a){return new (a||IJi)(_.k(_.Im),_.k(I$),_.k(_.ZB),_.k(_.YG),_.k(BJi),_.k(_.VA))};
IJi.\u0275prov=_.h({token:IJi,factory:IJi.\u0275fac,providedIn:DJi});var JJi=class{};JJi.\u0275fac=function(a){return new (a||JJi)};JJi.\u0275mod=_.gd({type:JJi});JJi.\u0275inj=_.Rc({imports:[DJi]});
var KJi=class{constructor(a,b){this.analyticsService=a;this.roleRecommendationUiService=b}applyRoleRecommendation(a,b,c,d){d={source:d};this.analyticsService.sendEvent({type:"iamRecommendation",name:"applyClicked",metadata:Object.assign({},{type:XBi(b.properties),createCustomRole:"NA",source:d.source},VBi(c,b))});return HJi(this.roleRecommendationUiService,a,b,d).pipe(_.Te(1))}dismissRoleRecommendation(a,b){const c={source:b,currentView:"existingRole"};return EJi(this.roleRecommendationUiService,
a,c).pipe(_.of(d=>null!=d&&d.confirmed?FJi(this.roleRecommendationUiService,a,c):_.w(void 0)),_.Te(1))}};KJi.\u0275fac=function(a){return new (a||KJi)(_.k(_.Im),_.k(IJi))};KJi.\u0275prov=_.h({token:KJi,factory:KJi.\u0275fac,providedIn:JJi});var LJi=function(a,b){return a.policyChanged$.pipe(_.pe(c=>c.resource.getResourceId()===b.getResourceId()))},MJi=function(a,b){return a.newRoleCreated$.pipe(_.pe(c=>c.resource.getResourceId()===b.getResourceId()))},NJi=class{constructor(){this.newRoleCreatedSubject$=new _.hf;this.policyChangedSubject$=new _.hf;this.newRoleCreated$=this.newRoleCreatedSubject$;this.policyChanged$=this.policyChangedSubject$}};NJi.\u0275fac=function(a){return new (a||NJi)};
NJi.\u0275prov=_.h({token:NJi,factory:NJi.\u0275fac,providedIn:"root"});var J$=class{};J$.\u0275fac=function(a){return new (a||J$)};J$.\u0275mod=_.gd({type:J$});J$.\u0275inj=_.Rc({imports:[eJi,JJi,_.EE]});
var ZBi=function(a,b){iJi(a.insightSubtaskService,b.insight,b.recommendation,b.impactMetric).pipe(_.Te(1),_.C(a.destroy$)).subscribe(c=>{switch(c){case "RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_CREATED":a.events.newRoleCreatedSubject$.next(b);break;case "RECOMMENDATION_APPLIED_NEW_CUSTOM_ROLE_NOT_CREATED":a.events.policyChangedSubject$.next(b)}})},OJi=class{constructor(a,b,c,d){this.insightSubtaskService=a;this.memberRecommendationsService=b;this.snackBarService=c;this.events=d;this.newRoleCreatedSubject$=
new _.hf;this.policyChangedSubject$=new _.hf;this.newRoleCreated$=this.newRoleCreatedSubject$;this.policyChanged$=this.policyChangedSubject$;this.destroy$=new _.ff(1)}ngOnDestroy(){this.destroy$.next();this.destroy$.complete()}dismissRoleRecommendation(a){this.memberRecommendationsService.dismissRoleRecommendation(a.recommendation,YBi(a.insight)).pipe(_.Te(1),_.C(this.destroy$)).subscribe()}applyRoleRecommendation(a){this.memberRecommendationsService.applyRoleRecommendation(a.resource,a.recommendation,
a.impactMetric,YBi(a.insight)).pipe(_.Te(1),_.C(this.destroy$)).subscribe(b=>{b.actionCompleted||this.snackBarService.open("Unable to apply the recommendation since it is out of date due to recent changes. The table will be automatically refreshed with the latest recommendations.");this.events.policyChangedSubject$.next(a)})}};OJi.\u0275fac=function(a){return new (a||OJi)(_.k(jJi),_.k(KJi),_.k(_.VA),_.k(NJi))};OJi.\u0275prov=_.h({token:OJi,factory:OJi.\u0275fac,providedIn:J$});var PJi=class{set params(a){this.params$.next(a)}get params(){return this.params$.getValue()}constructor(a,b){this.createCustomRolesChecker=a;this.menuService=b;this.params$=new _.wg;this.canCreateCustomRole$=this.params$.pipe(_.pe(_.mv),_.of(c=>c.recommendation?bJi(this.createCustomRolesChecker,c.recommendation).pipe(_.x(d=>d.canCreateCustomRoles)):_.w(!1)),_.kf({bufferSize:1,refCount:!0}));this.IamCheckOperator=_.YTb;this.permissionsToApplyRecommendations$=this.params$.pipe(_.pe(_.mv),_.x(c=>["recommender.iamPolicyRecommendations.update",
_.Zp.get(c.resource.getResourceType()).set]));this.templateData$=_.ce([this.canCreateCustomRole$,this.permissionsToApplyRecommendations$]).pipe(_.sf(this.params$.pipe(_.pe(_.mv))),_.x(([[c,d],e])=>{const f=e.recommendation&&"OK"===e.recommendation.properties.recommendationType;return{params:e,permissionsToApplyRecommendations:d,showAnalyzedPermissions:!e.recommendation||f,showApplyDismiss:e.recommendation&&!f,disableApplyButton:c}}))}applyClicked(a){this.menuService.applyRoleRecommendation(a)}};
PJi.\u0275fac=function(a){return new (a||PJi)(_.A(cJi),_.A(OJi))};
PJi.\u0275cmp=_.fd({type:PJi,selectors:[["iam-grant-recommendation-menu"]],inputs:{params:"params"},decls:2,vars:3,consts:()=>[["displayViewRecommendationDetailsMenu",""],[4,"ngIf"],["label","View analyzed permissions",3,"ve","veClick","click",4,"ngIf","ngIfElse"],["label","View analyzed permissions",3,"click","ve","veClick"],["label","View recommendation",3,"click","ve","veClick"],["label","Apply recommendation","cfcDisableTooltip","The recommendation needs to be reviewed. Click on 'View\n                                        Recommendation Details' for more information.",
3,"click","cfcDisable","cfcIamCheck","cfcIamResource","cfcIamOperator","ve","veClick"],["label","Dismiss recommendation","cfcDisable","","cfcIamCheck","recommender.iamPolicyRecommendations.update",3,"click","ve","veClick","cfcIamResource"]],template:function(a,b){a&1&&(_.D(0,cCi,6,3,"cfc-menu",1),_.X(1,"async"));a&2&&_.G("ngIf",_.Y(1,1,b.templateData$))},dependencies:[_.Tr,_.el,_.WA,_.sB,_.dw,_.$v,_.cw,_.jl],encapsulation:2,changeDetection:0});var QJi=class{};
QJi.\u0275fac=function(a){return new (a||QJi)};QJi.\u0275mod=_.gd({type:QJi});QJi.\u0275inj=_.Rc({imports:[_.Xr,_.kl,_.Qx,_.tB,_.iw,_.Bzi,_.WD,J$]});var fCi=(a,b,c,d)=>({insight:a,recommendation:b,resource:c,impactMetric:d}),eCi=a=>({$implicit:a}),RJi=class{};RJi.\u0275fac=function(a){return new (a||RJi)};
RJi.\u0275cmp=_.fd({type:RJi,selectors:[["iam-grant-recommendation-list-menu"]],inputs:{params:"params"},decls:4,vars:2,consts:()=>[["recommendationMenu",""],["label","Recommendation \ufffd0\ufffd"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"label","cfcMenuTriggerFor","cfcMenuTriggerData",4,"ngFor","ngForOf"],[3,"cfcMenuTriggerFor","cfcMenuTriggerData",6,"label"],[3,"params"]],template:function(a,b){a&1&&_.D(0,gCi,2,9,"ng-container",2)(1,iCi,4,1,"ng-container",2)(2,jCi,1,1,"ng-template",
null,0,_.fg);a&2&&(_.G("ngIf",1>=b.params.recommendations.length),_.z(),_.G("ngIf",1<b.params.recommendations.length))},dependencies:[_.dl,_.el,_.il,_.dw,_.$v,_.cw,_.gw,PJi],encapsulation:2,changeDetection:0});var SJi=class{};SJi.\u0275fac=function(a){return new (a||SJi)};SJi.\u0275mod=_.gd({type:SJi});SJi.\u0275inj=_.Rc({imports:[_.kl,_.iw,QJi]});var mCi=(a,b,c,d)=>({insight:a,recommendations:b,resource:c,impactMetric:d}),K$=class{set associatedRecommendationNames(a){this.associatedRecommendationNames$.next(a)}get associatedRecommendationNames(){return this.associatedRecommendationNames$.value}constructor(a,b,c){this.associatedRecsService=a;this.asyncTaskTracker=b;this.menuService=c;this.associatedRecommendationNames$=new _.wg;this.activeRoleRecommendationsOrError$=this.associatedRecommendationNames$.pipe(_.pe(_.mv),_.of(d=>this.asyncTaskTracker.runOutsideTracker(()=>
UIi(this.associatedRecsService,d))),_.kf({refCount:!0,bufferSize:1}));this.activeRoleRecommendations$=this.activeRoleRecommendationsOrError$.pipe(_.x(d=>{let e;return"Right"===d.tag?null!=(e=d.right)?e:[]:[]}));this.activeRoleRecommendationsErrors$=this.activeRoleRecommendationsOrError$.pipe(_.x(d=>{let e;return D$(d)?null!=(e=d.left)?e:void 0:void 0}))}};K$.\u0275fac=function(a){return new (a||K$)(_.A(VIi),_.A(_.ym),_.A(OJi))};
K$.\u0275cmp=_.fd({type:K$,selectors:[["iam-grant-insight-split-button"]],inputs:{resource:"resource",insight:"insight",impactMetric:"impactMetric",veWithRecommendation:"veWithRecommendation",veWithoutRecommendation:"veWithoutRecommendation",associatedRecommendationNames:"associatedRecommendationNames"},standalone:!0,features:[_.bg],ngContentSelectors:["*"],decls:4,vars:3,consts:()=>[["recommendationListMenu",""],["class","members-table-column-multi-line-item cfc-align-right cfc-nowrap",4,"ngIf"],
[1,"members-table-column-multi-line-item","cfc-align-right","cfc-nowrap"],[4,"ngIf"],[1,"cfc-button-small",3,"menuTemplate","menuTemplateData","primary"],["mat-button","","cfcButtonGroupItem","","color","primary","type","button",1,"cfc-font-weight-regular","cfc-text-button",3,"click","ve","veClick"],["icon","rec-bulb-blue","iconset","recommendations_hub","aria-label","Role recommendations available","role","img",4,"ngIf"],"icon;rec-bulb-blue;iconset;recommendations_hub;aria-label;Role recommendations available;role;img".split(";"),
[3,"params"]],template:function(a,b){a&1&&(_.Of(),_.D(0,nCi,8,14,"div",1),_.X(1,"async"),_.D(2,oCi,1,1,"ng-template",null,0,_.fg));a&2&&_.G("ngIf",_.Y(1,1,b.activeRoleRecommendations$))},dependencies:[_.Xr,_.Wr,_.Tr,_.At,_.yt,_.gp,_.xt,_.kl,_.el,_.jl,_.Do,_.so,XIi,SJi,RJi,J$,_.tC,_.rC],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var TJi=class{constructor(){this.IamLateralMoveInsightSubtaskWithRecommendationOpen=132327;this.IamLateralMoveInsightSubtaskWithoutRecommendationOpen=132326}};TJi.\u0275fac=function(a){return new (a||TJi)};
TJi.\u0275cmp=_.fd({type:TJi,selectors:[["iam-grant-lateral-movement-insight-item"]],inputs:{resource:"resource",lateralMovementInsight:"lateralMovementInsight",impactMetric:"impactMetric",policyInsight:"policyInsight",associatedRecommendationNames:"associatedRecommendationNames"},decls:1,vars:1,consts:()=>{var a=_.$r("{VAR_PLURAL, plural, =1 {service account impersonation} other {service account impersonations}}",{VAR_PLURAL:"\ufffd3\ufffd"});a=_.$r("[\ufffd#2\ufffd|\ufffd#4\ufffd]\ufffd0\ufffd[\ufffd/#2\ufffd|\ufffd/#4\ufffd][\ufffd#3\ufffd|\ufffd#5\ufffd]/\ufffd1\ufffd excess permissions and [\ufffd/#3\ufffd|\ufffd/#5\ufffd][\ufffd#2\ufffd|\ufffd#4\ufffd] \ufffd2\ufffd [\ufffd/#2\ufffd|\ufffd/#4\ufffd][\ufffd#3\ufffd|\ufffd#5\ufffd] "+
a+" [\ufffd/#3\ufffd|\ufffd/#5\ufffd]");let b;b=_.$r("{VAR_PLURAL, plural, =1 {service account impersonation} other {service account impersonations}}",{VAR_PLURAL:"\ufffd1\ufffd"});return[a,"\ufffd#2\ufffd \ufffd0\ufffd \ufffd/#2\ufffd\ufffd#3\ufffd "+b+" \ufffd/#3\ufffd",[3,"resource","insight","impactMetric","associatedRecommendationNames","veWithRecommendation","veWithoutRecommendation",4,"ngVar"],[3,"resource","insight","impactMetric","associatedRecommendationNames","veWithRecommendation","veWithoutRecommendation"],
[4,"ngIf"]]},template:function(a,b){a&1&&_.D(0,rCi,3,8,"iam-grant-insight-split-button",2);a&2&&_.G("ngVar",b.lateralMovementInsight.targetServiceAccountEmailAddresses.length)},dependencies:()=>[_.el,_.VD,K$],encapsulation:2,changeDetection:0});var UJi=class{};UJi.\u0275fac=function(a){return new (a||UJi)};UJi.\u0275mod=_.gd({type:UJi});UJi.\u0275inj=_.Rc({imports:[_.kl,_.WD,K$]});var VJi=class{transform(a){return"ACTIVE"===(null==a?void 0:a.state)}};VJi.\u0275fac=function(a){return new (a||VJi)};VJi.\u0275pipe=_.ld({name:"isInsightActive",type:VJi,pure:!0});var WJi=class{transform(a){return a.sort((b,c)=>{let d,e;d=b.iamPolicyInsight?2:0;e=c.iamPolicyInsight?2:0;d+=b.lateralMovementInsight?1:0;e+=c.lateralMovementInsight?1:0;return e-d})}};WJi.\u0275fac=function(a){return new (a||WJi)};WJi.\u0275pipe=_.ld({name:"sortInsightsByRecommendations",type:WJi,pure:!0});var XJi=class{};
XJi.\u0275fac=function(a){return new (a||XJi)};XJi.\u0275mod=_.gd({type:XJi});XJi.\u0275inj=_.Rc({});var YJi=class{constructor(){this.IamPolicyInsightSubtaskOpen=132331;this.IamRecommendationSubtaskOpen=132335}};YJi.\u0275fac=function(a){return new (a||YJi)};
YJi.\u0275cmp=_.fd({type:YJi,selectors:[["iam-grant-policy-insight-item"]],inputs:{resource:"resource",policyInsight:"policyInsight",impactMetric:"impactMetric",associatedRecommendationNames:"associatedRecommendationNames"},decls:4,vars:8,consts:()=>["\ufffd#2\ufffd\ufffd0\ufffd\ufffd/#2\ufffd\ufffd#3\ufffd/\ufffd1\ufffd excess permissions \ufffd/#3\ufffd",[3,"resource","insight","impactMetric","associatedRecommendationNames","veWithRecommendation","veWithoutRecommendation"]],template:function(a,
b){a&1&&(_.H(0,"iam-grant-insight-split-button",1),_.Kf(1,0),_.J(2,"b")(3,"span"),_.Lf(),_.I());a&2&&(_.G("resource",b.resource)("insight",b.policyInsight)("impactMetric",b.impactMetric)("associatedRecommendationNames",b.associatedRecommendationNames)("veWithRecommendation",b.IamRecommendationSubtaskOpen)("veWithoutRecommendation",b.IamPolicyInsightSubtaskOpen),_.z(3),_.Mf(b.policyInsight.currentTotalPermissionsCount-b.policyInsight.exercisedPermissions.length)(b.policyInsight.currentTotalPermissionsCount),
_.Nf(1))},dependencies:()=>[K$],encapsulation:2,changeDetection:0});var ZJi=class{};ZJi.\u0275fac=function(a){return new (a||ZJi)};ZJi.\u0275mod=_.gd({type:ZJi});ZJi.\u0275inj=_.Rc({imports:[_.kl,K$]});var $Ji=class{};$Ji.\u0275fac=function(a){return new (a||$Ji)};
$Ji.\u0275cmp=_.fd({type:$Ji,selectors:[["iam-grant-insight-group-item"]],inputs:{resource:"resource",impactMetric:"impactMetric",insightGroup:"insightGroup"},standalone:!0,features:[_.bg],decls:2,vars:3,consts:[[4,"ngVar"],[3,"resource","policyInsight","impactMetric","associatedRecommendationNames",4,"ngIf"],[3,"resource","lateralMovementInsight","policyInsight","impactMetric","associatedRecommendationNames",4,"ngIf"],[3,"resource","policyInsight","impactMetric","associatedRecommendationNames"],
[3,"resource","lateralMovementInsight","policyInsight","impactMetric","associatedRecommendationNames"]],template:function(a,b){a&1&&(_.D(0,vCi,3,3,"ng-container",0),_.X(1,"isInsightActive"));a&2&&_.G("ngVar",_.Y(1,1,b.insightGroup.iamPolicyInsight))},dependencies:[_.kl,_.el,XJi,VJi,UJi,TJi,_.WD,_.VD,ZJi,YJi],encapsulation:2,changeDetection:0});var aKi=new _.nd("SCC_PURVIEW_PREMIUM_STATUS_PROVIDER",{providedIn:"root",factory:()=>_.w(null)});var bKi=(a,b)=>{const c=_.cd(_.c1h),d=a.data.getPurviewForRoute;return d&&"function"===typeof d?(a=d(a,b))?yCi(c,a,null,null):_.w(null):_.wWh(_.cd(_.gu),b).pipe(_.of(e=>{a:switch(e.type){case 0:var f=e.reference;break a;default:f=null}const g=wCi(e);return(f||g)&&e.reference?yCi(c,e.reference,f,g):_.w(null)}),_.Ne(null))};new _.nd("resolvePurviewPremiumStatus",{providedIn:"root",factory:()=>bKi});var cKi=class extends _.pi{constructor(){super();this.project=new _.Dm("query","project");this.organizationId=new _.Dm("query","organizationId");this.folder=new _.Dm("query","folder");_.Bm(this,["security","command-center","config"])}},ACi=class extends cKi{constructor(){super();this.upgrade=new _.ztb("matrix","upgrade");this.afterUpgradeUrl=new _.Dm("query","afterUpgradeUrl");_.Bm(this,["tiers-page"])}};var dKi={displayType:1,label:"Get Premium",openInNewTab:!1},eKi=class{set buttonConfig(a){this.buttonConfig$.next(Object.assign({},dKi,a))}set purviewPremiumStatus(a){a&&this.purviewPremiumStatus$.next(a)}constructor(a){this.linkService=a;this.buttonConfig$=new _.wg(dKi);this.purviewPremiumStatus$=new _.ff(1);this.button$=_.ce([this.purviewPremiumStatus$,this.buttonConfig$]).pipe(_.x(([b,c])=>Object.assign({},c,{ve:{ve:199681,veClick:!0},disabled:{value:"STANDALONE_PROJECT"===b.premiumStatus,tooltip:{value:"Your project needs to be a part of an organization in order to use Security Command Center.",
interactive:!0,tooltipAction:{action:()=>this.linkService.navigate({docLink:VGi}),label:"Learn more"}}},action:{link:BCi(b,c)}})))}};eKi.\u0275fac=function(a){return new (a||eKi)(_.A(_.A7))};
eKi.\u0275cmp=_.fd({type:eKi,selectors:[["cscc-upgrade-button"]],inputs:{buttonConfig:"buttonConfig",purviewPremiumStatus:"purviewPremiumStatus"},decls:2,vars:3,consts:[[3,"content",4,"ngIf"],[3,"content"]],template:function(a,b){a&1&&(_.D(0,zCi,1,1,"raf-button",0),_.X(1,"async"));a&2&&_.G("ngIf",_.Y(1,1,b.button$))},dependencies:[_.el,_.U7,_.jl],encapsulation:2,changeDetection:0});var fKi=[_.kl,_.f8],gKi=class{};gKi.\u0275fac=function(a){return new (a||gKi)};gKi.\u0275mod=_.gd({type:gKi});
gKi.\u0275inj=_.Rc({imports:[fKi]});var JCi=a=>({color:a}),hKi=class{set insightGroup(a){this.insightGroup$.next(a)}get insightGroup(){return this.insightGroup$.getValue()}set role(a){this.roleName$.next(a.name)}constructor(a){this.crmResourceService=a;this.Color=KHi;this.CONSOLE__SECURITY_COMMAND_CENTER=WGi;this.ve={IamPremiumInsightsPromoDisabledButton:201001,IamPremiumInsightsPromoTooltip:200142};this.insightGroup$=new _.wg;this.roleName$=new _.ff(1);this.resource$=this.insightGroup$.pipe(_.pe(_.mv),_.of(b=>{b=QGi(b.fullResourceName);
return this.crmResourceService.getResource({id:b.getResourceId(),type:b.getResourceType()})}));this.purviewPremiumStatus$=_.cd(aKi);this.showAdvancedInsightUnavailable$=_.Bc(TIi)?_.ce([this.purviewPremiumStatus$,this.roleName$]).pipe(_.x(([b,c])=>"NON_PREMIUM"===(null==b?void 0:b.premiumStatus)&&!_.A7b(c))):_.w(!1)}};hKi.\u0275fac=function(a){return new (a||hKi)(_.A(_.cu))};
hKi.\u0275cmp=_.fd({type:hKi,selectors:[["iam-role-insight-group"]],inputs:{insightGroup:"insightGroup",role:"role",impactMetric:"impactMetric"},standalone:!0,features:[_.bg],decls:4,vars:2,consts:()=>[["sccNonPremiumTooltip",""],["premiumPromotion",""],["emptyLine",""]," Advanced security insight "," Requires Security Command Center Premium "," Advanced IAM Recommender features, including security insights and role recommendations for non-basic roles, are available for customers with Security Command Center Premium. \ufffd#5\ufffdLearn more about Security Command Center Premium\ufffd/#5\ufffd",
[4,"ngIf"],["class","members-table-column-multi-line-item",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"resource","insightGroup","impactMetric"],[1,"members-table-column-multi-line-item"],[4,"ngIf","ngIfThen","ngIfElse"],["mat-button","",1,"cfc-text-button",3,"ve","veImpression","cfcDisable","cfcDisableTooltipRich","cfcDisableTooltip"],[3,"ve","veImpression"],[1,"cfc-space-below-minus-4","cfc-text-body-strong"],[3,"cfcDocLink"],[1,"cfc-space-last"],[3,"purviewPremiumStatus","buttonConfig",4,"ngIf"],[3,"purviewPremiumStatus",
"buttonConfig"]],template:function(a,b){a&1&&_.D(0,ECi,3,3,"ng-container",6)(1,ICi,7,5,"div",7)(2,LCi,9,6,"ng-template",null,0,_.fg);a&2&&(_.G("ngIf",b.insightGroup&&0<b.insightGroup.activeInsightMetadata.activeInsightCount),_.z(),_.G("ngIf",!b.insightGroup||0==b.insightGroup.activeInsightMetadata.activeInsightCount))},dependencies:[_.Xr,_.Wr,_.Tr,_.At,_.yt,_.gp,_.xt,_.kl,_.dl,_.el,_.jl,_.Qx,_.Jx,_.Yx,_.ms,XJi,WJi,$Ji,_.EE,gKi,eKi],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var iKi=class{};iKi.\u0275fac=function(a){return new (a||iKi)};
iKi.\u0275cmp=_.fd({type:iKi,selectors:[["iam-grant-role-title"]],inputs:{insightGroup:"insightGroup",sourcedRole:"sourcedRole"},standalone:!0,features:[_.bg],decls:7,vars:8,consts:[[1,"cfc-nowrap","members-table-column-multi-line-item"],[1,"iam-role-title"],[4,"ngIf"],[3,"insightGroup"]],template:function(a,b){a&1&&(_.H(0,"div",0)(1,"span",1),_.S(2),_.X(3,"getRoleLabel"),_.I(),_.D(4,MCi,1,0,"iam-owner-pending-invite-button",2)(5,NCi,1,0,"non-grantable-role-button",2),_.I(),_.J(6,"iam-insight-group-blank-lines",
3));a&2&&(_.z(),_.Bf("cfc-color-disabled",b.sourcedRole.invitee||b.sourcedRole.nonGrantable),_.z(),_.V(" ",_.Y(3,6,b.sourcedRole.role)," "),_.z(2),_.G("ngIf",b.sourcedRole.invitee),_.z(),_.G("ngIf",b.sourcedRole.nonGrantable),_.z(),_.G("insightGroup",b.insightGroup))},dependencies:[QIi,_.At,_.kl,_.el,_.zE,_.Do,_.JH,_.Grc,_.KH,_.Hrc,_.Ou],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var jKi=function(a,b){return _.ce([qIi(a.lateralInsightsService,b),qIi(a.iamPolicyInsightsService,b)]).pipe(_.x(([c,d])=>{var e=[];"Right"===c.tag&&e.push(...c.right);"Right"===d.tag&&e.push(...d.right);e=PCi(e).map(l=>{var m=OCi(l.insights);m={fullResourceName:l.fullResourceName,roleName:l.roleName,member:l.member,insightsByRecommendations:m,activeInsightMetadata:UAi(m.map(t=>t.activeInsightMetadata))};l.condition&&(m.condition=l.condition);return m});let f=!1;const g={partialInsightGroups:e};D$(c)&&
(f=!0,g.listLateralInsightsError=c.left);D$(d)&&(f=!0,g.listPolicyInsightsError=d.left);return f?gBi(g):C$(e)}),_.kf({refCount:!0,bufferSize:1}))},kKi=class{constructor(a,b){this.lateralInsightsService=a;this.iamPolicyInsightsService=b}};kKi.\u0275fac=function(a){return new (a||kKi)(_.k(HIi),_.k(IIi))};kKi.\u0275prov=_.h({token:kKi,factory:kKi.\u0275fac,providedIn:"root"});var lKi=["recommender.iamPolicyInsights.get","recommender.iamPolicyInsights.list"],mKi=["recommender.iamPolicyLateralMovementInsights.get","recommender.iamPolicyLateralMovementInsights.list"],nKi=["recommender.iamPolicyRecommendations.get","recommender.iamPolicyRecommendations.list"],oKi={readPolicyInsightsPermissions:lKi,readLateralMovementInsightsPermissions:mKi,readRecommendationsPermissions:nKi,updateRecommendationPermission:"recommender.iamPolicyRecommendations.update"},pKi=new Map([[2,oKi],
[43,oKi],[0,oKi]]),qKi=class{};qKi.\u0275fac=function(a){return new (a||qKi)};qKi.\u0275prov=_.h({token:qKi,factory:qKi.\u0275fac,providedIn:"root"});var rKi=[...lKi,...mKi,...nKi],sKi=function(a,b){return a.iamPermissionsService.preFetchPermissions(rKi,[b]).pipe(_.x(()=>rKi.every(c=>a.iamPermissionsService.can(c,b))))},tKi=class{constructor(a){this.iamPermissionsService=a}};tKi.\u0275fac=function(a){return new (a||tKi)(_.k(_.Ir))};tKi.\u0275prov=_.h({token:tKi,factory:tKi.\u0275fac,providedIn:"root"});var uKi=class{constructor(a){this.insightGroupings=a;this.groupsByResourceRoleAndUser=new Map;this.groupByPolicyBinding=new Map;for(const c of this.insightGroupings){var b=c.condition;a=`${c.fullResourceName}:${c.member}:${c.roleName}`;b=`${a}:${b?_.bH(b):""}`;this.groupsByResourceRoleAndUser.has(a)?this.groupsByResourceRoleAndUser.get(a).push(c):this.groupsByResourceRoleAndUser.set(a,[c]);this.groupByPolicyBinding.set(b,c)}}};var vKi=class{constructor(a,b,c){this.asyncTaskTracker=a;this.insightGroupingService=b;this.insightGroupsPermissionsChecker=c}getState(a){const b=new _.ff(1),c=pKi.has(a.getResourceType())?b.pipe(_.of(()=>sKi(this.insightGroupsPermissionsChecker,a)),_.kf({refCount:!0,bufferSize:1})):_.w(!1),d=c.pipe(_.Re(),_.of(f=>f?this.asyncTaskTracker.runOutsideTracker(()=>jKi(this.insightGroupingService,a)):_.w(void 0)),_.kf({refCount:!0,bufferSize:1})),e=d.pipe(_.x(f=>f?D$(f):!1),_.kf({refCount:!0,bufferSize:1}));
return{policyInsightGroupMap$:d.pipe(_.x(f=>f&&"Right"===f.tag?new uKi(f.right):void 0),_.kf({refCount:!0,bufferSize:1})),listInsightGroupsError$:e,canViewInsightGroups$:c,policyChanged$:b}}};vKi.\u0275fac=function(a){return new (a||vKi)(_.k(_.ym),_.k(kKi),_.k(tKi),_.k(qKi))};vKi.\u0275prov=_.h({token:vKi,factory:vKi.\u0275fac,providedIn:"root"});var nDi=()=>["member"],wKi=[2,3,4,5],xKi={LOADING:0,LOADED:1,0:"LOADING",1:"LOADED"},AKi=function(a,b,c,d){const e=b.roles,f=b.iamMember,g=a.policyInsightGroupMap$.pipe(_.x(y=>null!=y?y:new uKi([])),_.x(y=>e.map(B=>{var E=y.groupByPolicyBinding;var F=E.get;var P=B.condition;P=`${`${c}:${f}:${B.role.name}`}:${P?_.bH(P):""}`;E=F.call(E,P);return{sourcedRole:B,insightGroup:E}})),_.x(y=>y.sort((B,E)=>_.tE(B.sourcedRole.role).localeCompare(_.tE(E.sourcedRole.role)))),_.kf({bufferSize:1,refCount:!0})),
l=g.pipe(_.x(y=>{y=y.filter(B=>!!B.insightGroup).map(B=>B.insightGroup.activeInsightMetadata);y=UAi(y);return Array.from(y.activeInsightTypes).map(B=>{a:switch(B){case "iamPolicy":B="Excess permissions";break a;case "lateralMove":B="Cross-project impersonation";break a;default:throw Error("uq`"+B);}return B})})),m=e.map(y=>{const B=y.invitee,E=y.condition||void 0,F=y.role;y=y.inheritedFrom[0];y=SBi(y,a.resource)?y:void 0;return{role:F,inheritedFrom:y,condition:E,invitee:B}});d=yKi(b,d)?"google-managed":
b.type;const t=m.map(y=>y.inheritedFrom),u=t.every(_.mv),v=m.map(y=>y.condition);return{rowID:b.iamMember,type:d,iamMember:b.iamMember,displayName:b.displayName,description:a.getDescriptionOutsideSLO(b.iamMember,d),roles:m.map(y=>y.role),roleTitles:m.map(y=>_.tE(y.role)),invitee:m.map(y=>y.invitee),conditions:v,filteredConditions:v.some(_.mv)?v:void 0,inheritance:t,allInherited:u,inheritedResourceNames:zKi(a,t),sourcedRolesWithInsightGroups:g,insightTypes:l}},BKi=function(a,b){if(a.tableFilters){var c=
new Map;for(var d of b)for(var e of d.roles)c.set(e.name,e);b=[];for(const g of a.tableFilters){0<b.length&&b.push(new _.Zx("","OR",10,!0));if(g.principalType){d=b;e=d.push;var f=_.Pkc.get(g.principalType);f=new _.Zx("Type",f);e.call(d,f)}g.member&&b.push(new _.Zx("",g.member));if(g.roleIds)for(const l of g.roleIds)d=c.get(l)||l,b.push(new _.Zx("Role","string"===typeof d?d:_.tE(d)))}a.filterChips=b;a.tableFilters=void 0}},yKi=function(a,b){a=a.serviceAccountInfo;return b&&a?!!a.isApiServiceAgent:
!1},CKi=function(a,b){b=b.map(c=>c?a.crmResourceService.getResource({id:c.getResourceId(),type:c.getResourceType()}).pipe(_.Je(()=>_.w(c))):_.w(void 0));return _.ce(b).pipe(_.x(c=>c.map(d=>d?d.getDisplayName()||d.getResourceId()||"":"No inheritance")),_.kf(1))},zKi=function(a,b){return a.asyncTaskTracker.runOutsideTracker(()=>CKi(a,b))},DKi=class{set resource(a){this.resourceAttribute$.next(a)}get resource(){return this.resourceAttribute$.getValue()}set roleFilter(a){this.rolefilter$.next(a)}set tableMessage(a){this.inputTableMessage$.next(a)}set includePermissionsWithRoles(a){this.includePermissionsWithRoles$.next(a)}set showGoogleManagedAccounts(a){this.showGoogleManagedAccountsSubject$.next(a)}get showGoogleManagedAccounts(){return this.showGoogleManagedAccountsSubject$.value}set skipVisibilityChecks(a){this.skipVisibilityChecks$.next(a)}set hideSecurityRecommendations(a){this.hideSecurityRecommendations$.next(a)}constructor(a,
b,c,d,e,f,g,l,m,t){this.asyncTaskTracker=a;this.crmResourceService=b;this.memberDescriptionService=c;this.memberInsightGroupsService=d;this.parentResourceService=e;this.policyService=f;this.purviewService=g;this.recommendationMenuServiceEvents=l;this.clientTableFactory=t;this.dl={CONSOLE__IAM_HELP_RECOMMENDATIONS_ROLES:TGi};this.resourceAttribute$=new _.wg;this.resource$=this.resourceAttribute$.pipe(_.pe(_.mv));this.rolefilter$=new _.wg;this.inputTableMessage$=new _.wg;this.clientTableManager=this.clientTableFactory.createTableManager();
this.tableMessage$=_.ce([this.clientTableManager.getPageData(),this.inputTableMessage$]).pipe(_.x(([u,v])=>{let y;return null!=(y=null==u?void 0:u.message)?y:v}));this.includePermissionsWithRoles$=new _.wg(!1);this.showGoogleManagedAccountsSubject$=new _.wg(!0);this.skipVisibilityChecks$=new _.wg(!0);this.hideSecurityRecommendations$=new _.wg(!1);this.bulkActionRowsChanged=new _.Nk;this.selectedMemberRows=[];this.listInsightGroupsErrorChanged=new _.Nk;this.onPolicyUpdate=new _.Nk;this.destroy$=new _.hf;
this.ROLE_FILTER_HEADER="Role";this.RECOMMENDATION_FILTER_HEADER="Security insight type";this.PRINCIPAL_TYPE_FILTER_HEADER="Type";this.DisplayState=xKi;this.refreshRoleMembers$=new _.wg;this.newRoleCreated$=this.resource$.pipe(_.of(u=>MJi(this.recommendationMenuServiceEvents,u)),_.$e());this.tableLoadData$=_.ce([this.resource$,this.skipVisibilityChecks$,this.includePermissionsWithRoles$,this.refreshRoleMembers$]).pipe(_.of(([u,v,y])=>_.Knc(this.policyService,u,{skipVisibilityCheck:v,includePermissions:y}).pipe(_.x(B=>
({state:1,roleMembers:B})),_.nf({state:0}))),_.C(this.destroy$),_.kf(1));this.roleMembers$=this.tableLoadData$.pipe(_.pe(u=>1===u.state),_.x(u=>u.roleMembers));this.serviceAccountType=4;this.resourceLabel$=this.resource$.pipe(_.x(u=>_.Wqc(u.getResourceType())));this.fullResourcePath$=this.resource$.pipe(_.of(u=>pIi(this.parentResourceService,u)),_.kf({bufferSize:1,refCount:!0}));this.policyChanged$=new _.ff(1);this.policyChangedFromMenu$=this.resource$.pipe(_.of(u=>LJi(this.recommendationMenuServiceEvents,
u)),_.$e());this.resourceChanged$=this.resource$.pipe(_.lf(1));this.insightGroupsState$=this.resource$.pipe(_.x(u=>this.memberInsightGroupsService.getState(u)),_.qf(u=>{this.policyChanged$.pipe(_.C(_.qe(this.destroy$,this.resourceChanged$))).subscribe(u.policyChanged$)}),_.kf({bufferSize:1,refCount:!0}));this.canViewInsightGroups$=this.insightGroupsState$.pipe(_.pe(_.mv),_.of(u=>u.canViewInsightGroups$));this.listInsightGroupsError$=this.insightGroupsState$.pipe(_.pe(_.mv),_.of(u=>u.listInsightGroupsError$));
this.policyInsightGroupMap$=this.insightGroupsState$.pipe(_.pe(_.mv),_.of(u=>u.policyInsightGroupMap$));this.doesResourceSupportRecColumn$=this.resource$.pipe(_.x(u=>pKi.has(u.getResourceType())));this.showRecsColumn$=_.ce([this.hideSecurityRecommendations$,this.doesResourceSupportRecColumn$]).pipe(_.of(([u,v])=>u||!v?_.w(!1):this.canViewInsightGroups$),_.Re());this.projectIds$=_.eu(this.purviewService).pipe(_.x(u=>u?[u.getResourceId()]:[]));this.clientColumnsConfig=[{id:"member",accessor:u=>u.displayName},
{id:"type",accessor:u=>"google-managed"===u.type?"google-managed":_.Pkc.get(u.type)},{id:"name",accessor:u=>u.description},{id:"role",accessor:u=>u.roleTitles},{id:"inheritance",accessor:u=>u.inheritedResourceNames},{id:"condition",accessor:u=>u.conditions.map(v=>v?v.displayName:"")},{id:"action",accessor:()=>{}},{id:"permissions",accessor:u=>u.insightTypes}];this.typeShorthands=wKi.map(u=>({kind:"shorthand",suggestion:_.Pkc.get(u),key:"type",icon:_.Nkc.get(u),iconset:2===u?"common":"iam"}));this.DEFAULT_FULL_BLEED_CONFIG=
_.iPb;this.filterChips=[];this.cloudProductsIcon=_.TBb}ngOnInit(){this.roleMembers$.pipe(_.C(this.destroy$),_.qf(()=>{this.policyChanged$.next()})).subscribe();this.listInsightGroupsError$.pipe(_.C(this.destroy$)).subscribe(b=>{this.listInsightGroupsErrorChanged.emit(b)});const a=_.ce([this.roleMembers$,_.eu(this.purviewService),this.fullResourcePath$]).pipe(_.C(this.destroy$),_.x(([b,c,d])=>b.map(e=>AKi(this,e,d,c))));_.ce([a,this.showGoogleManagedAccountsSubject$,this.rolefilter$]).pipe(_.x(([b,
c,d])=>{b=c?b:b.filter(e=>"google-managed"!==e.type);void 0!==d&&(b=b.filter(e=>e.roles.some(f=>d(f))));return b})).pipe(_.C(this.destroy$)).subscribe(b=>{this.clientTableManager.rows=b;BKi(this,b)});this.policyChangedFromMenu$.pipe(_.C(this.destroy$)).subscribe(this.policyChanged$);this.newRoleCreated$.pipe(_.C(this.destroy$)).subscribe(this.refreshRoleMembers$)}ngOnChanges(a){a.tableFilters&&this.clientTableManager.rows&&BKi(this,this.clientTableManager.rows)}ngOnDestroy(){this.destroy$.next()}getDescriptionOutsideSLO(a,
b){return _.uh()&&4!==b?_.w(null):this.asyncTaskTracker.runOutsideTracker(()=>{const c=this.projectIds$.pipe(_.of(d=>this.memberDescriptionService.getDescription(a,d)));c.subscribe();return c})}};DKi.\u0275fac=function(a){return new (a||DKi)(_.A(_.ym),_.A(_.cu),_.A(_.TH),_.A(vKi),_.A(H$),_.A(_.dH),_.A(_.gu),_.A(NJi),_.A(qKi),_.A(_.Kz))};
DKi.\u0275cmp=_.fd({type:DKi,selectors:[["cfc-iam-members-table"]],inputs:{resource:"resource",importantMembers:"importantMembers",hideTopBorder:"hideTopBorder",conditionsDisabledTooltip:"conditionsDisabledTooltip",tableFilters:"tableFilters",impactMetric:"impactMetric",tableCaptionId:"tableCaptionId",roleFilter:"roleFilter",tableMessage:"tableMessage",includePermissionsWithRoles:"includePermissionsWithRoles",showGoogleManagedAccounts:"showGoogleManagedAccounts",fullBleedConfig:"fullBleedConfig",
skipVisibilityChecks:"skipVisibilityChecks",hideSecurityRecommendations:"hideSecurityRecommendations",preselectedRolesForAdd:"preselectedRolesForAdd"},outputs:{bulkActionRowsChanged:"bulkActionRowsChanged",listInsightGroupsErrorChanged:"listInsightGroupsErrorChanged",onPolicyUpdate:"onPolicyUpdate"},features:[_.rd],decls:3,vars:3,consts:()=>["\n            Security insights\n          ","\n            Security insights show patterns in how a principal accesses a resource. Using machine\n            learning, Google Cloud analyzes these insights to recommend ways to safely make those\n            principals more secure.\n            \ufffd#7\ufffd\n              \ufffd#8\ufffd\n                Learn more\n              \ufffd/#8\ufffd\n            \ufffd/#7\ufffd\n          ",
[4,"ngIf"],[3,"isLoading"],["selectionMode","multiple",3,"primaryColumnId","columnsConfig","sortKeys","rowsPerPage","showFilter","showColumnsChooser","filterChips","showSelectionControls","disableRowClick","externalTableCaptionId","tableManager","disableTableManagerMessages","fullBleedConfig","pagination","message","hideTopBorder","tableRendererV2","bulkActionRowsChanged",4,"ngIf"],["selectionMode","multiple",3,"bulkActionRowsChanged","primaryColumnId","columnsConfig","sortKeys","rowsPerPage","showFilter",
"showColumnsChooser","filterChips","showSelectionControls","disableRowClick","externalTableCaptionId","tableManager","disableTableManagerMessages","fullBleedConfig","pagination","message","hideTopBorder","tableRendererV2"],[3,"onIamSave","resource","conditionsDisabledTooltip","preselectedRolesForAdd"],[3,"onRemoveMembers","resource","importantMembers","selectedMemberRows"],["id","type","type","string",3,"header","noPadding","shorthands"],[4,"cfcTableTemplate"],"id member header Principal type string".split(" "),
["id","name","header","Name","type","string",4,"ngIf"],["id","role","type","string",3,"header","sortDisabled"],["id","permissions","cellAlignment","right","type","string",3,"header","sortDisabled",4,"ngIf"],["id","inheritance","header","Inheritance","type","string",4,"ngIf"],["id","condition","header","Conditions","type","string",4,"ngIf"],["id","action","header","","ariaLabel","Actions","sticky","right","type","non_filterable",3,"sortDisabled","nonHideable","noPadding",4,"ngIf"],[3,"type",4,"ngIf"],
["class","cfctest-iam-member-type-icon cfc-color-secondary\n                          cm-icon--vertical-align-cap-middle","cfcTooltip","Google-managed service account",3,"icon",4,"ngIf"],[3,"type"],["cfcTooltip","Google-managed service account",1,"cfctest-iam-member-type-icon","cfc-color-secondary","cm-icon--vertical-align-cap-middle",3,"icon"],"id name header Name type string".split(" "),[3,"serviceAccount","projectIds"],["class","members-table-column-display-block",3,"cfc-space-above-minus-3","insightGroup",
"sourcedRole",4,"ngFor","ngForOf"],[1,"members-table-column-display-block",3,"insightGroup","sourcedRole"],["id","permissions","cellAlignment","right","type","string",3,"header","sortDisabled"],["ariaLabel","Help with security insights"],[1,"cfc-button-align-left"],["mat-button","","color","primary","aria-label","Learn more about the security insights column",3,"cfcDocLink"],["class","cfctest-role-insight-group members-table-column-display-block",3,"cfc-space-above-minus-3","role","insightGroup",
"impactMetric",4,"ngFor","ngForOf"],[1,"cfctest-role-insight-group","members-table-column-display-block",3,"role","insightGroup","impactMetric"],"id inheritance header Inheritance type string".split(" "),["class","members-table-column-display-block",3,"cfc-space-above-minus-3","insightGroup","sourcedRole","tableResource",4,"ngFor","ngForOf"],[1,"members-table-column-display-block",3,"insightGroup","sourcedRole","tableResource"],"id condition header Conditions type string".split(" "),["id","action",
"header","","ariaLabel","Actions","sticky","right","type","non_filterable",3,"sortDisabled","nonHideable","noPadding"],[3,"member","inherited","resourceLabel","resource"]],template:function(a,b){a&1&&(_.D(0,pDi,8,4,"ng-container",2),_.X(1,"async"),_.S(2,"\n"));a&2&&_.G("ngIf",_.Y(1,1,b.tableLoadData$))},dependencies:()=>[_.qsc,_.yt,_.xu,_.xt,_.dl,_.el,_.Cz,_.rsc,_.Sx,_.fo,_.qE,_.tG,OIi,RIi,SIi,hKi,iKi,_.Bsc,_.fA,_.Lz,_.Mz,_.aB,_.hA,_.Mu,_.Au,_.jl,EKi,FKi],styles:[".members-table-column-display-block[_ngcontent-%COMP%]{display:block}.members-table-column-multi-line-item[_ngcontent-%COMP%], .members-table-column-multi-line-item[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:20px!important;line-height:20px!important}"],
changeDetection:0});var FKi=class{transform(a){return a?a.every(b=>!b.inheritance.some(_.mv)):!0}};FKi.\u0275fac=function(a){return new (a||FKi)};FKi.\u0275pipe=_.ld({name:"shouldHideInheritanceColumn",type:FKi,pure:!0,standalone:!0});var EKi=class{transform(a){return a?a.every(b=>!b.filteredConditions):!0}};EKi.\u0275fac=function(a){return new (a||EKi)};EKi.\u0275pipe=_.ld({name:"shouldHideConditionsColumn",type:EKi,pure:!0,standalone:!0});var GKi=class{};
GKi.\u0275fac=function(a){return new (a||GKi)};GKi.\u0275mod=_.gd({type:GKi});GKi.\u0275inj=_.Rc({imports:[_.PH,_.At,_.kl,_.Yx,_.QH,_.Ux,_.RH,_.go,$Ji,_.rE,_.uG,_.eH,_.hu,_.Czi,PIi,RIi,SIi,hKi,iKi,_.SH,_.jA,_.Tx,_.Ou]});var HKi=class{constructor(a,b,c,d,e,f){this.navigationIdleState=a;this.cmMatTab=b;this.cmMatTabGroup=c;this.templateRef=d;this.viewContainer=e;this.changeDetector=f;this.initialized=!1;this.doneSubject=new _.hf;let g;this.requestIdleCallback=(null!=(g=window.requestIdleCallback)?g:m=>setTimeout(m,this.timeout/10)).bind(window);let l;this.cancelIdleCallback=(null!=(l=window.cancelIdleCallback)?l:clearTimeout).bind(window);this.requestIdleCallbackId=0;this.lazyTabInit=new _.Nk;this.preload=!0;this.timeout=
1E3}set condition(a){a&&this.init()}ngOnInit(){this.preload&&this.navigationIdleState.onValueChangeFilterReplay().pipe(_.We(a=>a),_.C(this.doneSubject)).subscribe(()=>{this.initialized||(this.requestIdleCallbackId=this.requestIdleCallback(()=>{this.init()},{timeout:this.timeout}))});this.cmMatTabGroup.selectedIndexChange.pipe(_.C(this.doneSubject)).subscribe(()=>{this.cmMatTab.isActive&&this.init()})}ngAfterViewChecked(){this.cmMatTab.isActive&&this.init()}ngOnDestroy(){this.doneSubject.next();this.doneSubject.complete();
this.cancelIdleCallback(this.requestIdleCallbackId);this.requestIdleCallbackId=0}init(){this.initialized||(this.cancelIdleCallback(this.requestIdleCallbackId),this.requestIdleCallbackId=0,Promise.resolve().then(()=>{this.viewContainer.createEmbeddedView(this.templateRef);this.changeDetector.markForCheck();this.lazyTabInit.emit()}),this.initialized=!0)}};HKi.\u0275fac=function(a){return new (a||HKi)(_.A(_.Zn),_.A(_.vq,8),_.A(_.wq,8),_.A(_.Rf),_.A(_.Sf),_.A(_.Wk))};
HKi.\u0275dir=_.id({type:HKi,selectors:[["","lazyTab",""]],inputs:{condition:[0,"lazyTab","condition"],preload:[0,"lazyTabPreload","preload"],timeout:[0,"lazyTabPreloadTimeout","timeout"]},outputs:{lazyTabInit:"lazyTabInit"}});var IKi=class{};IKi.\u0275fac=function(a){return new (a||IKi)};IKi.\u0275mod=_.gd({type:IKi});IKi.\u0275inj=_.Rc({imports:[_.nA]});var JKi=new _.nd("required_role_permissions"),KKi=new _.nd("target_role_names"),LKi=new _.nd("permissions_filter"),NKi=function(a,b){return a.iamRolesService.queryGrantableRoles(b,a.queryOptions).pipe(_.x(c=>c.filter(d=>MKi(a,d))))},PKi=function(a,b){return a.iamRolesService.queryGrantableRoles(b,a.queryOptions).pipe(_.x(c=>c.filter(d=>OKi(a,d))))},OKi=function(a,b){b=b.includedPermissions;if(!b)return!1;if("permissionFilter"in a.permissionFilterOrRequiredPermissions)return b.some(a.permissionFilterOrRequiredPermissions.permissionFilter);
const c=a.permissionFilterOrRequiredPermissions.requiredPermissions;return b.some(d=>c.includes(d))},MKi=function(a,b){return a.targetRoleNames.some(c=>c===b.name)},QKi=class{constructor(a,b,c,d){this.iamRolesService=a;this.targetRoleNames=b;this.queryOptions={includePermissions:!0,skipVisibilityCheck:!1};this.permissionFilterOrRequiredPermissions=null!==c?{permissionFilter:c}:null!==d?{requiredPermissions:d}:void 0}queryGrantableRoles(a){return null!==this.targetRoleNames?NKi(this,a):PKi(this,a)}};
QKi.\u0275fac=function(a){return new (a||QKi)(_.k(_.oE),_.k(KKi,8),_.k(LKi,8),_.k(JKi,8))};QKi.\u0275prov=_.h({token:QKi,factory:QKi.\u0275fac});[..._.Snc];var RKi=new _.yk("45429252");var xDi=(a,b,c,d,e,f,g,l,m)=>({fullBleedConfig:a,canEdit:!0,resource:b,roleData:c,tableCaptionId:d,showGoogleManagedAccounts:e,conditionsDisabledTooltip:f,roleFilter:g,tableMessage:l,hideTopBorder:!0,preselectedRolesForAdd:m}),SKi={pageSelector:{startingPoint:{index:0},endingPoint:{maxResults:500}},cacheParameters:{cacheOptions:{statusOverride:"BYPASS_CACHE"}}},TKi={mode:"never",keepTopPadding:!0},BDi=["members","roles"],UKi=new Map([...BDi.entries()].map(([a,b])=>[b,a])),VKi={UNSPECIFIED:1,INCLUDE_GOOGLE_MANAGED_ACCOUNTS:2,
INCLUDE_ALL_ROLES:3,1:"UNSPECIFIED",2:"INCLUDE_GOOGLE_MANAGED_ACCOUNTS",3:"INCLUDE_ALL_ROLES"},WKi=class{transform(a){return UKi.get(a)}};WKi.\u0275fac=function(a){return new (a||WKi)};WKi.\u0275pipe=_.ld({name:"toTabIndex",type:WKi,pure:!0});
var XKi=class{set resource(a){this.resource$.next(a)}set showGoogleManagedAccountFilter(a){this.showGoogleManagedFilterChanged$.next(a)}set rolesFilterConfig(a){this.rolesFilterConfig$.next(a)}constructor(a,b,c,d,e,f){this.analyticsService=a;this.iamRolesService=b;this.recsColiseumService=c;this.purviewService=d;this.roleListFiltered=e;this.targetRoleNames=f;this.dl={CONSOLE__IAM_HELP_SERVICE_ACCOUNTS_GOOGLE_MANAGED:UGi};this.memberTableSelectedRows=[];this.viewMode="members";this.showGoogleManagedFilterChanged$=
new _.wg(!1);this.resource$=new _.wg;this.fullBleed=!1;this.tableFilters=[];this.skipVisibilityChecks=!0;this.rolesFilterConfig$=new _.wg;this.hideSecurityRecommendations=!1;this.viewModeChanged=new _.Nk;this.listInsightGroupsErrorChanged=new _.Nk;this.onPolicyUpdate=new _.Nk;this.InclusionMode=VKi;this.ve={IamPageViewModeMembers:62843,IamPageViewModeRoles:62844};this.showGoogleManagedAccounts=new _.et(!1);this.showAllRoles=new _.et(!1);this.showAllRolesValue$=_.he(()=>this.showAllRoles.valueChanges.pipe(_.nf(this.showAllRoles.value)));
this.shouldShowGoogleManagedFilter$=_.ce([this.showGoogleManagedFilterChanged$,_.eu(this.purviewService)]).pipe(_.x(([g,l])=>!!l&&g),_.kf({refCount:!0,bufferSize:1}));this.permissionsRoleFilter=g=>OKi(this.roleListFiltered,g);this.rolesFilter=g=>MKi(this.roleListFiltered,g);this.TABLE_NEVER_FULL_BLEED_CONFIG=TKi;this.isIAMPolicyDeleteGuardrailExperimentEnabled=_.Bc(RKi);this.importantMembers$=this.resource$.pipe(_.of(g=>this.isIAMPolicyDeleteGuardrailExperimentEnabled&&g&&0===g.getResourceType()?
_.bh(()=>_.irc(this.recsColiseumService,{projectId:g.getResourceId()},SKi)):_.w([])),_.Je(g=>{g.errorExperience=6;return _.w([])}),_.x(g=>{const l=new Set;for(const m of g){let t,u,v,y,B,E,F;l.add(null!=(F=null==(t=m)?void 0:null==(u=t.overview)?void 0:null==(v=u.changeRiskInsight)?void 0:null==(y=v.risk)?void 0:null==(B=y.usageAtRisk)?void 0:null==(E=B.iamPolicyUtilization)?void 0:E.member)?F:"")}return l}));this.primaryRoles$=this.resource$.pipe(_.of(g=>null===this.targetRoleNames?_.w([]):_.ce(this.targetRoleNames.map(l=>
g?_.hrc(this.iamRolesService,g.getResourceType(),l):_.w([])))),_.x(g=>g.flat()),_.kf({bufferSize:1,refCount:!0}));this.tableMessageType$=_.ce([this.rolesFilterConfig$,this.showAllRolesValue$,this.primaryRoles$]).pipe(_.x(([g,l])=>{if(!g)return 2;const m=!!g.primaryRolesFilter;l=!!l;return m&&!l?0:!g.permissionsFilter||!l&&m?2:1}));this.rolesTableMessage$=_.ce([this.rolesFilterConfig$,this.primaryRoles$,this.tableMessageType$]).pipe(_.x(([g,l,m])=>{if(g&&2!==m)return{kind:"component",status:"info",
component:LIi,inputs:[{name:"tableMessageType",value:m},{name:"rolesFilterConfig",value:g},{name:"primaryRoles",value:l}]}}));this.membersTableMessage$=_.ce([this.rolesFilterConfig$,this.primaryRoles$,this.tableMessageType$]).pipe(_.x(([g,l,m])=>{if(g&&2!==m)return{kind:"component",status:"info",component:KIi,inputs:[{name:"tableMessageType",value:m},{name:"rolesFilterConfig",value:g},{name:"primaryRoles",value:l}]}}));this.roleFilter$=_.ce([this.rolesFilterConfig$,this.showAllRolesValue$]).pipe(_.x(([g,
l])=>{if(l){if(null==g?0:g.permissionsFilter)return this.permissionsRoleFilter}else if(null==g?0:g.primaryRolesFilter)return this.rolesFilter}));this.rolesCheckboxFilterText$=this.rolesFilterConfig$.pipe(_.x(g=>(null==g?0:g.permissionsFilter)?"Include all roles with "+g.permissionsFilter.permissionsQualifierLabel+" permissions":"Include all roles"));this.inclusionMode$=_.ce([this.shouldShowGoogleManagedFilter$,this.rolesFilterConfig$.pipe(_.x(g=>null==g?void 0:g.primaryRolesFilter))]).pipe(_.x(([g,
l])=>g?2:l?3:1),_.kf({refCount:!0,bufferSize:1}));this.rolesTableComponentInfo={moduleId:"pm_iam_roles_table",className:"RolesTable"};this.rolesTableOutputHandlers={onPolicyUpdate:()=>{this.onPolicyUpdate.emit()},bulkActionRowsChanged:()=>{}}}ngOnInit(){this.viewModeChanged.emit(this.viewMode)}ngOnChanges(a){this.showGoogleManagedFilterChanged$.getValue();if(a.resource||a.rolesFilterConfig){let b;null==(b=this.resource)||b.getResourceType()}}clearSelections(){this.memberTableSelectedRows=[];this.tableFilters=
[];this.viewModeChanged.emit(this.viewMode)}};XKi.\u0275fac=function(a){return new (a||XKi)(_.A(_.Im),_.A(_.oE),_.A(_.xH),_.A(_.gu),_.A(QKi),_.A(KKi,8))};
XKi.\u0275cmp=_.fd({type:XKi,selectors:[["iam-table-view"]],inputs:{resource:"resource",roleData:"roleData",tableCaptionId:"tableCaptionId",fullBleed:"fullBleed",showGoogleManagedAccountFilter:"showGoogleManagedAccountFilter",tableFilters:"tableFilters",impactMetric:"impactMetric",skipVisibilityChecks:"skipVisibilityChecks",conditionsDisabledTooltip:"conditionsDisabledTooltip",rolesFilterConfig:"rolesFilterConfig",hideSecurityRecommendations:"hideSecurityRecommendations",preselectedRolesForAdd:"preselectedRolesForAdd"},
outputs:{viewModeChanged:"viewModeChanged",listInsightGroupsErrorChanged:"listInsightGroupsErrorChanged",onPolicyUpdate:"onPolicyUpdate"},features:[_.$f([QKi]),_.rd],decls:4,vars:6,consts:()=>[" Include Google-provided role grants "," Google-managed service accounts are used to access the APIs of Google Cloud Platform services. "," Learn more ",[4,"ngIf"],["class","cfc-space-below-minus-3\n           cfc-full-bleed-keep-top-padding cfc-full-bleed-keep-bottom-padding",3,"cfc-full-bleed","selectedIndex",
"selectedIndexChange",4,"ngIf"],["class","cfc-flex-container \n              cfc-flex-justify-end\n              cfc-flex-center-aligned\n              cfc-space-above-minus-3 \n              cfc-space-below-minus-3",3,"ngSwitch",4,"ngIf"],[1,"cfc-flex-container","cfc-flex-justify-end","cfc-flex-center-aligned","cfc-space-above-minus-3","cfc-space-below-minus-3",3,"ngSwitch"],[4,"ngSwitchCase"],["class","cfc-inline-form-control",3,"formControl","change",4,"ngSwitchCase"],[1,"cfc-inline-form-control",
3,"change","formControl"],["id","google-managed-account-help-button","ariaLabel","Help with Google-provided role grants checkbox",1,"cfc-form-control-suffix","cfc-button-small"],[1,"cfc-button-align-left"],["mat-button","","target","_blank","color","primary","aria-label","Learn more about Google-managed service accounts",3,"cfcDocLink"],[1,"cfc-space-below-minus-3","cfc-full-bleed-keep-top-padding","cfc-full-bleed-keep-bottom-padding",3,"selectedIndexChange","selectedIndex"],["label","View by principals"],
["matTabContent",""],["label","View by roles",4,"ngIf"],["data-prober","permissions",3,"fullBleedConfig","resource","tableCaptionId","showGoogleManagedAccounts","tableFilters","impactMetric","skipVisibilityChecks","roleFilter","includePermissionsWithRoles","tableMessage","hideSecurityRecommendations","hideTopBorder","conditionsDisabledTooltip","preselectedRolesForAdd","importantMembers","bulkActionRowsChanged","listInsightGroupsErrorChanged","onPolicyUpdate",4,"ngIf"],["data-prober","permissions",
3,"bulkActionRowsChanged","listInsightGroupsErrorChanged","onPolicyUpdate","fullBleedConfig","resource","tableCaptionId","showGoogleManagedAccounts","tableFilters","impactMetric","skipVisibilityChecks","roleFilter","includePermissionsWithRoles","tableMessage","hideSecurityRecommendations","hideTopBorder","conditionsDisabledTooltip","preselectedRolesForAdd","importantMembers"],["label","View by roles"],["lazyTab","",3,"lazyTabPreload"],["xapDeferredLoaderOutlet","","triggers","immediate",3,"typeInfo",
"setInputs","outputs"]],template:function(a,b){a&1&&(_.D(0,tDi,2,1,"ng-container",3),_.X(1,"async"),_.D(2,CDi,5,6,"mat-tab-group",4),_.X(3,"async"));a&2&&(_.G("ngIf",_.Y(1,2,b.inclusionMode$)),_.z(2),_.G("ngIf",_.Y(3,4,b.resource$)))},dependencies:[_.Wr,_.yt,_.xu,_.xt,_.Gv,_.Hv,_.Ev,_.lA,_.tq,_.vq,_.wq,_.kA,_.el,_.fl,_.gl,_.Ko,_.Io,_.Cz,_.Yw,_.Sx,HKi,DKi,_.ht,_.jl,WKi],encapsulation:2});var YKi=class{};YKi.\u0275fac=function(a){return new (a||YKi)};YKi.\u0275mod=_.gd({type:YKi});
YKi.\u0275inj=_.Rc({imports:[_.Xr,_.At,_.Jv,_.nA,_.kl,_.So,_.Yx,_.bx,_.Ux,_.Do,MIi,IKi,GKi,_.hu,_.cx,_.UH,_.ru]});var ZKi=class{};ZKi.\u0275fac=function(a){return new (a||ZKi)};ZKi.\u0275mod=_.gd({type:ZKi});ZKi.\u0275inj=_.Rc({providers:[_.HQ],imports:[_.Xr,_.kl,_.go,_.At,_.Ou]});var aLi=function(a,b,c,d){let e;b={title:"gcloud command line",description:"This is the gcloud command line with the parameters you have selected.",descriptionMessage:a.getDescriptionMessage&&a.getDescriptionMessage(),content:c,contentPromise:a.getGcloudPromise&&a.getGcloudPromise(),secondaryDescription:"",secondaryContent:"",showSecondaryContent:!1,showShortVersionContent:!1,lineWrap:!0,showDevShellButton:b,docLink:{label:"gcloud reference",href:a.showGcloud?"//developers.google.com/cloud/sdk/gcloud/reference/compute/":
"//developers.google.com/compute/docs/gcloud-compute/",trackAs:a.showGcloud?"compute-gcloud-compute-docs":"compute-gcloud-docs"},showFormError:null!=(e=a.isFormValid&&!a.isFormValid()&&a.showFormError)?e:!1};Object.assign(b,d);b.showDevShellButton=b.showDevShellButton&&("string"===typeof c||Array.isArray(c)||!!b.contentPromise);b.docLink.label=b.docLink.label||"gcloud reference";b.content=$Ki(a,b.content);b.secondaryContent=$Ki(a,b.secondaryContent);return b},$Ki=function(a,b){return(b?"string"===
typeof b?[b]:Array.isArray(b)?_.Fkd(b.map(c=>$Ki(a,c))):[JSON.stringify(b,null,"  ")]:[]).map(c=>c.replace(/\s+$/,""))},bLi=class{get showRestWithDefault(){return!1!==this.showRest}get mainButton(){return this.showGcloud?this.gCloudButton:this.restButton}get showMenu(){return this.showRestWithDefault&&this.showGcloud}get buttonColor(){let a;return(null!=(a=this.overrideIsPrimary)?a:!this.showMenu)?"primary":""}get restDialogFunction(){return this.showRestDialog||this.defaultShowRestDialog}get gCloudDialogFunction(){return this.showGcloudDialog||
this.defaultShowGcloudDialog}constructor(a,b,c,d,e,f,g){this.devShellService=a;this.panAnalyticsService=b;this.dialog=c;this.location=d;this.eventTrackerService=e;this.el=f;this.jurisdictionalizationService=g;this.showRest=!0;this.isRestRequest=this.showGcloud=!1;this.getRestContent=()=>"";this.getGcloudContent=()=>"";this.showFormError=this.addMargins=!1;this.onInit=new _.Nk;this.menuModel=new _.hC({sections:[new _.iC({items:[new _.jC({label:"Equivalent REST",action:()=>{this.eventTrackerService.getEventTracker().logSyntheticEvent("click",
new _.is(136435),this.el.nativeElement);this.restDialogFunction()}})]})]});this.restButton={label:"Equivalent REST",ve:66079,dialogFunction:()=>this.restDialogFunction()};this.gCloudButton={label:"Equivalent command line",ve:66064,dialogFunction:()=>this.gCloudDialogFunction()};this.defaultShowGcloudDialog=(l={})=>{if(this.isFormValid&&!this.isFormValid()&&!this.showFormError)return Promise.resolve().then();this.sendAnalyticsEvent("gcloudDialog");const m=this.getGcloudContent&&this.getGcloudContent()||
this.gcloudContent,t=l.content||m;return!1===l.showDevShellButton?this.showModal(aLi(this,!1,t,l)):Promise.resolve().then(()=>this.devShellService.devShellInitialized.promise.then(()=>{const u=!this.jurisdictionalizationService.isJurisdictionalized()&&!0;return this.showModal(aLi(this,u,t,l))}))};this.defaultShowRestDialog=(l={})=>{if(this.isFormValid&&!this.isFormValid()&&!this.showFormError)return Promise.resolve().then();this.sendAnalyticsEvent("restDialog");let m;const t={title:this.isRestRequest?
"Equivalent REST request":"Equivalent REST response",description:this.isRestRequest?"This is the REST request with the parameters you have selected.":"This is the original REST response from the Google Compute Engine service.",content:HDi(this.getRestContent&&this.getRestContent()||this.restContent),descriptionMessage:this.getDescriptionMessage&&this.getDescriptionMessage(),contentPromise:this.getRestPromise&&this.getRestPromise(),secondaryDescription:"",secondaryContent:"",showSecondaryContent:!1,
showShortVersionContent:!1,lineWrap:!1,docLink:{href:"//developers.google.com/compute/docs/reference/latest",trackAs:"compute-api-docs"},showFormError:null!=(m=this.isFormValid&&!this.isFormValid()&&this.showFormError)?m:!1};Object.assign(t,l);t.showDevShellButton=!1;t.docLink.label=t.docLink.label||"REST API reference";t.content=$Ki(this,t.content);return this.showModal(t)}}ngOnInit(){this.onInit.emit(this)}getCurrentPage(){const a=(new _.Hg(this.location.path())).getPath().substring(1).split("/");
return _.jqi(Object.assign({},_.dxa))[a[0]]+"_"+a[1]}sendAnalyticsEvent(a){this.panAnalyticsService.sendEvent({type:a,name:this.getCurrentPage()})}showModal(a){a.contentPromise&&a.contentPromise.then(c=>{a.content=c;a.contentPromise=void 0});const b=CHi(a,this.sendAnalyticsEvent.bind(this));return _.Vd(this.dialog.open(b.info,b.config).pipe(_.ee(c=>c.afterClosed())))}};bLi.\u0275fac=function(a){return new (a||bLi)(_.A(_.Ckh),_.A(_.Im),_.A(_.nr),_.A(_.ql),_.A(_.ls),_.A(_.Ld),_.A(_.Cq))};
bLi.\u0275cmp=_.fd({type:bLi,selectors:[["gce-rest-gcloud"]],inputs:{isFormValid:"isFormValid",showRest:"showRest",showGcloud:"showGcloud",isRestRequest:"isRestRequest",getRestContent:"getRestContent",getRestPromise:"getRestPromise",restContent:"restContent",getGcloudContent:"getGcloudContent",getGcloudPromise:"getGcloudPromise",gcloudContent:"gcloudContent",showRestDialog:"showRestDialog",showGcloudDialog:"showGcloudDialog",addMargins:"addMargins",overrideIsPrimary:"overrideIsPrimary",getDescriptionMessage:"getDescriptionMessage",
showFormError:"showFormError"},outputs:{onInit:"onInit"},decls:1,vars:1,consts:[["singleButton",""],["class","rest-gcloud-section",3,"cfc-space-above-minus-1","cfc-space-below-minus-1",4,"ngIf"],[1,"rest-gcloud-section"],[3,"menu",4,"ngIf","ngIfElse"],[3,"menu"],[4,"ngTemplateOutlet"],["type","button","mat-button","",3,"click","ve","veClick","color"]],template:function(a,b){a&1&&_.D(0,GDi,4,6,"div",1);a&2&&_.G("ngIf",b.showRestWithDefault||b.showGcloud)},dependencies:[_.Wr,_.Tr,_.el,_.il,_.yt,_.gp,
_.xt,_.rC],encapsulation:2});var cLi=[_.Xr,_.kl,_.At,_.tC],dLi=class{};dLi.\u0275fac=function(a){return new (a||dLi)};dLi.\u0275mod=_.gd({type:dLi});dLi.\u0275inj=_.Rc({imports:[_.iw,_.Fkh,cLi]});var eLi=class{constructor(a){this.icons=a;this.linkDisabled=!1;this.detailCloudRunUrl=_.QKh.create();this.detailFunctionUrl=_.Jkh.create();this.cloudFunctionToCloudRunBadgeConfig={title:"Powered by Cloud Run",link:(b,c)=>this.detailCloudRunUrl.link().set(this.detailCloudRunUrl.region,b).set(this.detailCloudRunUrl.name,c),helpButtonText:"Cloud Functions 2nd gen is a Function-as-a-Service product powered by Cloud Run and Eventarc. This enables users to leverage key benefits of Cloud Run including concurrency, traffic splitting, and longer processing times.",
helpButtonLearnMore:"CONSOLE__FUNCTIONS_DOCS_2ND_GEN_OVERVIEW",trackName:"cloudRunLinkClick",trackType:"functionsDetails"};this.cloudRunToCloudFunctionBadgeConfig={title:"Used by Cloud Functions",link:(b,c)=>this.detailFunctionUrl.link().set(this.detailFunctionUrl.region,b).set(this.detailFunctionUrl.name,c).set(this.detailFunctionUrl.env,"gen2"),helpButtonText:"",trackName:"cloudFunctionBadgeClick",trackType:"cloudRunDetails"};this.cloudRunToCloudRunMultiRegionServiceBadgeConfig={title:"Used by multi-region service",
link:()=>{},helpButtonText:"",trackName:"cloudRunMultiRegionServiceBadgeClick",trackType:"cloudRunDetails"}}ngOnInit(){this.config=this.createConfig()}get link(){return this.config.link(this.region,this.resourceName)}get icon(){return 1===this.badgeType?this.icons.functionsMediumIcon:this.icons.cloudRunMediumIcon}createConfig(){return 0===this.badgeType?this.cloudFunctionToCloudRunBadgeConfig:1===this.badgeType?this.cloudRunToCloudFunctionBadgeConfig:2===this.badgeType?this.cloudRunToCloudRunMultiRegionServiceBadgeConfig:
{title:"",link:()=>{},helpButtonText:"",trackName:"",trackType:""}}};eLi.\u0275fac=function(a){return new (a||eLi)(_.A(_.E8))};
eLi.\u0275cmp=_.fd({type:eLi,selectors:[["s8s-badge"]],inputs:{resourceName:"resourceName",region:"region",badgeType:"badgeType",linkDisabled:"linkDisabled"},decls:2,vars:2,consts:()=>[["class","cfc-space-below-minus-4 gcf-panel-small-vertical-spacing gcf-hide-on-mobile",4,"ngIf"],["class","cfc-space-below-minus-4 gcf-min-width-small gcf-show-on-mobile",4,"ngIf"],[1,"cfc-space-below-minus-4","gcf-panel-small-vertical-spacing","gcf-hide-on-mobile"],[1,"cfc-flex-center-aligned","cfc-flex-container"],
[1,"cfc-prefix"],[3,"icon"],[1,"flex-layout-column"],[1,"cfc-heading-with-icon-button"],["class","cfc-color-secondary cfc-text-title-4",4,"ngIf"],["class","cfc-button-small","ariaLabel","Help with information of Cloud Functions 2 gen\n                                      and Cloud Run services",4,"ngIf"],["role","link","cfcTrackedEvent","",3,"cfcRouterLink","queryParams","track-name","track-type",4,"ngIf"],[4,"ngIf"],[1,"cfc-color-secondary","cfc-text-title-4"],["ariaLabel","Help with information of Cloud Functions 2 gen\n                                      and Cloud Run services",
1,"cfc-button-small"],["aria-label","Learn more about this product",3,"cfcDocHref",4,"ngIf"],["aria-label","Learn more about this product",3,"cfcDocHref"],["role","link","cfcTrackedEvent","",3,"cfcRouterLink","queryParams","track-name","track-type"],[1,"cfc-space-below-minus-4","gcf-min-width-small","gcf-show-on-mobile"],[1,"cfc-font-weight-bold"]],template:function(a,b){a&1&&_.D(0,NDi,11,5,"mat-card",0)(1,ODi,6,6,"div",1);a&2&&(_.G("ngIf",b.resourceName),_.z(),_.G("ngIf",!!b.resourceName&&!b.linkDisabled&&
b.link))},dependencies:[_.el,_.yu,_.rQ,_.Sx,_.fo,_.OI,_.PI,_.QI,_.NI,_.qu],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var fLi=[_.kl,_.Yx,_.PB,_.Ux,_.go,_.TI,_.ru],gLi=class{};gLi.\u0275fac=function(a){return new (a||gLi)};gLi.\u0275mod=_.gd({type:gLi});gLi.\u0275inj=_.Rc({imports:[fLi]});var hLi=["globalErrorTemplate"],iLi={DEFAULT:1,EXPANDABLE:2,1:"DEFAULT",2:"EXPANDABLE"},jLi=class{constructor(){this.layout=1;this.statusDataArray=[];this.statusMessages=[];this.autoKeyWidth=9;this.Layout=iLi}ngOnInit(){}};jLi.\u0275fac=function(a){return new (a||jLi)};
jLi.\u0275cmp=_.fd({type:jLi,selectors:[["s8s-deployment-progress-tracker"]],contentQueries:function(a,b,c){a&1&&_.Vf(c,hLi,5);if(a&2){let d;_.Wf(d=_.Xf())&&(b.globalErrorTemplate=d.first)}},inputs:{expanderCollapsed:"expanderCollapsed",layout:"layout",title:"title",statusDataArray:"statusDataArray",statusMessages:"statusMessages"},decls:3,vars:3,consts:[[4,"ngIf"],[3,"unfolded",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"type",4,"ngFor","ngForOf"],[3,"type"],[3,"innerHtml"],[3,"unfolded"],[3,"headingLevel",
"headingVisualLevel"],["cfc-kv-list","",3,"keyWidth","hidePinlines"],[4,"ngFor","ngForOf"],["iconset","common",3,"icon"]],template:function(a,b){a&1&&_.D(0,QDi,2,1,"ng-container",0)(1,SDi,2,1,"ng-container",0)(2,VDi,6,7,"cfc-unfold",1);a&2&&(_.G("ngIf",b.globalErrorTemplate),_.z(),_.G("ngIf",b.layout===b.Layout.DEFAULT||b.layout===b.Layout.EXPANDABLE&&!b.expanderCollapsed),_.z(),_.G("ngIf",0<b.statusDataArray.length))},dependencies:[_.dl,_.el,_.il,_.so,_.Gt,_.to,_.wo,_.HY,_.IY,_.JY],encapsulation:2});
var TDi={pending:"Pending",working:"Running",["status-success"]:"Completed",["status-warning"]:"Warning",["status-error"]:"Error"},kLi=[_.kl,_.Ct,_.TI,_.Do,_.Et,_.Eo,_.KY],lLi=class{};lLi.\u0275fac=function(a){return new (a||lLi)};lLi.\u0275mod=_.gd({type:lLi,id:"pm_serverless_components_deployment_progress_tracker"});lLi.\u0275inj=_.Rc({imports:[kLi]});_.tf(lLi,"pm_serverless_components_deployment_progress_tracker");var XDi=RegExp("((https?|ftp)://)+([\\w~#-&\\(-\\-/-:<-@!\\[\\]\\|]+(?:[\\.;][\\w~#-&\\(\\*-\\-/-:<-@!\\[])*)*"),mLi="(?:auto|autocap|bamach|boq|cdpush|cs|dash|dm|dmrh|easyokrs|engplay|f|g|g2|g3doc|ganpati|ganpati2|glossary|go|godoc|google3|goto|gpaste|groups|gu|il|irm|kg|mendel|mh|moma|mpms|mpmbrowse|ms|oncall|pcon|playbook|playbooks|pod|rapid|rapid-qa|requiem|rh|screen|screenshot|shortn|sigma|simba|simhub|sites|sv|tap|test|undash|vi|viceroy|wiki|yaqs)/([\\w~#-&\\(-\\-/-:<-@!\\[\\]\\|]+(?:[\\.;][\\w~#-&\\(\\*-\\-/-:<-@!\\[])*)* annealing/[-a-zA-Z0-9]+ ag/[0-9]+ (?:launch|ariane)/[0-9]{5,} b/[0-9]{4,}(?:#comment\\d+)? cases/[0-9]+-[0-9]+ (?:cl|cr)/[0-9]{5,} crbug/[0-9]{3,}(?:#c\\d+)? crrev/[0-9]+ fxb/[0-9]+ fxr/[0-9]+ mdb/[a-zA-Z][\\w\\-]* chg/[0-9]{3,} (?:t|tick)/[0-9]{5,} shax/[0-9]+ meme(?:gen)?/[0-9]{6,} omg(?:tool)?/[0-9]+ o/[0-9]{4,} pegboard/[a-z0-9+-]+ prodspec/[-a-zA-Z0-9]+ (?:sem|sempervi)/[0-9]+ (?:teams|who)/[a-z][a-z0-9]* tqr/[0-9]+ anyup/[-a-z0-9_]+ xids?/[0-9]+(/[-a-zA-Z0-9_]+)* b/(?:hotlists|savedsearches|bookmark-groups|dashboard)/[0-9]+ sponge2?/[a-f0-9]+-[a-f0-9]+-[a-f0-9]+-[a-f0-9]+-[a-f0-9]+ fusion2/presubmit/\\w+/\\w+(/targets|/OCL:\\w+:BASE:\\w+:\\w+:\\w+(/\\w+[?]?(\\w+=\\w+&?)*)?)?".split(" ");
mLi.join("|");
var WDi=new RegExp("([\\S\\s]*?)("+["(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|app|dev|google|[a-z][a-z])\\b)","changelist ([0-9]{5,})","((https?|ftp)://)+([\\w~#-&\\(-\\-/-:<-@!\\[\\]\\|]+(?:[\\.;][\\w~#-&\\(\\*-\\-/-:<-@!\\[])*)*","(?:(?:(https?|ftp)://)(?:(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])(?::\\d{1,5}\\b)?|(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?[.])+(?:com|org|net|edu|gov|app|dev|google|[a-z][a-z])\\b(?::\\d{1,5}\\b)?|[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?)|(?:(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])(?::\\d{1,5}\\b)?|(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?[.])+(?:com|org|net|edu|gov|app|dev|google|[a-z][a-z])\\b(?::\\d{1,5}\\b)?))(?:[?/#&]([\\w~#-&\\(-\\-/-:<-@!\\[\\]\\|]+(?:[\\.;][\\w~#-&\\(\\*-\\-/-:<-@!\\[])*)*)?",...mLi].map(a=>
`\\b${a}|`).join("")+"$)","gi"),fEi=new Map([[/\nCRBUG=([0-9]+)(\n|$)/gim,'\nCRBUG=<a rel="nofollow noopener" target="_blank" href="https://bugs.chromium.org/p/chromium/issues/detail?id=$1">$1</a>\n'],[/\nARIANE_ID=([0-9]{5,})(\n|$)/gim,'\nARIANE_ID=<a rel="nofollow noopener" target="_blank" href="https://ariane.googleplex.com/launch/$1">$1</a>\n'],[/\n(MASTER_CL|PARENT_CL|ROLLBACK_OF)=([0-9]{5,})(\n|$)/gim,'\n$1=<a rel="nofollow noopener" target="_blank" href="https://critique.corp.google.com/$2">$2</a>\n'],
[/(^|\s)(\/\/depot\/[-+/\w.]*[/\w])/gi,'$1<a rel="nofollow noopener" target="_blank" href="https://cs.corp.google.com/piper/$2">$2</a>'],[/\[BACKUP_MESSAGE_ID([:=])(\s*)([0-9]+)\]($|[^(])/gi,'[BACKUP_MESSAGE_ID$1$2<a rel="nofollow noopener" target="_blank" href="https://tc-message.corp.google.com/search/message-id=$3&target-option=include-obsolete-message">$3</a>]$4'],[/(^|\s)(\/cns\/[-+/\w.=:]*[/\w])/gi,'$1<a rel="nofollow noopener" target="_blank" href="https://cnsviewer.corp.google.com$2">$2</a>'],
[/(^|\s)\/bns(\/[-+/\w.=:]*\/bns\/[-+/\w.=:]*[/\w])/gi,'$1<a rel="nofollow noopener" target="_blank" href="https://bns.corp.google.com$2">/bns$2</a>'],[/(^|\s)(screenplay-[0-9a-f\-]+)/gi,'$1<a rel="nofollow noopener" target="_blank" href="https://screenplay.corp.google.com/$2">$2</a>']]),gEi=/(^|\s)#([\w\-]*[a-z][\w\-]*)(?![\w\-/])/gi,hEi=/(^|\W)([a-zA-Z]+[a-zA-Z0-9+.-]*)@(?!\w)/gi,YDi=RegExp("^(.*?)([:;,\\.?>\\]\\)!]+)$"),ZDi=/https?:\/\/([a-z0-9-_]+|([a-z0-9-_]+\.)*google(plex)?\.com)(:[0-9]+)?(\/|$).*|mailto:.*/,
$Di=/^(http:\/\/google3\/.*?):(\d+)(?::(\d+))?$/;var rLi=function(a){return _.Zd(function*(){var b=[nLi(a)];if(oLi(a)){let c;b.push(pLi(null==(c=a.details)?void 0:c.operationVersion))}a.revisionList=b;yield qLi(a);b=a.isV2Function()?(b=a.details.deployedVersion)?oLi(a)&&"DEPLOYING"===b.status&&!b.buildId:!1:!1;a.isInitialV2Deployment=b})},tLi=function(a,b){const {apply:c,inlineFilesAreReady:d}=sLi(a,b);return d.then(c)},uLi=function(a,b){let c,d;b=null!=(d=null==b?void 0:null==(c=b.deployedVersion)?void 0:c.status)?d:"STATUS_UNKNOWN";return oLi(a)||
"DEPLOYING"===b},oLi=function(a){var b;let c,d;var e=null!=(d=null==(b=a.details)?void 0:null==(c=b.operationVersion)?void 0:c.productVersion)?d:"V1";let f,g,l;b="V1"===e&&"0"!==(null!=(l=null==(f=a.details)?void 0:null==(g=f.operationVersion)?void 0:g.revision)?l:"0");let m,t,u,v,y;e="V2"===e&&""!==(null!=(y=null==(m=a.details)?void 0:null==(t=m.operationVersion)?void 0:t.name)?y:"")&&"UNKNOWN"!==(null==(u=a.details)?void 0:null==(v=u.operationVersion)?void 0:v.sourceType);return b||e},vLi=function(a,
b){a.operationsService.onStatusChange.pipe(_.pe(c=>a.isRecentInitialDeploymentOperation(c)&&"DONE"===c.status),_.C(a.destroyed)).subscribe(()=>{a.dataLoader.getFunctionDetails(b).subscribe(c=>{void 0!==c.unauthenticatedAccess&&(a.currentModel.unauthenticatedAccess=c.unauthenticatedAccess)})})},wLi=function(a){_.Zd(function*(){if(oLi(a)){var b,c;yield tLi(a,null==(b=a.details)?void 0:null==(c=b.operationVersion)?void 0:c.revision)}})},xLi=function(a,b){return a.dataLoader.getFunctionDetails(b).pipe(_.x(c=>
{a.details=c;rLi(a);wLi(a);a.setupAutoRefresh(b);return c}))},sLi=function(a,b){const c=[],[d,e]=yLi(a,b);if(null==e?0:e.sourceDownloadUrl){var f=_.oph(a.apiService,d,e.sourceDownloadUrl).then(m=>{d.inlineStatus=m.status;d.inlineFiles=m.files;d.binaryInlineFiles=m.binaryFiles});c.push(f)}else b=null!=(f=null==e?void 0:e.sourceDownloadUrlError)?f:"UNKNOWN",d.inlineStatus=_.hph(b);if(null==e?0:e.lastAttemptedSourceDownloadUrl)f=_.oph(a.apiService,d,e.lastAttemptedSourceDownloadUrl).then(m=>{d.lastAttemptedInlineStatus=
m.status;d.lastAttemptedInlineFiles=m.files;d.lastAttemptedBinaryInlineFiles=m.binaryFiles}),c.push(f);const g=iEi(d.deployedStateMessages);let l;d.isV2Function()&&(l=dEi(d.deploymentStages));if(void 0!==a.details.unauthenticatedAccess)d.unauthenticatedAccess=a.details.unauthenticatedAccess;else{let m;if(null==(m=a.currentModel)?0:m.unauthenticatedAccess)d.unauthenticatedAccess=a.currentModel.unauthenticatedAccess}return{apply:()=>{a.currentModel=d;a.currentGqlModel=e;a.deploymentTrackerStatusData=
l;a.postDeploymentsMessages=g},inlineFilesAreReady:Promise.all(c).then(()=>{})}},yLi=function(a,b){var c;if(a.isV2Function()){if(oLi(a))var d=null==(c=a.details)?void 0:c.operationVersion;else{let g;d=null==(g=a.details)?void 0:g.deployedVersion}c=[_.plh(d),d]}else{{let g,l;if(b===(null==(g=a.details)?void 0:null==(l=g.deployedVersion)?void 0:l.revision))c=null==(d=a.details)?void 0:d.deployedVersion,c=[_.plh(c),c];else{var e,f;if(b===(null==(e=a.details)?void 0:null==(f=e.operationVersion)?void 0:
f.revision)){let m;c=null==(m=a.details)?void 0:m.operationVersion;c=[_.plh(c),c]}else throw Error("wq`"+b);}}}return c},lEi=function(a){let b,c;return null!=(c=null==(b=a.currentGqlModel)?void 0:b.deploymentError)?c:""},zLi=function(a){let b,c;return null!=(c=null==(b=a.currentGqlModel)?void 0:b.restResponse)?c:""},pLi=function(a){const b=_.mlh(a.status);var c=a.revision;a:{var d=a.revision;var e=new Date(a.deployTime);e=(new _.yw(10)).format(e);a="V2"===a.productVersion;switch(b){case "READY":case "TERMINATED":case "READY_WITH_TRAFFIC_SPLIT":d=
a?"Deployed at "+e:"Version "+d+", deployed at "+e;break a;case "WARNING":case "FAILED":case "UNKNOWN":d=a?"Deployment failed at "+e:"Version "+d+", deployment failed at "+e;break a;case "DEPLOYING":d=a?"Deployment started at "+e:"Version "+d+", deployment started at "+e;break a;default:_.uc(b,`invalid function status: ${b}`)}d=void 0}return{revision:c,description:d,note:MGi[b]}},nLi=function(a){let b;return pLi(null==(b=a.details)?void 0:b.deployedVersion)},qLi=function(a){return _.Zd(function*(){var b;
a:{let e,f;const g="UPGRADE_OPERATION_IN_PROGRESS"===(null==(b=a.details)?void 0:null==(e=b.deployedVersion)?void 0:null==(f=e.upgradeInfo)?void 0:f.upgradeState);if(!a.currentModel.isV2Function()&&!g)for(const l of a.revisionList)if(a.currentModel.versionId===l.revision){b=!1;break a}b=!0}if(b){var c,d;yield tLi(a,null==(c=a.details)?void 0:null==(d=c.deployedVersion)?void 0:d.revision)}})},L$=class{constructor(a,b,c){this.apiService=a;this.dataLoader=b;this.operationsService=c;this.destroyed=new _.ff(1);
this.refreshDetailsTrigger=new _.ff;this.refreshDetailsFlow=this.refreshDetailsTrigger.pipe(_.of(d=>_.re(0,5E3).pipe(_.$e(d))),_.of(d=>this.dataLoader.getFunctionDetails(d)),_.qf(d=>{const e=this;return _.Zd(function*(){e.details=d;yield rLi(e);yield tLi(e,e.currentModel.versionId)})}),_.pf(d=>uLi(this,d),!0),_.C(this.destroyed))}initialize(a,b){this.details=a;if(oLi(this)){var c;let e;var d=null==(c=this.details)?void 0:null==(e=c.operationVersion)?void 0:e.revision;sLi(this,d).apply()}else{let e;
c=null==(d=this.details)?void 0:null==(e=d.deployedVersion)?void 0:e.revision;sLi(this,c).apply()}rLi(this);this.setupAutoRefresh(b);vLi(this,b)}isRecentInitialDeploymentOperation(a){let b,c,d;return(null==(b=this.currentModel)?void 0:b.name)===(null==(c=a.descriptionLocalizationArgs)?void 0:c.functionName)&&"V2"===(null==(d=a.descriptionLocalizationArgs)?void 0:d.productVersion)&&"CLOUDFUNCTIONS_GRAPHQL-FunctionsMutations-createFunctionV2"===a.operationType}getModel(){return this.currentModel}ngOnDestroy(){this.destroyed.next()}setupAutoRefresh(a){this.refreshDetailsFlow.subscribe();
uLi(this,this.details)&&this.refreshDetailsTrigger.next(a)}isV2Function(){let a,b,c;return"V2"===(null!=(c=null==(a=this.details)?void 0:null==(b=a.deployedVersion)?void 0:b.productVersion)?c:"V1")}};L$.\u0275fac=function(a){return new (a||L$)(_.k(_.t6),_.k(_.bAi),_.k(_.Xp))};L$.\u0275prov=_.h({token:L$,factory:L$.\u0275fac});var ALi=class{};ALi.\u0275fac=function(a){return new (a||ALi)};ALi.\u0275prov=_.h({token:ALi,factory:ALi.\u0275fac,providedIn:"root"});var BLi=class{constructor(a,b,c,d,e){this.projectParamService=b;this.regionService=c;this.locale=d;this.flags=e;this.nullify=xAi;this.getServiceAccountEmail=lAi;this.serviceAccountsUrl=_.FJd.create().link().build();this.formatCpu=kEi.bind(this,d)}get model(){return this.dataHolder.getModel()}get projectId(){return _.Kp(this.projectParamService)}get workerPoolsAvailableInRegion(){return _.tph(this.regionService,this.model.region)}get kmsKeyLink(){const a=_.jP(this.model.kmsKeyName);var b=BHi.create();
b=b.link().set(b.regionId,a.locationId).set(b.keyRingId,a.keyRingId).set(b.keyId,a.cryptoKeyId).build();const c={};this.projectId!==a.projectId&&(c.project=a.projectId);return{link:b,queryParams:c}}get dockerRepositoryShortName(){const {name:a}=_.blh("location",this.model.dockerRepositoryName);return a}get dockerRepositoryLink(){const {location:a,name:b}=_.blh("location",this.model.dockerRepositoryName);var c={projectId:this.projectId,locationName:a,repositoryName:b};const d=GHi.create(),e=d.link();
e.set(d.resource,c);return e.build()}get securityCardEnabled(){return!!this.model.kmsKeyName}showRestDialog(){var a=this.dataHolder;let b;return this.restGcloudDialog.defaultShowRestDialog({description:"This is the original REST response from the Cloud Functions service",content:null!=(b=null==a?void 0:zLi(a))?b:"",docLink:{href:_.as(SGi),trackAs:"functions-api-docs"}})}};BLi.\u0275fac=function(a){return new (a||BLi)(_.A(ALi),_.A(_.Lp),_.A(_.L6),_.A(_.Yg),_.A(_.i6))};
BLi.\u0275cmp=_.fd({type:BLi,selectors:[["gcf-tab-details"]],inputs:{dataHolder:"dataHolder"},decls:74,vars:27,consts:()=>[" General Information "," Last deployed "," Region "," Memory allocated "," Timeout "," Minimum instances "," Maximum instances "," Networking Settings "," Ingress settings "," VPC connector "," VPC connector egress routing "," Deployment failure: \ufffd#3\ufffd\ufffd0\ufffd\ufffd/#3\ufffd"," CPU "," Concurrency "," Service account "," Build service account "," Build Worker Pools ",
" Container build log "," Allow all traffic "," Allow internal traffic only "," Allow internal traffic and traffic from Cloud Load Balancing "," All traffic "," Private ranges only "," Security Settings "," CMEK Protected Function "," Encryption key "," Artifact Registry Repository ",[1,"cfc-indent","cfc-prefix"],["role","alert","type","error",4,"ngIf"],[1,"cfc-grid","cfc-grid--chart-cards","cfc-space-above-plus-1"],["role","heading","aria-level","2"],["cfc-kv-list","",1,"cfctest-function-details-summary-general",
3,"hidePinlines"],[4,"ngIf"],["cfc-kv-list","",1,"cfctest-function-details-summary-network",3,"hidePinlines"],[3,"addMargins","showGcloud","isRestRequest","showRestDialog","onInit",4,"ngIf"],["role","alert","type","error"],[1,"cfc-pre-line"],[3,"cfcRouterLink"],["cfc-kv-list","",1,"cfctest-function-details-summary-security",3,"hidePinlines"],[3,"cfcRouterLink","queryParams"],[3,"onInit","addMargins","showGcloud","isRestRequest","showRestDialog"]],template:function(a,b){a&1&&(_.H(0,"div",27),_.D(1,
mEi,4,1,"cfc-message",28),_.H(2,"div",29)(3,"mat-card")(4,"mat-card-title",30),_.M(5,0),_.I(),_.H(6,"mat-card-content")(7,"dl",31)(8,"div")(9,"dt"),_.M(10,1),_.I(),_.H(11,"dd"),_.S(12),_.X(13,"date"),_.I()(),_.H(14,"div")(15,"dt"),_.M(16,2),_.I(),_.H(17,"dd"),_.S(18),_.I()(),_.H(19,"div")(20,"dt"),_.M(21,3),_.I(),_.H(22,"dd"),_.S(23),_.I()(),_.D(24,nEi,5,1,"div",32),_.H(25,"div")(26,"dt"),_.M(27,4),_.I(),_.H(28,"dd"),_.S(29),_.I()(),_.H(30,"div")(31,"dt"),_.M(32,5),_.I(),_.H(33,"dd"),_.S(34),_.I()(),
_.H(35,"div")(36,"dt"),_.M(37,6),_.I(),_.H(38,"dd"),_.S(39),_.X(40,"placeholder"),_.I()(),_.D(41,oEi,5,1,"div",32)(42,pEi,6,2,"div",32)(43,qEi,7,4,"div",32)(44,rEi,6,3,"div",32)(45,sEi,6,2,"div",32),_.I()()(),_.H(46,"mat-card")(47,"mat-card-title",30),_.M(48,7),_.I(),_.H(49,"mat-card-content")(50,"dl",33)(51,"div")(52,"dt"),_.M(53,8),_.I(),_.H(54,"dd"),_.D(55,tEi,2,0)(56,uEi,2,0)(57,vEi,2,0)(58,wEi,2,3),_.I()(),_.H(59,"div")(60,"dt"),_.M(61,9),_.I(),_.H(62,"dd"),_.S(63),_.X(64,"placeholder"),_.I()(),
_.H(65,"div")(66,"dt"),_.M(67,10),_.I(),_.H(68,"dd"),_.D(69,xEi,2,0)(70,yEi,2,0)(71,zEi,2,3),_.I()()()()(),_.D(72,CEi,18,6,"mat-card",32),_.I(),_.D(73,DEi,1,4,"gce-rest-gcloud",34),_.I());if(a&2){var c,d;let e;_.z();_.G("ngIf",lEi(b.dataHolder));_.z(6);_.G("hidePinlines",!0);_.z(5);_.Zf(_.Jw(13,20,b.model.updateTime,"long"));_.z(6);_.Zf(b.model.region);_.z(5);a=b.model;a=a.isV2Function()?_.FKh(a.availableMemory):_.GKh(a.availableMemory);_.Zf(a);_.z();_.G("ngIf",b.model.isV2Function());_.z(5);_.Zf(b.model.timeoutString);
_.z(5);_.Zf(null!==(c=b.model.minInstances)&&void 0!==c?c:0);_.z(5);_.Zf(_.Y(40,23,b.model.maxInstances));_.z(2);_.G("ngIf",b.model.isV2Function());_.z();_.G("ngIf",b.model.serviceAccount);_.z();_.G("ngIf",b.model.buildServiceAccount);_.z();_.G("ngIf",b.workerPoolsAvailableInRegion);_.z();_.G("ngIf",b.model.buildId);_.z(5);_.G("hidePinlines",!0);_.z(5);_.Df(55,"allowAll"===(d=b.model.ingressSettings)?55:"allowInternalOnly"===d?56:"allowInternalAndGCLB"===d?57:58);_.z(8);c=b.model.vpcConnector;d=(c||
"").match("^projects/([^/]+)/locations/[^/]+/connectors/([^/]+)$");_.Zf(_.Y(64,25,d?d[2]:c));_.z(6);_.Df(69,"allTraffic"===(e=b.model.egressSettings)?69:"privateRangesOnly"===e?70:71);_.z(3);_.G("ngIf",b.securityCardEnabled);_.z();_.G("ngIf",zLi(b.dataHolder))}},dependencies:[_.el,_.Gt,_.OI,_.PI,_.QI,_.EP,_.NI,_.to,_.wo,bLi,_.qu,_.aJ,_.sC],encapsulation:2});var CLi=[_.kl,_.Et,_.TI,_.Eo,_.T8,_.Gx,dLi,_.ru],DLi=class{};DLi.\u0275fac=function(a){return new (a||DLi)};DLi.\u0275mod=_.gd({type:DLi});
DLi.\u0275inj=_.Rc({imports:[CLi]});var ELi=class{constructor(a,b){this.apiService=b;this.logsFilter="";this.logsErrorCallback=c=>{c&&(c.errorExperience=6);c&&500===c.status&&_.s6(this.apiService,{error:c,message:"An unknown error has occurred while fetching logs for a function."})};this.retryPolicy={maxAttempts:5,retriedRequestExperience:6,retryFactorMs:2500};this.resourceNames=["projects/"+_.Kp(a)]}ngOnInit(){this.logsFilter=_.Jti(this.model)}};ELi.\u0275fac=function(a){return new (a||ELi)(_.A(_.Lp),_.A(_.t6))};
ELi.\u0275cmp=_.fd({type:ELi,selectors:[["gcf-tab-logs"]],hostAttrs:[1,"cfc-flex-layout-column"],inputs:{model:"model"},decls:1,vars:6,consts:[["viewerId","cloudfunctions",3,"resourceNames","scopeFilter","pageSize","hasRefreshButton","clientErrorCallback","retryPolicy"]],template:function(a,b){a&1&&_.J(0,"logs-panel",0);a&2&&_.G("resourceNames",b.resourceNames)("scopeFilter",b.logsFilter)("pageSize",50)("hasRefreshButton",!0)("clientErrorCallback",b.logsErrorCallback)("retryPolicy",b.retryPolicy)},
dependencies:[_.DR],encapsulation:2});var FLi=[_.vS],GLi=class{};GLi.\u0275fac=function(a){return new (a||GLi)};GLi.\u0275mod=_.gd({type:GLi});GLi.\u0275inj=_.Rc({imports:[FLi]});var GEi=()=>[],HEi=()=>({error:!0,count:!0}),HLi=class{constructor(){this.gcfGeneralChartsTypeInfo={moduleId:"pm_functions_general_charts",className:"GcfCharts"}}get gcfGeneralChartsInputs(){return{model:this.model}}};HLi.\u0275fac=function(a){return new (a||HLi)};
HLi.\u0275cmp=_.fd({type:HLi,selectors:[["gcf-tab-metrics"]],inputs:{model:"model",crashData:"crashData"},decls:9,vars:8,consts:()=>[" Errors ",[1,"cfc-space-above-minus-6","cfc-gutter-base"],["xapDeferredLoaderOutlet","","triggers","routeComplete","placeholder","spinner",3,"typeInfo","setInputs"],[3,"isLoading"],[4,"ngIf"],["type","warning",4,"ngIf"],[3,"errorGroupStats","columns"],["type","warning"]],template:function(a,b){a&1&&(_.H(0,"div",1),_.D(1,EEi,0,0,"ng-template",2),_.H(2,"mat-card")(3,
"h3"),_.M(4,0),_.I(),_.H(5,"cfc-loader",3),_.X(6,"async"),_.D(7,IEi,3,5,"ng-container",4),_.X(8,"async"),_.I()()());a&2&&(_.z(),_.G("typeInfo",b.gcfGeneralChartsTypeInfo)("setInputs",b.gcfGeneralChartsInputs),_.z(4),_.G("isLoading",null===_.Y(6,4,b.crashData)),_.z(2),_.G("ngIf",_.Y(8,6,b.crashData)))},dependencies:[_.el,_.jHe,_.OI,_.PI,_.NI,_.Ko,_.Io,_.qE,_.to,_.wo,_.jl],encapsulation:2});var ILi=[_.kl,_.kHe,_.TI,_.So,_.rE,_.Eo],JLi=class{};JLi.\u0275fac=function(a){return new (a||JLi)};
JLi.\u0275mod=_.gd({type:JLi});JLi.\u0275inj=_.Rc({imports:[ILi]});var KLi=class{constructor(a){this.policyService=a}ngOnInit(){this.iamCompatibleModel=SAi(this.model);this.roleData=this.policyService.generateRoleMap([this.iamCompatibleModel])}};KLi.\u0275fac=function(a){return new (a||KLi)(_.A(_.dH))};
KLi.\u0275cmp=_.fd({type:KLi,selectors:[["gcf-tab-permissions"]],inputs:{model:"model"},decls:6,vars:6,consts:()=>[["id","gcf-permissions-action-bar","cfcTitle","Permissions",3,"titleHeadingNumber"],[1,"cfc-action-bar-content-main"],[1,"cfc-indent","cfc-space-above-minus-3"],[3,"functionDisplayName","region",4,"ngIf"],[3,"resource","roleData"],[3,"functionDisplayName","region"]],template:function(a,b){a&1&&(_.H(0,"cfc-action-bar",0),_.J(1,"div",1),_.I(),_.H(2,"section",2),_.D(3,JEi,1,2,"gcf-invoker-permission-warning",
3),_.J(4,"iam-table-view",4),_.X(5,"async"),_.I());a&2&&(_.G("titleHeadingNumber",2),_.z(3),_.G("ngIf",b.model.isV2Function()),_.z(),_.G("resource",b.iamCompatibleModel)("roleData",_.Y(5,4,b.roleData)))},dependencies:[_.MB,_.el,XKi,_.Gzi,_.jl],encapsulation:2});var LLi=[_.NB,_.kl,YKi,_.Izi],MLi=class{};MLi.\u0275fac=function(a){return new (a||MLi)};MLi.\u0275mod=_.gd({type:MLi});MLi.\u0275inj=_.Rc({imports:[LLi]});var KEi=function(a){let b;return _.PSh(null==(b=a.model.runtimeInfo)?void 0:b.stage)},OEi=function(a){a.inlineEditInProgress=!0;a.form=a.buildForm();a.editedModel=a.model.clone();setTimeout(()=>{a.codeEditor.focus()},1)},QEi=function(a){a.editedModel.runtimeInfo=a.form.value.runtimeInfo;a.editedModel.entryPoint=a.form.value.entryPoint;a.isSubmitting=!0;a.cloudShellService.panelOpenedSubject.next(!1);_.H4h(a.cloudShellService);a.snackBarService.open("Updating function source code...");a.form.disable();
a.apiService.updateFunction(a.model,a.editedModel).then(()=>_.Zd(function*(){a.analyticsService.sendAnalyticsEvent("editSuccess",a.editedModel,{inlineEdit:!0});yield _.Vd(xLi(a.dataHolder,a.route.snapshot));a.inlineEditInProgress=!1;a.form=void 0;a.editedModel=void 0})).catch(()=>{a.analyticsService.sendAnalyticsEvent("editError",a.editedModel,{inlineEdit:!0})}).finally(()=>{a.form&&a.form.enable();a.snackBarService.dismiss();a.isSubmitting=!1})},NLi=class{constructor(a,b,c,d,e,f,g,l){this.analyticsService=
a;this.apiService=b;this.cloudShellService=c;this.dataHolder=d;this.route=e;this.snackBarService=f;this.iamPermissionsService=g;this.icons=l;this.destroyRef=_.cd(_.ze);this.ve={FunctionsDetailsSourceTabInlineEditButton:185782,FunctionsDetailsSourceTabInlineSaveButton:185783,FunctionsDetailsSourceTabInlineCancelButton:185781};this.isSubmitting=this.inlineEditInProgress=!1;this.isEntryPointMissingRefreshInternvalMs=2E3;this.isEntryPointMissing=_.re(0,this.isEntryPointMissingRefreshInternvalMs).pipe(_.x(()=>
{let m;return null!=(m=this.form)&&m.value.entryPoint&&this.codeEditor?_.k4h(this.codeEditor,this.form.value.entryPoint):!1}));this.getRuntimeInfoString=_.JKh;this.predeploymentTestingSupportedOnScreen=this.predeploymentTestingStarted=!1;this.cloudShellService.panelOpenedSubject.pipe(_.Zg(this.destroyRef)).subscribe(m=>{this.predeploymentTestingStarted=m});this.cloudShellService.testingSupportedOnScreenSubject.pipe(_.Zg(this.destroyRef)).subscribe(m=>{this.predeploymentTestingSupportedOnScreen=m})}ngOnInit(){this.iamResource=
SAi(this.model)}get mainFile(){let a,b;return null!=(b=_.ELh(Object.keys(null!=(a="inlineFailed"===this.model.sourceType?this.model.lastAttemptedInlineFiles:this.model.inlineFiles)?a:{})))?b:""}get showPredeploymentTesting(){return this.predeploymentTestingStarted&&this.predeploymentTestingSupportedOnScreen}get sourceDownloadUrl(){return"inlineFailed"===this.model.sourceType&&this.model.lastAttemptedSourceDownloadUrl?this.model.lastAttemptedSourceDownloadUrl:this.model.downloadHref}get codeEditorModel(){return this.inlineEditInProgress?
this.editedModel:this.model}get codeEditorMode(){return this.inlineEditInProgress&&!this.isSubmitting?"inlineEdit":"readOnly"}get showInlineEditModeControls(){return this.iamPermissionsService.can("cloudfunctions.functions.update",this.iamResource)&&_.Alh(this.model)&&!this.isSubmitting&&this.model.editEnabled()}get showMessageAboutStaleInlineCode(){if(this.model.isV2Function()||!_.Alh(this.model))var a=!1;else{var b;if(b="DEPLOYING"===this.model.status){b=this.dataHolder;if(b.isV2Function())b=!1;
else{var c;b="1"===(null==(a=b.details)?void 0:null==(c=a.operationVersion)?void 0:c.revision)}b=!b}a=b}return a}get isSaveAndRedeployButtonDisabled(){let a;return!(null==(a=this.form)||!a.invalid)||!this.codeEditor.isFormValid()}buildForm(){return new _.at({runtimeInfo:new _.et(this.model.runtimeInfo,{nonNullable:!0}),entryPoint:new _.et(this.model.entryPoint,{nonNullable:!0})})}};NLi.\u0275fac=function(a){return new (a||NLi)(_.A(_.G8),_.A(_.t6),_.A(_.d9),_.A(L$),_.A(_.vg),_.A(_.VA),_.A(_.Ir),_.A(_.E8))};
NLi.\u0275cmp=_.fd({type:NLi,selectors:[["gcf-tab-source"]],viewQuery:function(a,b){a&1&&_.Uf(_.V8,5);if(a&2){let c;_.Wf(c=_.Xf())&&(b.codeEditor=c.first)}},hostAttrs:[1,"cfc-flex-layout-column"],inputs:{model:"model"},features:[_.$f([_.c9,_.d9])],decls:13,vars:11,consts:()=>[" Runtime "," Entry point "," Edit "," Save and redeploy "," Cancel "," Download zip "," This function is being redeployed. Function source code will update post-deployment. ",[1,"gm2-border-bottom","cfc-max-width-full","cfc-flex-container",
"cfc-flex-direction-column"],[1,"cfc-indent","cfc-space-above-minus-4","cfc-space-below-minus-4","cfc-flex-container","cfc-flex-space-between-content","cfc-flex-center-aligned"],["fxLayoutGap","32px",1,"cfc-flex-wrap-container","cfc-flex-center-aligned"],[4,"ngIf"],["class","cfc-flex-wrap-container cfc-flex-center-aligned cfc-max-width-full","fxLayoutGap","32px",3,"formGroup",4,"ngIf"],["role","button","mat-raised-button","","target","_blank","color","primary","cfcTrackedEvent","","track-type","functionsDetails",
"track-name","downloadSource","cfcDisable","","cfcIamCheck","cloudfunctions.functions.sourceCodeGet",3,"cfc-external-link","isInternal","cfcIamResource",4,"ngIf"],["class","cfc-gutter-minus-2 gcf-message-no-top-spacing cfc-space-last",4,"ngIf"],[3,"inlineStatus",4,"ngIf"],[1,"cfc-flex-grow-content","cfc-flex-container"],[1,"gcf-indent-small",3,"model","mainFile","mode"],["class","gcf-predeployment-testing-details gcf-border-left cfc-flex-container",4,"ngIf"],[1,"cfctest-function-details-runtime"],
[1,"cfc-text-caption-strong"],[3,"type",4,"ngIf"],[1,"cfctest-function-details-entrypoint"],[3,"type"],["fxLayoutGap","32px",1,"cfc-flex-wrap-container","cfc-flex-center-aligned","cfc-max-width-full",3,"formGroup"],["formControlName","runtimeInfo",1,"cfc-space-above-minus-5","cfc-space-below-minus-5","cfc-max-width-small",3,"productVersion","region","runtimeFamilyReadonly"],["formControlName","entryPoint",1,"cfc-space-above-minus-5","cfc-space-below-minus-5"],["mat-raised-button","","color","primary",
"class","cfc-space-above-minus-5 cfc-space-below-minus-5",3,"ve","veClick","click",4,"ngIf"],["mat-raised-button","","color","primary",1,"cfc-space-above-minus-5","cfc-space-below-minus-5",3,"click","ve","veClick"],["mat-raised-button","","color","primary",1,"cfc-space-above-minus-5","cfc-space-below-minus-5",3,"click","cmNativeDisabled","ve","veClick"],["mat-button","","color","primary",1,"cfc-space-above-minus-5","cfc-space-below-minus-5",3,"click","ve","veClick"],[3,"model"],["role","button","mat-raised-button",
"","target","_blank","color","primary","cfcTrackedEvent","","track-type","functionsDetails","track-name","downloadSource","cfcDisable","","cfcIamCheck","cloudfunctions.functions.sourceCodeGet",3,"cfc-external-link","isInternal","cfcIamResource"],["matButtonIcon","",3,"icon"],["class","cfc-gutter-minus-2 gcf-message-no-top-spacing",4,"ngIf"],[1,"cfc-gutter-minus-2","gcf-message-no-top-spacing",3,"runtimeInfo"],[1,"cfc-gutter-minus-2","gcf-message-no-top-spacing"],[1,"cfc-gutter-minus-2","gcf-message-no-top-spacing",
"cfc-space-last"],[3,"inlineStatus"],[1,"gcf-predeployment-testing-details","gcf-border-left","cfc-flex-container"]],template:function(a,b){a&1&&(_.H(0,"div",7)(1,"div",8)(2,"div",9),_.D(3,MEi,12,3,"ng-container",10)(4,NEi,3,4,"form",11)(5,SEi,3,2,"ng-container",10),_.I(),_.D(6,TEi,4,4,"a",12),_.I(),_.D(7,VEi,4,4,"ng-container",10)(8,WEi,3,0,"cfc-message",13),_.I(),_.D(9,XEi,1,1,"gcf-source-errors",14),_.H(10,"div",15),_.J(11,"gcf-code-editor",16),_.D(12,YEi,2,1,"div",17),_.I());a&2&&(_.z(3),_.G("ngIf",
!b.inlineEditInProgress),_.z(),_.G("ngIf",b.inlineEditInProgress),_.z(),_.G("ngIf",b.showInlineEditModeControls),_.z(),_.G("ngIf",b.sourceDownloadUrl&&!b.inlineEditInProgress),_.z(),_.G("ngIf",b.inlineEditInProgress),_.z(),_.G("ngIf",b.showMessageAboutStaleInlineCode),_.z(),_.G("ngIf",_.CWh.includes(b.model.sourceType)),_.z(2),_.G("model",b.codeEditorModel)("mainFile",b.mainFile)("mode",b.codeEditorMode),_.z(),_.G("ngIf",b.showPredeploymentTesting))},dependencies:[_.Wr,_.Tr,_.iu,_.yt,_.xu,_.gp,_.xt,
_.el,_.Jx,_.rQ,_.uD,_.FD,_.V8,_.W8,_.e9,_.Q4h,_.q4h,_.sB,_.fo,_.to,_.wo,_.J4h,_.h5h,_.$w,_.Yw,_.Zw,_.jt,_.mt,_.S4h,_.jl],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var OLi=[_.Xr,_.ju,_.At,_.kl,_.Qx,_.PB,_.wD,_.HD,_.n4h,_.p4h,_.P4h,_.R4h,_.s4h,_.tB,_.go,_.Eo,_.L4h,_.j5h,_.cx,_.qA,_.U4h],PLi=class{};PLi.\u0275fac=function(a){return new (a||PLi)};PLi.\u0275mod=_.gd({type:PLi});PLi.\u0275inj=_.Rc({imports:[OLi]});var QLi=class{constructor(a,b){this.analyticsService=a;this.embeddedToolsService=b;this.testInCloudShellClicked=new _.Nk;this.MSG_INVALID_JSON="Provided JSON is not valid"}ngOnChanges(){var a=this.model,b=this.testDataModel,c=this.requestSettings,d=a.timeoutSec+10;const e=_.MVh(this.httpUrl,null==c?void 0:c.queryParams),f=dFi(ZEi(a,!0,c));let g;c=null!=(g=null==c?void 0:c.httpMethod)?g:"POST";b=b.replace(/'/g,"'\\''");a=_.cph(bFi(a))?"echo CmYKSHByb2plY3RzL2hlbGxvLXdvcmxkL2RhdGFiYXNlcy8oZGVmYXVsdCkvZG9jdW1lbnRzL0hlbGxvV29ybGQvSGVsbG9Xb3JsZBoMCK3+saMGEJjGy/8CIgwIrf6xowYQmMbL/wI=  | \\\nbase64 -d | \\\n":
void 0;d=`curl -m ${d} -X ${c} ${e} \\
${f}`;this.generatedTestCommand=a?`${a}${d} --data-binary @-`:`${d} \\
-d '${b}'`}get isTestDataValid(){try{JSON.parse(this.testDataModel)}catch(a){return!1}return!0}isFunctionTestable(){let a,b;return"READY"===(null==(a=this.model)?void 0:a.status)||"WARNING"===(null==(b=this.model)?void 0:b.status)}};QLi.\u0275fac=function(a){return new (a||QLi)(_.A(_.G8),_.A(_.II))};
QLi.\u0275cmp=_.fd({type:QLi,selectors:[["gcf-tab-testing-curl-command"]],inputs:{model:"model",testDataModel:"testDataModel",httpUrl:"httpUrl",requestSettings:"requestSettings"},outputs:{testInCloudShellClicked:"testInCloudShellClicked"},features:[_.rd],decls:7,vars:2,consts:()=>[" CLI test command "," Run in Cloud Shell ",[1,"gcf-inline-block"],[1,"gcf-inline-block","cfc-text-title-2","cfc-font-weight-bold","cfc-space-above-minus-6"],["mat-button","","color","primary","type","button","cfcDisableTooltip",
"Function is not ready yet or provided JSON is not valid.",3,"click","cfcDisable"],[1,"cfc-height-full","cfc-position-relative"],["height","fill","overflowVertical","visible","overflowHorizontal","visible",1,"gcf-min-height-150",3,"content"]],template:function(a,b){a&1&&(_.H(0,"div",2)(1,"span",3),_.M(2,0),_.I(),_.H(3,"button",4),_.N("click",function(){b.embeddedToolsService.openCloudShellAndEnterCommand(b.generatedTestCommand.replace(/\\\n/g,"CLOUDSHELL_LINE_BREAK").replace(/\n|\s+/g," "));b.testInCloudShellClicked.emit();
b.analyticsService.sendAnalyticsEvent("testWithCloudShellClicked",b.model)}),_.M(4,1),_.I()(),_.H(5,"div",5),_.J(6,"cfc-code-snippet",6),_.I());a&2&&(_.z(3),_.G("cfcDisable",!b.isFunctionTestable()||!b.isTestDataValid),_.z(3),_.G("content",b.isTestDataValid?b.generatedTestCommand:b.MSG_INVALID_JSON))},dependencies:[_.bR,_.Jx,_.yt,_.gp,_.xt],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var RLi=[_.lR,_.kl,_.Qx,_.At],SLi=class{};SLi.\u0275fac=function(a){return new (a||SLi)};SLi.\u0275mod=_.gd({type:SLi});SLi.\u0275inj=_.Rc({imports:[RLi]});var ULi=function(a,b,c="{}\n"){return new TLi(a.gcfApiService,a.loggingApiService,a.pollingService,b,c)},VLi=class{constructor(a,b,c){this.gcfApiService=a;this.loggingApiService=b;this.pollingService=c}};VLi.\u0275fac=function(a){return new (a||VLi)(_.k(_.t6),_.k(_.xR),_.k(_.Wp))};VLi.\u0275prov=_.h({token:VLi,factory:VLi.\u0275fac,providedIn:"root"});
var WLi=function(a){a.logPolling&&(a.logPolling.unsubscribe(),a.logPolling=void 0)},YLi=function(a,b){const c='resource.type="cloud_function"\n'+`resource.labels.function_name="${a.model.name}"\n`+`resource.labels.region="${a.model.region}"\n`+`labels.execution_id="${b}"\n`;XLi(a,c);const d={filter:c,orderBy:"timestamp desc",pageSize:100,resourceNames:[`projects/${a.model.projectId}`]};a.logPolling=a.pollingService.poll(()=>{a.loggingApiService.entries.list(d).subscribe(e=>{a.result.executionId===
b&&(a.logEntries=e.entries||[],0<a.logEntries.length&&WLi(a))})},{description:"functions logs polling config",interval:5E3,initialInterval:0}).subscribe()},XLi=function(a,b){const c=_.IQ.create(),d=c.link();d.set(c.project,a.model.projectId);d.set(c.query,b);a.logsUrl=d;a.logsFilter=b},TLi=class{constructor(a,b,c,d,e="{}\n"){this.gcfApiService=a;this.loggingApiService=b;this.pollingService=c;this.model=d;this.testData=e;this.result={};this.state="NOT_RUN";this.logEntries=[]}run(){this.state="RUNNING";
this.result={};this.logEntries=[];WLi(this);return this.promise=LGi(this.gcfApiService,this.model,this.testData).then(({executionId:a,result:b,error:c})=>{this.state="FINISHED";this.result={executionId:a,result:c||b};a&&YLi(this,a)})}};var ZLi=()=>({enabled:!1}),$Li=a=>({minimap:a}),aMi=class{constructor(a,b,c){this.testExecutionFactory=b;this.icons=c;this.LOG_LIMIT=100;this.testDataModel="{}";this.executions=[];this.logsViewerProjectIds=[`projects/${_.Kp(a)}`]}ngOnInit(){this.iamResource=SAi(this.model);this.testDataModel=_.qWh(this.model.trigger.triggerType)}isFunctionTestable(){let a,b;return"READY"===(null==(a=this.model)?void 0:a.status)||"WARNING"===(null==(b=this.model)?void 0:b.status)}isHttpFunction(){let a,b;return"https"===
(null==(a=this.model)?void 0:null==(b=a.trigger)?void 0:b.triggerType)}runTest(){const a=ULi(this.testExecutionFactory,this.model,this.testDataModel);this.executions.push(a);a.run()}get lastExecution(){return this.executions[this.executions.length-1]}};aMi.\u0275fac=function(a){return new (a||aMi)(_.A(_.Lp),_.A(VLi),_.A(_.E8))};
aMi.\u0275cmp=_.fd({type:aMi,selectors:[["gcf-tab-testing-v1"]],inputs:{model:"model"},decls:26,vars:15,consts:()=>[["jsonForm","ngForm"],["codeditor","ngModel"]," Configure Triggering Event "," Should be a valid JSON "," Failed to parse JSON text "," Test the function "," Testing in the Cloud Console has a 5 minute timeout. Note that this is different from the limit set in the function configuration. "," Function is still being deployed "," Function has not been deployed. You have to redeploy it to test it. ",
" Output "," Logs "," Running... "," Complete "," Test not run "," Waiting for test to finish... "," Not available "," Fetching... "," Fetched (up to \ufffd0\ufffd entries). "," View all logs ",[4,"ngIf"],["fxLayoutGap","20px","fxLayout.lt-md","column",1,"cfc-gutter-base",3,"fxLayout.gt-sm"],["fxFlex.gt-sm","50%"],["labelId","jsonEditorLabel"],[1,"gcf-inline-block","cfc-text-title-2","cfc-font-weight-bold","cfc-space-above-minus-6"],[1,"cfc-max-width-full"],[1,"cfc-space-above-minus-1"],["name","codeditor",
"language","json","s8sJsonValidator","","aria-labelledby","jsonEditorLabel",3,"ngModelChange","ngModel","disabled","options"],["errorFor","json",3,"control"],["message","Running",3,"promise"],["mat-raised-button","","color","primary","type","button","cfcIamCheck","cloudfunctions.functions.call","cfcTrackedEvent","","track-type","functionsDetails","track-name","testFunction","cfcDisableTooltip","Function is not ready yet or provided JSON is not valid.",3,"click","cfcDisable","cfcIamResource"],[3,"icon"],
[1,"cfc-color-disabled","cfc-space-above-minus-3","gcf-inline-block"],["fxFlex.gt-sm","50%","fxFlex","","fxLayout","column",3,"model","httpUrl","testDataModel",4,"ngIf"],["type","warning",1,"cfc-indent","cfc-prefix",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["fxFlex.gt-sm","50%","fxFlex","","fxLayout","column",3,"model","httpUrl","testDataModel"],[1,"cfc-indent","cfc-prefix"],[1,"cfc-space-above-plus-1"],["role","heading","aria-level","2"],["cfc-code-snippet-shell",""],"role heading aria-level 2 instrumentationId gcf-test-logs".split(" "),
[3,"ngSwitch"],["class","cfc-indent cfc-prefix",3,"resourceNames","filter","pageSize",4,"ngIf"],[1,"cfc-indent",3,"icon"],[1,"cfc-color-secondary"],["mode","indeterminate"],[3,"cfcRouterLink","queryParams",4,"ngIf"],[3,"cfcRouterLink","queryParams"],[1,"cfc-indent","cfc-prefix",3,"resourceNames","filter","pageSize"]],template:function(a,b){if(a&1){const c=_.n();_.D(0,hFi,5,2,"ng-container",19);_.H(1,"div",20)(2,"div",21)(3,"cfc-form-label",22)(4,"span",23);_.M(5,2);_.I();_.H(6,"cfc-form-label-tooltip");
_.M(7,3);_.I()();_.H(8,"mat-card")(9,"mat-card-content")(10,"form",24,0)(12,"section",25)(13,"cfc-code-editor",26,1);_.Iw("ngModelChange",function(d){_.p(c);_.Hw(b.testDataModel,d)||(b.testDataModel=d);return _.r(d)});_.I()();_.H(15,"cfc-form-error",27);_.M(16,4);_.I();_.H(17,"cfc-progress-button",28)(18,"button",29);_.N("click",function(){_.p(c);return _.r(b.runTest())});_.J(19,"cm-icon",30);_.Gf(20);_.M(21,5);_.L();_.I()();_.H(22,"span",31);_.M(23,6);_.I()()()()();_.D(24,iFi,1,3,"gcf-tab-testing-curl-command",
32);_.I();_.D(25,sFi,20,9,"ng-container",19)}if(a&2){a=_.Yf(11);const c=_.Yf(14);_.G("ngIf",!b.isFunctionTestable());_.z();_.G("fxLayout.gt-sm",b.isHttpFunction()?"row":"column");_.z(12);_.Gw("ngModel",b.testDataModel);_.G("disabled",!b.isFunctionTestable())("options",_.dg(13,$Li,_.cg(12,ZLi)));_.z(2);_.G("control",c);_.z(2);_.G("promise",null==b.lastExecution?null:b.lastExecution.promise);_.z();_.G("cfcDisable",!b.isFunctionTestable()||!a.valid)("cfcIamResource",b.iamResource);_.z();_.G("icon",b.icons.functionsLargeIcon);
_.z(5);_.G("ngIf",b.isHttpFunction());_.z();_.G("ngIf",b.lastExecution)}},dependencies:[_.Wr,_.KD,_.f6,_.el,_.fl,_.gl,_.Bz,_.Jx,_.rQ,_.CD,_.FD,_.ED,_.XD,_.mE,_.lP,_.$w,_.Yw,_.Zw,_.ft,_.bt,_.sB,_.fo,_.MH,_.CR,_.yt,_.gp,_.xt,_.OI,_.PI,_.QI,_.NI,_.AY,_.vT,_.zY,_.to,_.wo,_.Nv,_.qu,_.f9,QLi],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var bMi=[_.Xr,_.LD,_.g6,_.kl,_.Qx,_.PB,_.HD,_.YD,_.nE,_.bx,_.tB,_.go,_.NH,_.uS,_.At,_.TI,_.BY,_.Eo,_.Ov,_.ru,_.g9,SLi],cMi=class{};cMi.\u0275fac=function(a){return new (a||cMi)};cMi.\u0275mod=_.gd({type:cMi});cMi.\u0275inj=_.Rc({imports:[bMi]});var tFi=class{};tFi.\u0275fac=function(a){return new (a||tFi)};
tFi.\u0275cmp=_.fd({type:tFi,selectors:[["gcf-testing-v2-info-dialog"]],decls:18,vars:0,consts:()=>[" Generating Test Commands\n"," Testing improvements are still in development for 2nd gen. In the meantime, you can easily test your function by configuring the payload and copying the curl command into your terminal. \ufffd#5\ufffd Learn more \ufffd/#5\ufffd"," Some things to keep in mind: "," JSON payload structure can be different for different trigger types. Verify you are using the appropriate payload. ",' Test commands only work for HTTP triggered functions with "allow unauthenticated invocations" enabled, or for users that have a Cloud Functions invoker role. ',
" After running the test command, you must switch to the logs tab in order to see results. "," Close ",["matDialogTitle",""],["matDialogContent",""],["cfcDocHref","CONSOLE__FUNCTIONS_DOCS_TESTING_TEST_OVERVIEW","aria-label","Learn more about testing 2nd gen Cloud Functions."],["cfc-list",""],["matDialogActions",""],"mat-button  matDialogClose  color primary".split(" ")],template:function(a){a&1&&(_.H(0,"h1",7),_.M(1,0),_.I(),_.H(2,"div",8)(3,"p"),_.Kf(4,1),_.J(5,"a",9),_.Lf(),_.I(),_.H(6,"p"),_.M(7,
2),_.I(),_.H(8,"ul",10)(9,"li"),_.M(10,3),_.I(),_.H(11,"li"),_.M(12,4),_.I(),_.H(13,"li"),_.M(14,5),_.I()()(),_.H(15,"div",11)(16,"button",12),_.M(17,6),_.I()())},dependencies:[_.yu,_.Dt,_.yt,_.gp,_.xt,_.Ls,_.In,_.Jn,_.Ms],encapsulation:2});var yFi=()=>({enabled:!1}),xFi=a=>({minimap:a}),dMi=function(a){a.infoDialogAlreadyChecked||OGi(a.tabernaService).pipe(_.Zg(a.destroyRef),_.Te(1)).subscribe(b=>{a.infoDialogAlreadyChecked=!0;b&&(a.dialog.open(tFi),a.tabernaService.basicTypesService.update({key:NGi,value:{boolVal:!0}}))})},eMi=function(a){let b;return!_.cph(null==(b=a.model.triggerV2)?void 0:b.eventType)},fMi=class{constructor(a,b,c,d,e,f){this.flags=a;this.analyticsService=b;this.apiService=c;this.dialog=d;this.tabernaService=e;this.icons=
f;this.destroyRef=_.cd(_.ze);this.showTestingTabInProgressWarning=!0;this.testInCloudShellClicked=new _.Nk;this.testExecutionState="NOT_RUN";this.testExecutionResult=null;this.authToken="";this.LOGS_PAGE_SIZE=100;this.infoDialogAlreadyChecked=!1}ngOnInit(){let a,b,c,d;this.testDataModel=_.pWh(null!=(d=null==(a=this.model.triggerV2)?void 0:a.eventType)?d:null==(b=this.model.upgradeInfo)?void 0:null==(c=b.triggerV2)?void 0:c.eventType);this.logsViewerProjectIds=[`projects/${this.model.projectId}`]}ngOnChanges(a){let b;
(null==(b=a.isTabVisible)?0:b.currentValue)&&dMi(this)}get showTestButton(){return this.flags.postDeploymentTestingEnabled&&this.model.unauthenticatedAccess&&("allowAll"===this.model.ingressSettings||"unspecified"===this.model.ingressSettings)}get testButtonEnabled(){let a,b;const c="READY"===(null==(a=this.model)?void 0:a.status)||"WARNING"===(null==(b=this.model)?void 0:b.status);return this.testDataValid&&c}get logsFilter(){return`resource.type = "cloud_run_revision"
resource.labels.service_name = "${this.model.name}"
resource.labels.location = "${this.model.region}"`}get fullLogsUrl(){return RAi(this.model,this.model.projectId)}runTest(){this.testExecutionState="RUNNING";const a=$Ei(this.model,this.requestSettings),b=this.requestSettings?aFi(this.httpUrl,this.requestSettings.queryParams):this.httpUrl;this.apiService.callFunctionV2(b,this.testDataModel,this.authToken,a).pipe(_.Zg(this.destroyRef)).subscribe(c=>{this.testExecutionState="FINISHED";let d;var e=(null==(d=c.callFunctionV2)?0:d.length)?c.callFunctionV2[0]:
null;var f;this.model.isHttpFunction()&&e?(c=_.DLh(null!=(f=e.Body)?f:""),f=c.slice(c.indexOf("\r\n\r\n")+4)):f=null;this.testExecutionResult=f;let g;f=this.analyticsService;c=this.model;e=null==e?void 0:null==(g=e.Data)?void 0:g.Status;f.sendAnalyticsEvent("postDeploymentTesting",c,{executionStatus:null==e?void 0:e.State,failureReason:null==e?void 0:e.Reason})})}get testDataValid(){try{JSON.parse(this.testDataModel)}catch(a){return!1}return!0}};
fMi.\u0275fac=function(a){return new (a||fMi)(_.A(_.i6),_.A(_.G8),_.A(_.t6),_.A(_.Hn),_.A(_.v4h),_.A(_.E8))};
fMi.\u0275cmp=_.fd({type:fMi,selectors:[["gcf-tab-testing-v2"]],inputs:{model:"model",httpUrl:"httpUrl",isTabVisible:"isTabVisible",showTestingTabInProgressWarning:"showTestingTabInProgressWarning"},outputs:{testInCloudShellClicked:"testInCloudShellClicked"},features:[_.rd],decls:8,vars:6,consts:()=>[["testingTabCommandMessage",""],["binaryPayloadMessage",""],["jsonForm","ngForm"],["codeditor","ngModel"]," Note: Testing improvements are still in development for 2nd gen. In the meantime, please use this to generate a testing command that you can paste into your terminal. ",
" Learn more "," Dismiss "," The selected Cloud Function can be tested with binary data containing a protobuf. The generated command was pre-populated with a testing payload. "," Dismiss "," Configure triggering event "," Failed to parse JSON text "," Test the function "," Logs "," Output "," Waiting for test to finish... "," Fetched (up to \ufffd0\ufffd entries). "," View all logs ",[1,"cfc-gutter-base"],["type","warning",4,"ngIf"],["type","informational",4,"ngIf"],["fxLayoutGap","20px","fxLayout.lt-md",
"column",3,"fxLayout.gt-sm"],["fxFlex.gt-sm","50%"],[4,"ngIf"],[3,"model","testDataModel","httpUrl","requestSettings","testInCloudShellClicked",4,"ngIf"],["fxFlex.gt-sm","50%",4,"ngIf"],["type","warning"],["mat-button","","color","primary","aria-label","Learn more about testing 2nd gen Cloud Functions.",3,"click"],["mat-button","","color","primary",3,"click"],["type","informational"],["labelId","jsonEditorLabel"],[1,"cfc-space-above-minus-6"],[1,"cfc-max-width-full"],["name","codeditor","language",
"json","s8sJsonValidator","","aria-labelledby","jsonEditorLabel",3,"ngModelChange","ngModel","options"],[3,"errorFor","control"],[3,"inProgress",4,"ngIf"],[1,"cfc-space-above-base"],[3,"requestSettingsChanged","showHttpMethodSelector"],[3,"inProgress"],["mat-raised-button","","color","primary","type","button",3,"click","cfcDisable"],[3,"icon"],[3,"testInCloudShellClicked","model","testDataModel","httpUrl","requestSettings"],["role","heading","aria-level","2",4,"ngIf"],["role","heading","aria-level",
"2"],[1,"gcf-inline-block","cfc-space-above-minus-6"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"cfc-space-above-minus-6",3,"resourceNames","enableStreaming","filter","pageSize","heightPx"],["cfc-code-snippet-shell",""],[1,"cfc-indent",3,"icon"],[1,"cfc-color-secondary"],[3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.H(0,"div",17),_.D(1,uFi,9,0,"cfc-message",18)(2,vFi,7,0,"cfc-message",19),_.H(3,"div",20)(4,"div",21),_.D(5,zFi,15,9,"ng-container",22)(6,AFi,1,4,"gcf-tab-testing-curl-command",
23),_.I(),_.D(7,EFi,9,9,"div",24),_.I()());a&2&&(_.z(),_.G("ngIf",b.showTestingTabInProgressWarning&&!b.showTestButton),_.z(),_.G("ngIf",!eMi(b)),_.z(),_.G("fxLayout.gt-sm","NOT_RUN"!==b.testExecutionState?"row":"column"),_.z(2),_.G("ngIf",eMi(b)),_.z(),_.G("ngIf",!b.showTestButton),_.z(),_.G("ngIf","NOT_RUN"!==b.testExecutionState))},dependencies:[_.yt,_.gp,_.xt,_.KD,_.f6,_.el,_.fl,_.gl,_.Jx,_.CD,_.FD,_.ED,_.XD,_.mE,_.$w,_.Yw,_.Zw,_.ft,_.bt,_.fo,_.$4h,_.OI,_.PI,_.QI,_.NI,_.to,_.Rs,_.wo,_.CR,_.Nv,
_.qu,_.f9,QLi],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var gMi=[_.At,_.LD,_.g6,_.kl,_.Qx,_.HD,_.YD,_.nE,_.bx,_.go,_.b5h,_.TI,_.Eo,_.uS,_.Ov,_.ru,_.g9,SLi],hMi=class{};hMi.\u0275fac=function(a){return new (a||hMi)};hMi.\u0275mod=_.gd({type:hMi});hMi.\u0275inj=_.Rc({imports:[gMi]});var iMi=class{get isV2Function(){return this.model.isV2Function()}};iMi.\u0275fac=function(a){return new (a||iMi)};
iMi.\u0275cmp=_.fd({type:iMi,selectors:[["gcf-tab-testing"]],inputs:{model:"model",isTabVisible:"isTabVisible"},decls:2,vars:2,consts:[["id","gcf-testing-tab-v1",3,"model",4,"ngIf"],["id","gcf-testing-tab-v2",3,"model","httpUrl","isTabVisible",4,"ngIf"],["id","gcf-testing-tab-v1",3,"model"],["id","gcf-testing-tab-v2",3,"model","httpUrl","isTabVisible"]],template:function(a,b){a&1&&_.D(0,FFi,1,1,"gcf-tab-testing-v1",0)(1,GFi,1,3,"gcf-tab-testing-v2",1);a&2&&(_.G("ngIf",!b.model.isV2Function()),_.z(),
_.G("ngIf",b.isV2Function))},dependencies:[_.el,aMi,fMi],encapsulation:2});var jMi=[_.kl,cMi,hMi],kMi=class{};kMi.\u0275fac=function(a){return new (a||kMi)};kMi.\u0275mod=_.gd({type:kMi});kMi.\u0275inj=_.Rc({imports:[jMi]});var lMi=class{constructor(a,b){this.formBuilder=a;this.icons=b;this.ve={FunctionsCreateAllowUnauthenticatedRadioButton:103250,FunctionsCreateRequireAuthenticationRadioButton:103252};this.triggerV2Mode=_.X3h}ngOnInit(){this.formGroup=this.buildForm();!1===this.hasCrSetPolicyPermission&&this.formGroup.get("unauthenticatedAccess").disable()}get url(){return _.elh(this.model.projectId,this.model.region,this.name)}isFormValid(){return this.hasCrSetPolicyPermission?this.formGroup.valid:!0}get deployedUrlAvailable(){return 2===
this.mode||3===this.mode}get formValue(){return this.formGroup.getRawValue()}buildForm(){let a;const b=this.formBuilder.control(null!=(a=this.unauthenticatedAccess)?a:!1,1===this.mode?_.Xw:void 0);return this.formBuilder.group({unauthenticatedAccess:b})}};lMi.\u0275fac=function(a){return new (a||lMi)(_.A(_.vt),_.A(_.E8))};
lMi.\u0275cmp=_.fd({type:lMi,selectors:[["gcf-trigger-v2-https"]],inputs:{mode:"mode",model:"model",name:"name",hasCrSetPolicyPermission:"hasCrSetPolicyPermission",unauthenticatedAccess:"unauthenticatedAccess"},decls:17,vars:7,consts:()=>[["unclickableUrl",""],"\ufffd#4\ufffd\ufffd/#4\ufffd\ufffd#5\ufffd HTTPS \ufffd/#5\ufffd\ufffd#6\ufffd Cloud Functions 2nd gen has stable and secure HTTPS endpoints by default. \ufffd/#6\ufffd"," Authentication ","\ufffd*6:1\ufffd\ufffd#1:1\ufffd You need \ufffd#2:1\ufffdrun.services.setIamPolicy\ufffd/#2:1\ufffd permission to set this option.\ufffd#3:1\ufffd\ufffd/#3:1\ufffd\ufffd/#1:1\ufffd\ufffd/*6:1\ufffd The permission to invoke the service over HTTPS is managed via Cloud IAM if the authentication is required. ",
" Allow unauthenticated invocations \ufffd#10\ufffd Check this if you are creating a public API or website. \ufffd/#10\ufffd"," Require authentication \ufffd#13\ufffdManage authorized users with Cloud IAM.\ufffd/#13\ufffd",["cfcGoToFirstError","",3,"formGroup"],["role","heading","aria-level","2",1,"cfc-flex-center-aligned","cfc-inline-flex-container","cfc-space-below-minus-1"],[3,"icon"],[1,"gcf-indent-small"],[1,"cfc-space-below-minus-5","cfc-button-small","gcf-indent-small"],[4,"ngIf"],[1,"cfc-flex-direction-column"],
[1,"cfc-font-weight-bold"],[1,"cfc-flex-baseline-aligned"],["data-test-id","gcf-trigger-v2-https-url",3,"linkText","cfc-external-link",4,"ngIf","ngIfElse"],[3,"copyText","alwaysShowCopyButton"],[1,"cfc-flex-center-aligned","cfc-inline-flex-container","cfc-space-below-minus-4"],["id","gcf-trigger-v2-authentication-header",1,"cfc-font-weight-bold"],["aria-label","Help popup explaining authentication settings",1,"cfc-form-control-suffix","cfc-button-small"],["formControlName","unauthenticatedAccess",
"aria-labelledby","gcf-trigger-v2-authentication-header"],[3,"value","ve","veClick"],[1,"cfc-form-control-hint"],[1,"cfc-space-last",3,"value","ve","veClick"],["data-test-id","gcf-trigger-v2-https-url",3,"linkText","cfc-external-link"],["data-test-id","gcf-trigger-v2-https-unclickable-url"]],template:function(a,b){a&1&&(_.H(0,"form",6)(1,"mat-card")(2,"mat-card-title",7),_.Kf(3,1),_.J(4,"cm-icon",8)(5,"span",9)(6,"cfc-help-button",10),_.Lf(),_.I(),_.D(7,IFi,14,7,"mat-card-content",11),_.H(8,"mat-card-content")(9,
"div",12)(10,"span",13),_.S(11,"URL"),_.I(),_.H(12,"div",14),_.D(13,JFi,1,2,"a",15)(14,KFi,2,1,"ng-template",null,0,_.fg),_.J(16,"cfc-easy-copy",16),_.I()()()()());a&2&&(a=_.Yf(15),_.G("formGroup",b.formGroup),_.z(4),_.G("icon",b.icons.vpnSmallIcon),_.z(3),_.G("ngIf",b.mode===b.triggerV2Mode.ADD),_.z(6),_.G("ngIf",b.deployedUrlAvailable&&b.model.unauthenticatedAccess)("ngIfElse",a),_.z(3),_.G("copyText",b.url)("alwaysShowCopyButton",!0))},dependencies:[_.Wr,_.Tr,_.el,_.r3,_.tD,_.fR,_.Sx,_.fo,_.OI,
_.PI,_.QI,_.EP,_.NI,_.ty,_.sy,_.uy,_.yx,_.zx,_.$w,_.Yw,_.Zw,_.jt,_.mt],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var mMi=[_.Xr,_.kl,_.s3,_.wD,_.gR,_.Ux,_.go,_.TI,_.wy,_.cx],nMi=class{};nMi.\u0275fac=function(a){return new (a||nMi)};nMi.\u0275mod=_.gd({type:nMi});nMi.\u0275inj=_.Rc({imports:[mMi]});var oMi=class{constructor(){this.cardModes=_.Q3h;this.cardTypes=_.s3h;this.triggerV2Mode=3}ngOnInit(){this.model.isV2Function()}get isMainV2TriggerAvailable(){let a;return this.model.isV2Function()&&!(null==(a=this.model.triggerV2)||!a.name)}get functionUrl(){return _.elh(this.model.projectId,this.model.region,this.model.name)}};oMi.\u0275fac=function(a){return new (a||oMi)};
oMi.\u0275cmp=_.fd({type:oMi,selectors:[["gcf-tab-triggers"]],inputs:{model:"model"},decls:3,vars:2,consts:[[1,"cfc-space-above-plus-1","cfc-indent","cfc-prefix"],[3,"type","mode","model","functionUrl",4,"ngIf"],["class","cfc-grid cfc-grid--chart-cards",4,"ngIf"],[3,"type","mode","model","functionUrl"],[1,"cfc-grid","cfc-grid--chart-cards"],[3,"model","name","mode",4,"ngIf"],[3,"mode","model",4,"ngIf"],[3,"model","name","mode"],[3,"mode","model"]],template:function(a,b){a&1&&(_.H(0,"div",0),_.D(1,
LFi,1,4,"gcf-trigger-card",1)(2,OFi,3,2,"div",2),_.I());a&2&&(_.z(),_.G("ngIf",!b.model.isV2Function()),_.z(),_.G("ngIf",b.model.isV2Function()))},dependencies:[_.el,_.R3h,lMi,XHi],encapsulation:2});var pMi=[_.kl,_.S3h,nMi,ZHi],qMi=class{};qMi.\u0275fac=function(a){return new (a||qMi)};qMi.\u0275mod=_.gd({type:qMi});qMi.\u0275inj=_.Rc({imports:[pMi]});var QFi=a=>({summaries:a,id:"p6ntest-volume-list"}),SFi=a=>({summaries:a,id:"p6ntest-env-list"}),rMi=function(a=""){const b=IHi.create();if(a.match(_.mqh)){const {projectNumber:c,name:d}=_.$Lh(a);return b.link().set(b.secretId,d).set(b.project,c)}return b.link().set(b.secretId,a)},tMi=class{constructor(){this.envSummaries=[];this.mountedSummaries=[]}ngOnChanges(a){if(a.configs&&a.configs.previousValue!==a.configs.currentValue){this.envSummaries=[];this.mountedSummaries=[];var b;for(const {name:g=
"",volumeRef:l,envVarRef:m}of null!=(b=this.configs)?b:[]){if(m&&m.references){a=rMi(g);for(const {key:t,name:u=""}of m.references)this.envSummaries.push(new sMi(u,g,a,t))}if(l)if(a=rMi(g),b=l.mountPath||"/",l.keys&&0<l.keys.length)for(const {key:t,path:u=""}of l.keys){var c=this.mountedSummaries,d=c.push;var e=b;var f=u;e=e.endsWith("/")||f.startsWith("/")?e+f:`${e}/${f}`;d.call(c,new sMi(e,g,a,t))}else this.mountedSummaries.push(new sMi(b,g,a))}}}};tMi.\u0275fac=function(a){return new (a||tMi)};
tMi.\u0275cmp=_.fd({type:tMi,selectors:[["gse-config-summaries-list"]],inputs:{configs:"configs"},features:[_.rd],decls:5,vars:3,consts:()=>[["summaries",""]," None "," Mounted as a volume "," Exposed as an environment variable ",[4,"ngIf"],[1,"cfc-space-below-minus-4"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cfc-kv-list","",3,"id"],["class","p6ntest-summary",4,"ngFor","ngForOf"],[1,"p6ntest-summary"],["target","_blank",3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&_.D(0,
PFi,3,0,"span",4)(1,RFi,4,4,"ng-container",4)(2,TFi,4,4,"ng-container",4)(3,WFi,2,2,"ng-template",null,0,_.fg);a&2&&(_.G("ngIf",0===b.mountedSummaries.length&&0===b.envSummaries.length),_.z(),_.G("ngIf",0<b.mountedSummaries.length),_.z(),_.G("ngIf",0<b.envSummaries.length))},dependencies:[_.dl,_.el,_.il,_.Gt,_.qu],encapsulation:2});var uMi=[_.kl,_.Et,_.ru],vMi=class{};vMi.\u0275fac=function(a){return new (a||vMi)};vMi.\u0275mod=_.gd({type:vMi});vMi.\u0275inj=_.Rc({imports:[uMi]});
var sMi=class{constructor(a,b,c,d){this.source=a;this.name=b;this.key=d;this.link=c.build();this.linkQueryCommands=c.buildQueryParams()}};var wMi=a=>({variables:a}),xMi=class{constructor(a){this.projectParamService=a;this.attachedSecrets=[];a=_.Kp(this.projectParamService);this.secretsConfigFormListAdapter=new _.YXh(a)}ngOnChanges(a){a.model&&(this.attachedSecrets=_.XXh(this.secretsConfigFormListAdapter,{secretEnvironmentVariables:this.model.secretEnvironmentVariables,secretVolumes:this.model.secretVolumes}))}};xMi.\u0275fac=function(a){return new (a||xMi)(_.A(_.Lp))};
xMi.\u0275cmp=_.fd({type:xMi,selectors:[["gcf-tab-variables"]],inputs:{model:"model"},features:[_.rd],decls:18,vars:9,consts:()=>[["variableList",""]," Runtime environment variables "," Build environment variables "," Secrets "," None ",[1,"cfc-grid","cfc-grid--chart-cards","cfc-space-above-plus-1","cfc-indent","cfc-prefix"],[1,"cfctest-function-details-envvars"],["role","heading","aria-level","2"],[1,"gcf-overflow-auto"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cfctest-function-details-buildenvvars"],
[1,"cfctest-function-details-gcpsecrets"],[3,"configs"],["cfc-kv-list","",4,"ngIf"],[4,"ngIf"],["cfc-kv-list",""],[4,"ngFor","ngForOf"]],template:function(a,b){a&1&&(_.H(0,"div",5)(1,"mat-card",6)(2,"mat-card-title",7),_.M(3,1),_.I(),_.H(4,"mat-card-content",8),_.Hf(5,9),_.I()(),_.H(6,"mat-card",10)(7,"mat-card-title",7),_.M(8,2),_.I(),_.H(9,"mat-card-content",8),_.Hf(10,9),_.I()(),_.H(11,"mat-card",11)(12,"mat-card-title",7),_.M(13,3),_.I(),_.H(14,"mat-card-content",8),_.J(15,"gse-config-summaries-list",
12),_.I()()(),_.D(16,$Fi,2,2,"ng-template",null,0,_.fg));a&2&&(a=_.Yf(17),_.z(5),_.G("ngTemplateOutlet",a)("ngTemplateOutletContext",_.dg(5,wMi,b.model.environmentVariables)),_.z(5),_.G("ngTemplateOutlet",a)("ngTemplateOutletContext",_.dg(7,wMi,b.model.buildEnvironmentVariables)),_.z(5),_.G("configs",b.attachedSecrets))},dependencies:[_.dl,_.el,_.il,tMi,_.Gt,_.OI,_.PI,_.QI,_.EP,_.NI],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var yMi=[_.kl,vMi,_.Et,_.TI],zMi=class{};zMi.\u0275fac=function(a){return new (a||zMi)};zMi.\u0275mod=_.gd({type:zMi});zMi.\u0275inj=_.Rc({imports:[yMi]});var AMi=class{constructor(a,b,c,d,e,f){this.analyticsService=a;this.bulkActionHelperService=b;this.bulkActionService=c;this.dialog=d;this.gcfApiService=e;this.router=f;this.functionsListUrl=_.Kkh.create().link().build()}delete(a){this.dialog.open(_.Lzi,_.Kzi({showExternalUsageWarning:_.oLh(a),externalPartnerName:_.pLh(a),functionName:a.name,functionsCount:1})).afterClosed().pipe(_.of(b=>b?this.deleteConfirmed(a):_.w())).subscribe()}deleteConfirmed(a){var b=_.DUf(this.bulkActionHelperService,{messages:new _.Pzi});
delete b.getConfirmDialogConfig;b={ui:b,execution:{kind:"shortAction",execute:this.deleteFunction.bind(this)}};this.analyticsService.sendAnalyticsEvent("delete");return this.bulkActionService.execute(b,[a]).pipe(_.Ze(),_.qf(c=>{c.result.errors?this.analyticsService.sendAnalyticsEvent("deleteError"):this.analyticsService.sendAnalyticsEvent("deleteSuccess");this.router.navigate(this.functionsListUrl)}))}deleteFunction(a){return this.gcfApiService.deleteFunction(a.fullName,a.productVersion)}};
AMi.\u0275fac=function(a){return new (a||AMi)(_.k(_.G8),_.k(_.o3),_.k(_.p3),_.k(_.Hn),_.k(_.t6),_.k(_.Nl))};AMi.\u0275prov=_.h({token:AMi,factory:AMi.\u0275fac,providedIn:"root"});var BMi=class{};BMi.\u0275fac=function(a){return new (a||BMi)};BMi.\u0275mod=_.gd({type:BMi});BMi.\u0275inj=_.Rc({providers:[AMi],imports:[_.q3,_.Nzi]});var CMi=class{constructor(){this.dl={CONSOLE__FUNCTIONS_DOCS_RUNTIME_SUPPORT:_.RWh}}ngOnInit(){this.iamResource=SAi(this.model)}get editEnabled(){return!_.zlh(this.model)}get editLink(){const a=DHi.create();return a.link().set(a.region,this.model.region).set(a.name,this.model.name).set(a.env,_.Rrh(this.model.getProductVersion()))}getMessage(){if(!this.model.runtimeInfo)return null;const a=_.PKh(this.model.runtimeInfo);if(!a)return null;let b;return"DECOMMISSIONED_WARNING"===(null==(b=this.model.runtimeInfo)?
void 0:b.warningStage)?a+" In order to re-deploy this function, please migrate to a more up-to-date runtime version.":a+" Please update this function using the latest runtime version available."}};CMi.\u0275fac=function(a){return new (a||CMi)};
CMi.\u0275cmp=_.fd({type:CMi,selectors:[["gcf-runtime-warning"]],inputs:{model:"model"},decls:1,vars:1,consts:()=>[" Learn more "," Edit and redeploy ",["type","warning","class","cfc-gutter-minus-2 cfc-space-last",4,"ngIf"],["type","warning",1,"cfc-gutter-minus-2","cfc-space-last"],["mat-button","","aria-label","Learn more about runtime lifecycles",3,"cfcDocLink"],["mat-raised-button","","color","primary","track-name","editButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcIamCheck",
"cloudfunctions.functions.update","cfcDisableTooltip","Please wait until function is deployed",3,"cfcRouterLink","queryParams","cfcDisable","cfcIamResource"]],template:function(a,b){a&1&&_.D(0,aGi,8,6,"cfc-message",2);a&2&&_.G("ngIf",b.getMessage())},dependencies:()=>[_.yt,_.xu,_.xt,_.Jx,_.Cz,_.rQ,_.sB,_.to,_.Rs,_.wo,_.el,_.qu],encapsulation:2,changeDetection:0});var DMi=class{};DMi.\u0275fac=function(a){return new (a||DMi)};DMi.\u0275mod=_.gd({type:DMi});
DMi.\u0275inj=_.Rc({imports:[_.At,_.Qx,_.Yx,_.PB,_.tB,_.Eo,_.ru]});var bGi=class{constructor(a,b){this.data=a;this.subtaskRef=b}};bGi.\u0275fac=function(a){return new (a||bGi)(_.A(_.JC),_.A(_.IC))};
bGi.\u0275cmp=_.fd({type:bGi,selectors:[["gcf-testing-v2-subtask"]],hostAttrs:[1,"cfc-flex-layout-column"],decls:4,vars:4,consts:()=>[" Cancel ",[3,"testInCloudShellClicked","model","httpUrl","showTestingTabInProgressWarning"],[3,"disableSticky"],["mat-button","","color","primary","aria-label","Cancel",3,"click"]],template:function(a,b){a&1&&(_.H(0,"gcf-tab-testing-v2",1),_.N("testInCloudShellClicked",function(){return b.subtaskRef.cancel()}),_.I(),_.H(1,"cfc-panel-footer",2)(2,"button",3),_.N("click",
function(){return b.subtaskRef.cancel()}),_.M(3,0),_.I()());a&2&&(_.G("model",b.data.model)("httpUrl",b.data.model.upgradeInfo.deployedV2Url)("showTestingTabInProgressWarning",!1),_.z(),_.G("disableSticky",!0))},dependencies:[fMi,_.yt,_.gp,_.xt,_.EC],encapsulation:2});var EMi=function(a){switch(a.step){case 0:a.title="Upgrade eligible";a.stateMessage="Ready to upgrade";a.mainActionBtnTitle="Upgrade to 2nd gen";a.secondActionBtnTitle="Learn more";a.progress=0;break;case 1:a.title="Upgrade in progress (Step 1/3)";a.stateMessage="Configuration copied";a.mainActionBtnTitle="Redirect traffic";a.secondActionBtnTitle="Test function";a.progress=1/3;break;case 2:a.title="Upgrade in progress (Step 2/3)",a.stateMessage="Traffic redirected",a.mainActionBtnTitle="Commit upgrade",
a.secondActionBtnTitle="Rollback traffic",a.progress=2/3}},FMi=function(a){0===a.step?a.openApiDialog().subscribe(b=>{5!==b&&1!==b||a.dialogService.open({moduleId:"pm_gcf_upgrade_dialog",className:"GcfUpgradeDialog"},{data:{model:a.model},maxWidth:"550px"})}):1===a.step?a.showConfirmDialog(1):2===a.step&&a.showConfirmDialog(3)},GMi=class{constructor(a,b){this.dialogService=a;this.subtaskService=b;this.CONSOLE__FUNCTIONS_DOCS_2ND_GEN_OVERVIEW=_.NWh;this.onDestroy=new _.hf;this.numberOfSteps=3;this.step=
0;this.stateMessage=this.title="";this.progress=0;this.secondActionBtnTitle=this.mainActionBtnTitle=""}ngOnInit(){EMi(this)}ngOnChanges(){EMi(this)}ngOnDestroy(){this.onDestroy.next()}get mainActionButtonVe(){if(0===this.step)return 207788;if(1===this.step)return 207790;if(2===this.step)return 207792}get secondaryActionButtonVe(){if(2===this.step)return 207791}showConfirmDialog(a){this.dialogService.open({moduleId:"pm_gcf_upgrade_confirm_dialog",className:"GcfUpgradeConfirmDialog"},{data:{model:this.model,
type:a},maxWidth:"550px"})}openApiDialog(){return this.dialogService.open({moduleId:"pm_gcf_apis_enabler",className:"GcfApisEnabler"},{data:{apis:_.Zoh,contentText:"You need to enable the following APIs to upgrade Cloud Functions to 2nd Gen",enableBatch:!0}}).pipe(_.of(a=>a.afterClosed()),_.kf(1))}};GMi.\u0275fac=function(a){return new (a||GMi)(_.A(_.nr),_.A(_.KC))};
GMi.\u0275cmp=_.fd({type:GMi,selectors:[["gcf-upgrade-progress"]],inputs:{step:"step",model:"model"},features:[_.rd],decls:17,vars:12,consts:[[1,"cfc-space-below-minus-4","gcf-panel-small-vertical-spacing","gcf-hide-on-mobile"],[1,"cfc-flex-center-aligned","cfc-flex-container"],[1,"flex-layout-column"],[1,"cfc-space-above-minus-6",3,"semanticLevel","visualLevel"],[1,"cfc-space-below-minus-3","cfc-space-above-minus-5","cfctest-pill-usage-indicator"],[3,"segmentCount","width"],[3,"value"],[1,"cfc-space-last",
"gcf-width-2-3"],["mat-button","","color","primary","id","upgrade-progress-main-button",1,"cfc-button-align-left","cfc-space-above-minus-5",3,"click","ve","veClick"],["mat-button","","color","primary","id","upgrade-progress-secondary-button","class","cfc-space-above-minus-5",3,"ve","veClick","click",4,"ngIf"],["mat-button","","id","upgrade-progress-secondary-button","class","cfc-space-above-minus-5",3,"cfcDocLink",4,"ngIf"],["mat-button","","color","primary","id","upgrade-progress-secondary-button",
1,"cfc-space-above-minus-5",3,"click","ve","veClick"],["mat-button","","id","upgrade-progress-secondary-button",1,"cfc-space-above-minus-5",3,"cfcDocLink"]],template:function(a,b){a&1&&(_.H(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"cfc-heading",3),_.S(5),_.I(),_.H(6,"cfc-usage-indicator",4)(7,"cfc-pill-chart",5),_.J(8,"cfc-pill-chart-section",6),_.I(),_.H(9,"cfc-usage-indicator-label"),_.S(10),_.I()(),_.J(11,"hr",7),_.H(12,"div")(13,"button",8),_.N("click",function(){return FMi(b)}),
_.S(14),_.I(),_.D(15,cGi,2,3,"button",9)(16,dGi,2,2,"a",10),_.I()()()()());a&2&&(_.z(4),_.G("semanticLevel",1)("visualLevel",5),_.z(),_.V(" ",b.title," "),_.z(2),_.G("segmentCount",b.numberOfSteps)("width",100),_.z(),_.G("value",b.progress),_.z(2),_.Zf(b.stateMessage),_.z(3),_.G("ve",b.mainActionButtonVe)("veClick",!0),_.z(),_.V(" ",b.mainActionBtnTitle," "),_.z(),_.G("ngIf","Learn more"!==b.secondActionBtnTitle),_.z(),_.G("ngIf","Learn more"===b.secondActionBtnTitle))},dependencies:[_.Wr,_.Tr,_.yt,
_.xu,_.gp,_.xt,_.OI,_.PI,_.QI,_.NI,_.el,_.Cz,_.hv,_.v$,_.t$,_.x$,_.w$],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var HMi=[_.Xr,_.At,_.TI,_.kl,_.Yx,_.iv,_.Byi,_.Ov,_.Qyi],IMi=class{};IMi.\u0275fac=function(a){return new (a||IMi)};IMi.\u0275mod=_.gd({type:IMi});IMi.\u0275inj=_.Rc({imports:[HMi]});var JMi="UPGRADE_OPERATION_IN_PROGRESS SETUP_FUNCTION_UPGRADE_CONFIG_ERROR ABORT_FUNCTION_UPGRADE_ERROR REDIRECT_FUNCTION_UPGRADE_TRAFFIC_ERROR ROLLBACK_FUNCTION_UPGRADE_TRAFFIC_ERROR COMMIT_FUNCTION_UPGRADE_ERROR".split(" "),KMi=class{ngOnInit(){}get messageType(){return"UPGRADE_OPERATION_IN_PROGRESS"===this.upgradeState?"informational":"error"}get message(){switch(this.upgradeState){case "UPGRADE_OPERATION_IN_PROGRESS":return"Update is in progress. Please wait until this has completed before proceeding.";
case "SETUP_FUNCTION_UPGRADE_CONFIG_ERROR":return"This function has failed to upgrade. Please check the logs and retry.";case "ABORT_FUNCTION_UPGRADE_ERROR":return"This function upgrade has failed to abort. Please check the logs and retry.";case "REDIRECT_FUNCTION_UPGRADE_TRAFFIC_ERROR":return"This function has failed to migrate traffic from 1st to 2nd gen. Please check the logs and retry.";case "ROLLBACK_FUNCTION_UPGRADE_TRAFFIC_ERROR":return"This function has failed to rollback traffic from 2nd to 1st gen. Please check the logs and retry.";
case "COMMIT_FUNCTION_UPGRADE_ERROR":return"This function upgrade has failed to commit. Please check the logs and retry.";default:return""}}};KMi.\u0275fac=function(a){return new (a||KMi)};
KMi.\u0275cmp=_.fd({type:KMi,selectors:[["gcf-upgrade-warning"]],inputs:{upgradeState:"upgradeState",logsLink:"logsLink"},decls:4,vars:3,consts:()=>[" View logs ",[3,"type"],[4,"ngIf"],["mat-button","","target","_blank",3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.H(0,"cfc-message",1)(1,"cfc-message-text"),_.S(2),_.I(),_.D(3,eGi,3,2,"cfc-message-actions",2),_.I());a&2&&(_.G("type",b.messageType),_.z(2),_.V(" ",b.message," "),_.z(),_.G("ngIf",b.logsLink))},dependencies:[_.Wr,_.el,
_.yt,_.xu,_.xt,_.to,_.Rs,_.wo,_.qu],encapsulation:2});var LMi=[_.Xr,_.kl,_.PB,_.At,_.Jv,_.Eo,_.cx,_.ru],MMi=class{};MMi.\u0275fac=function(a){return new (a||MMi)};MMi.\u0275mod=_.gd({type:MMi});MMi.\u0275inj=_.Rc({imports:[LMi]});var sGi=(a,b)=>b.revision,tGi=()=>({standalone:!0}),NMi=["ELIGIBLE_FOR_2ND_GEN_UPGRADE","SETUP_FUNCTION_UPGRADE_CONFIG_ERROR"],OMi=["SETUP_FUNCTION_UPGRADE_CONFIG_SUCCESSFUL","ABORT_FUNCTION_UPGRADE_ERROR","REDIRECT_FUNCTION_UPGRADE_TRAFFIC_ERROR"],PMi=["REDIRECT_FUNCTION_UPGRADE_TRAFFIC_SUCCESSFUL","ROLLBACK_FUNCTION_UPGRADE_TRAFFIC_ERROR","COMMIT_FUNCTION_UPGRADE_ERROR"],QMi=function(a,b){b.some(c=>c.revision===a.selectedRevision)||(a.selectedRevision=nLi(a.dataHolder).revision)},TMi=class{constructor(a,
b,c,d,e,f,g,l,m,t,u,v,y){this.deletingUtil=a;this.dialogService=b;this.duetService=c;this.gcfAnalyticsService=d;this.hatsService=e;this.projectParamService=f;this.route=g;this.router=l;this.snackbar=m;this.upgradeService=t;this.dataHolder=u;this.icons=v;this.flags=y;this.destroyRef=_.cd(_.ze);this.dl={CONSOLE__FUNCTIONS_DOCS_CALLING_HTTP_URL:RGi};this.abortUpgradeButtonVe=207789;this.actionBarId="gcfCodeEditorActionBar";this.deploymentTrackerLayout=2;this.functionsListUrl=_.Kkh.create().link().build();
this.statusTooltipConfig=_.ZXh;this.s8sBadgeType=this.trafficWarningMode=0;this.crashData=_.aVf(this.route,"crashData");this.isTestingTabVisible=!1;this.deploymentTrackerExpanderCollapsed=!0;this.gcrSettingsUrl=_.QXh.create().link().build();this.GcrVisibility=JHi;this.editPageUrl=DHi.create();this.addPageUrl=_.Rnh.create();mAi(this.route).pipe(_.Zg(this.destroyRef)).subscribe(E=>{this.dataHolder.initialize(E,this.route.snapshot);this.route.snapshot.data.title=()=>{let F;return{resource:null==E?void 0:
null==(F=E.deployedVersion)?void 0:F.name}}});this.duetService.duetChatPromptSubject.next(_.lLh);var B;a=null!=(B=this.route.snapshot.queryParams.tab)?B:"metrics";this.isInvalidV2Function&&RMi.includes(a)&&(a="metrics");this.currentTabIndex=SMi.indexOf(a);this.isTestingTabVisible="testing"===a;this.iamResource=SAi(this.model);B=_.aVf(this.route,"gcrHosts");this.gcrHostObs="CONTAINER_REGISTRY"===this.model.repositoryType?B.pipe(_.x(E=>{if(E)return _.ZLh(E,this.model.region)})):_.w(void 0);this.gcrIsPublicWarningSyncKey=
`GcfDetailsPage_GcrIsPublicWarning_${this.iamResource.getResourceId().replaceAll("/","-")}`;this.upgradeService.requestSucceeded.pipe(_.Zg(this.destroyRef)).subscribe(()=>{this.refreshContent()});B=this.editPageUrl.link().set(this.editPageUrl.name,this.model.name).set(this.editPageUrl.region,this.model.region).set(this.editPageUrl.env,_.Rrh(this.model.getProductVersion()));this.editLink=B.build();this.editLinkQueryParams=B.buildQueryParams();B=this.addPageUrl.link().set(this.addPageUrl.prototype,
this.model.fullName);this.copyFunctionLink=B.build();this.copyFunctionLinkQueryParams=B.buildQueryParams()}ngOnInit(){var a=this.hatsService,b=this.model;b.isV2Function()&&_.Qzi(b.status)&&b.updateTime&&(72E5>=Date.now()-b.updateTime.getTime()||a.surveyService.triggerSurveyIfTargeted("CLOUD_FUNCTIONS_GEN2"))}get model(){return this.dataHolder.getModel()}get revisions(){const a=this.dataHolder.revisionList;QMi(this,a);return a}get statusData(){let a;return null!=(a=this.dataHolder.deploymentTrackerStatusData)?
a:[]}get postDeploymentsMessages(){let a;return null!=(a=this.dataHolder.postDeploymentsMessages)?a:[]}get selectedRevision(){return this.dataHolder.getModel().versionId}set selectedRevision(a){sLi(this.dataHolder,a).apply()}get selectedRevisionInfo(){for(const a of this.revisions)if(a.revision===this.selectedRevision)return a}get isV2Function(){return this.model.isV2Function()}get isInvalidV2Function(){return this.model.isInvalidV2Function()}get v2DeployedUrl(){return this.model.deployedUrl}get logsLink(){return RAi(this.model,
this.projectId)}get upgradeStep(){if(NMi.includes(this.upgradeState))return 0;if(OMi.includes(this.upgradeState))return 1;if(PMi.includes(this.upgradeState))return 2;throw Error("xq`"+this.upgradeState);}get showUpgradeProgress(){return NMi.includes(this.upgradeState)||OMi.includes(this.upgradeState)||PMi.includes(this.upgradeState)}get showAbortUpgrade(){return OMi.includes(this.upgradeState)||PMi.includes(this.upgradeState)||"SETUP_FUNCTION_UPGRADE_CONFIG_ERROR"===this.upgradeState}get showCloudRunBadge(){return this.isV2Function&&
!this.showUpgradeProgress}get upgradeState(){return this.model.upgradeInfo.upgradeState}get projectId(){return _.Kp(this.projectParamService)}get cloudRunLinkDisabled(){return this.dataHolder.isInitialV2Deployment}get cloudRunServiceName(){return _.k6(this.model.cloudRunService)}get deploymentTrackerAvailable(){return 0<this.statusData.length||0<this.postDeploymentsMessages.length||this.showUpgradeWarning}get showUpgradeWarning(){let a;return void 0!==(null==(a=this.model.upgradeInfo)?void 0:a.upgradeState)&&
JMi.includes(this.model.upgradeInfo.upgradeState)}refreshContent(){this.snackbar.open("Refreshing function details.");xLi(this.dataHolder,this.route.snapshot).subscribe(()=>{this.snackbar.open("Function details refreshed.")},()=>{this.snackbar.open("Failed to refresh function details. Try again.")})}};TMi.\u0275fac=function(a){return new (a||TMi)(_.A(AMi),_.A(_.nr),_.A(_.BI),_.A(_.G8),_.A(_.Rzi),_.A(_.Lp),_.A(_.vg),_.A(_.Nl),_.A(_.VA),_.A(_.B$),_.A(L$),_.A(_.E8),_.A(_.i6))};
TMi.\u0275cmp=_.fd({type:TMi,selectors:[["ng-component"]],features:[_.$f([L$,{provide:_.JG,useValue:_.Jzi}])],decls:60,vars:47,consts:()=>[["gcrIsPublicWarning",""],["globalErrorTemplate",""],["selectValueTemplate",""],["unclickableFunctionUrl",""]," Edit "," Delete "," Copy ","\ufffd#2\ufffd\ufffd/#2\ufffd Abort Upgrade "," The Container Registry repository \ufffd0\ufffd that stores this function's image is public. This could pose the risk of disclosing sensitive data. You can change this setting in Google Container Registry. ",
" Dismiss "," Change settings "," This function has failed to deploy and will not work correctly. Please edit and redeploy. "," View logs "," Edit and redeploy "," 1st gen "," 2nd gen "," Version ","URL"," Cloud Functions 2nd gen has stable and secure HTTPs endpoints by default. "," Learn more ",["sectionTitle","fulltitle","cfcTitle","Function details",3,"id","s8sPageSectionTitle","breakpoint-icon"],[1,"cfc-action-bar-content-left"],["navType","back",3,"backLink","isDetailPage"],[1,"cfc-action-bar-content-main"],
["mat-button","","color","primary","track-name","editButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcIamCheck","cloudfunctions.functions.update","aria-label","Link to edit function","cfcDisableTooltip","Please wait until function is deployed",3,"cfcRouterLink","queryParams","cfcDisable","cfcIamResource"],["matButtonIcon","",3,"icon"],["mat-button","","color","primary","track-name","deleteButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcIamCheck","cloudfunctions.functions.delete",
"aria-label","Delete function","cfcDisableTooltip","Function is being deployed or upgrade in progress",3,"click","cfcDisable","cfcIamResource"],["mat-button","","color","primary","track-name","copyButtonClick","track-type","functionsDetails","cfcTrackedEvent","","cfcDisable","","aria-label","Link to copy function","cfcIamCheck","cloudfunctions.functions.create",3,"cfcRouterLink","queryParams"],["mat-button","","color","primary","aria-label","Abort function upgrade",3,"ve","veClick","click",4,"ngIf"],
[1,"cfc-action-bar-content-right"],["learnPanel","panels--functions--details"],[3,"onRefreshStart","disableRefreshNavigation"],[1,"cfc-flex-grow-content",3,"disablePadding","flexContent"],[3,"model"],[3,"mode","cloudRunServiceName","deployedAllTrafficOnLatestRevision","invalidV2Function","region",4,"ngIf"],[4,"ngIf"],["class","cfc-space-last",4,"ngIf"],[1,"cfc-flex-wrap-container","cfc-flex-space-between-content","cfc-indent","cfc-prefix"],[1,"cfc-flex-wrap-container","cfc-flex-center-aligned","gcf-flex-fill",
"gcf-min-width-small"],[1,"cfc-text-title-2","cfc-space-above-minus-4","cfc-space-below-minus-4","cfc-prefix"],[3,"config","resource"],["color","primary","class","cfc-prefix",4,"ngIf"],["class","cfc-space-above-minus-6 cfc-space-below-minus-4 cfc-width-small",4,"ngIf"],["class","cfc-prefix","id","gcf-details-v2-revision",4,"ngIf"],["class","cfc-prefix cfc-flex-container cfc-flex-center-aligned",4,"ngIf"],["class","cfc-space-above-minus-4",3,"step","model",4,"ngIf"],["id","s8s-badge","class","cfc-space-above-minus-4",
3,"badgeType","linkDisabled","resourceName","region",4,"ngIf"],[1,"cfc-space-last"],[1,"gcf-min-height-0","cfc-height-full"],[1,"cfc-space-below-minus-2","cfc-mat-tab-expand-content","cfc-height-full",3,"selectedTabChange","selectedIndex"],["label","Metrics"],[3,"model","crashData"],["label","Details","cfcDisableTooltip","Details tab is not available for invalid functions.",3,"cfcDisable"],["lazyTab","",3,"lazyTabPreload"],["label","Source"],["matTabContent",""],["label","Variables","cfcDisableTooltip",
"Variables tab is not available for invalid functions.",3,"cfcDisable"],["label","Trigger","cfcDisableTooltip","Trigger tab is not available for invalid functions.",3,"cfcDisable"],["label","Permissions","cfcDisableTooltip","Permissions tab is not available for invalid functions.",3,"cfcDisable"],["lazyTab",""],["label","Logs"],["label","Testing"],["mat-button","","color","primary","aria-label","Abort function upgrade",3,"click","ve","veClick"],[3,"mode","cloudRunServiceName","deployedAllTrafficOnLatestRevision",
"invalidV2Function","region"],["type","warning","class","cfc-gutter-minus-2 cfc-space-last",3,"cfcMessageTabernaStateSync",4,"ngIf"],["type","warning",1,"cfc-gutter-minus-2","cfc-space-last",3,"cfcMessageTabernaStateSync"],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary","target","_blank",3,"cfcRouterLink"],["title","Deploying function",1,"cfc-indent","cfc-prefix",3,"expanderCollapsed","layout","statusMessages","statusDataArray"],[3,"upgradeState","logsLink",4,"ngIf"],
["type","error",4,"ngIf"],[3,"upgradeState","logsLink"],["type","error"],[3,"toggle","collapsed"],["mat-button","","target","_blank",3,"cfcRouterLink","queryParams"],["mat-raised-button","","cfcIamCheck","cloudfunctions.functions.update",3,"cfcRouterLink","queryParams","cfcDisable","cfcIamResource"],["color","primary",1,"cfc-prefix"],[1,"cfc-space-above-minus-6","cfc-space-below-minus-4","cfc-width-small"],[3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],[1,"cfc-color-disabled"],[1,"cfc-color-secondary",
"gcf-indent-small"],["id","gcf-details-v2-revision",1,"cfc-prefix"],[1,"cfc-prefix","cfc-flex-container","cfc-flex-center-aligned"],[1,"cfc-font-weight-bold"],["class","gcf-indent-small","data-test-id","gcf-details-v2-url",3,"linkText","cfc-external-link",4,"ngIf","ngIfElse"],[3,"copyText","alwaysShowCopyButton"],["ariaLabel","The tooltip shown for the Cloud Functions 2nd gen URL","matSuffix",""],["aria-label","Learn more about Cloud Functions URLs",3,"cfcDocLink"],["data-test-id","gcf-details-v2-url",
1,"gcf-indent-small",3,"linkText","cfc-external-link"],["data-test-id","gcf-details-v2-unclickable-url",1,"gcf-indent-small"],[1,"cfc-space-above-minus-4",3,"step","model"],["id","s8s-badge",1,"cfc-space-above-minus-4",3,"badgeType","linkDisabled","resourceName","region"],[3,"dataHolder"],["fxFlexFill","","fxLayout","column"],[3,"model","isTabVisible"]],template:function(a,b){a&1&&(_.H(0,"cfc-single-panel-layout")(1,"cfc-action-bar",20)(2,"div",21),_.J(3,"cfc-navigation-button",22),_.I(),_.H(4,"div",
23)(5,"a",24),_.J(6,"cm-icon",25),_.Gf(7),_.M(8,4),_.L(),_.I(),_.H(9,"button",26),_.N("click",function(){b.deletingUtil.delete(b.model)}),_.J(10,"cm-icon",25),_.Gf(11),_.M(12,5),_.L(),_.I(),_.H(13,"a",27),_.J(14,"cm-icon",25),_.Gf(15),_.M(16,6),_.L(),_.I(),_.D(17,fGi,3,3,"button",28),_.I(),_.H(18,"div",29),_.J(19,"gcf-learn-button",30),_.I(),_.H(20,"div",29)(21,"cfc-refresh-button",31),_.N("onRefreshStart",function(){return b.refreshContent()}),_.I()()(),_.H(22,"cfc-panel-body",32),_.J(23,"gcf-runtime-warning",
33),_.D(24,gGi,1,5,"gcf-traffic-warning",34)(25,iGi,2,1,"ng-container",35),_.X(26,"async"),_.D(27,mGi,4,6,"ng-container",35)(28,nGi,1,0,"hr",36),_.H(29,"div",37)(30,"div",38)(31,"h2",39),_.J(32,"cfc-status-tooltip",40),_.S(33),_.I(),_.D(34,oGi,2,0,"mat-chip",41)(35,pGi,2,0,"mat-chip",41)(36,uGi,8,3,"mat-form-field",42)(37,vGi,2,1,"span",43)(38,yGi,13,5,"span",44),_.I(),_.D(39,zGi,1,2,"gcf-upgrade-progress",45)(40,AGi,1,4,"s8s-badge",46),_.I(),_.J(41,"hr",47),_.H(42,"div",48)(43,"mat-tab-group",49),
_.N("selectedTabChange",function(c){var d=c.index;c=SMi[d];b.router.navigate([],{relativeTo:b.route,queryParams:{tab:c},replaceUrl:!0,queryParamsHandling:"merge"});b.isTestingTabVisible=SMi.indexOf("testing")===d;d=b.gcfAnalyticsService;c=Object.assign({},_.sLh(b.model),{tab:c});d.analyticsService.sendEvent({type:"functionsDetails",name:"tabClick",metadata:c})}),_.H(44,"mat-tab",50),_.J(45,"gcf-tab-metrics",51),_.I(),_.H(46,"mat-tab",52),_.D(47,BGi,1,1,"ng-template",53),_.I(),_.H(48,"mat-tab",54),
_.D(49,CGi,2,1,"ng-template",55),_.I(),_.H(50,"mat-tab",56),_.D(51,DGi,1,1,"ng-template",53),_.I(),_.H(52,"mat-tab",57),_.D(53,EGi,1,1,"ng-template",53),_.I(),_.H(54,"mat-tab",58),_.D(55,FGi,1,1,"ng-template",59),_.I(),_.H(56,"mat-tab",60),_.D(57,GGi,2,1,"ng-template",59),_.I(),_.H(58,"mat-tab",61),_.D(59,HGi,1,2,"ng-template",59),_.I()()()()());a&2&&(_.z(),_.G("id",b.actionBarId)("s8sPageSectionTitle",!0)("breakpoint-icon",0),_.z(2),_.G("backLink",b.functionsListUrl)("isDetailPage",!0),_.z(2),_.G("cfcRouterLink",
b.editLink)("queryParams",b.editLinkQueryParams)("cfcDisable",!b.model.editEnabled())("cfcIamResource",b.iamResource),_.z(),_.G("icon",b.icons.editSmallIcon),_.z(3),_.G("cfcDisable",!JGi(b.model))("cfcIamResource",b.iamResource),_.z(),_.G("icon",b.icons.deleteSmallIcon),_.z(3),_.G("cfcRouterLink",b.copyFunctionLink)("queryParams",b.copyFunctionLinkQueryParams),_.z(),_.G("icon",b.icons.copySmallIcon),_.z(3),_.G("ngIf",b.flags.migrationEnabled&&b.showAbortUpgrade),_.z(4),_.G("disableRefreshNavigation",
!0),_.z(),_.G("disablePadding",!0)("flexContent",!0),_.z(),_.G("model",b.model),_.z(),_.G("ngIf",b.isV2Function),_.z(),_.G("ngIf",_.Y(26,45,b.gcrHostObs)),_.z(2),_.G("ngIf",b.deploymentTrackerAvailable),_.z(),_.G("ngIf",b.deploymentTrackerAvailable||!b.model.deployedAllTrafficOnLatestRevision),_.z(4),_.G("config",b.statusTooltipConfig)("resource",b.model),_.z(),_.V(" ",b.model.name," "),_.z(),_.G("ngIf",!b.isV2Function),_.z(),_.G("ngIf",b.isV2Function),_.z(),_.G("ngIf",!b.isV2Function),_.z(),_.G("ngIf",
b.isV2Function),_.z(),_.G("ngIf",b.isV2Function&&b.v2DeployedUrl),_.z(),_.G("ngIf",b.flags.migrationEnabled&&b.showUpgradeProgress&&b.model.fullName),_.z(),_.G("ngIf",b.showCloudRunBadge),_.z(3),_.G("selectedIndex",b.currentTabIndex),_.z(2),_.G("model",b.model)("crashData",b.crashData),_.z(),_.G("cfcDisable",b.isInvalidV2Function),_.z(),_.G("lazyTabPreload",!b.isInvalidV2Function),_.z(3),_.G("cfcDisable",b.isInvalidV2Function),_.z(),_.G("lazyTabPreload",!b.isInvalidV2Function),_.z(),_.G("cfcDisable",
b.isInvalidV2Function),_.z(),_.G("lazyTabPreload",!b.isInvalidV2Function),_.z(),_.G("cfcDisable",b.isInvalidV2Function))},dependencies:[_.MB,_.Wr,_.Tr,_.yt,_.xu,_.gp,_.xt,_.Ky,_.Zy,_.ex,_.nx,_.ox,_.Sw,_.Qw,_.AB,_.lA,_.tq,_.vq,_.wq,_.kA,_.el,BLi,_.Jx,vHi,_.ms,_.r3,_.rQ,_.Bt,_.tD,_.CD,xHi,_.Yw,_.ft,_.Sx,_.sB,_.fo,HKi,_.V4h,ELi,_.Os,_.to,_.Rs,_.wo,$Hi,HLi,_.bJ,_.yo,KLi,_.Fzi,_.qu,CMi,eLi,_.By,_.Ay,_.Gy,jLi,_.nLh,_.zC,NLi,_.lQ,iMi,_.q3h,oMi,GMi,KMi,xMi,_.jl],styles:[".gcf-message-no-top-spacing[_ngcontent-%COMP%]{padding-top:0}.gcf-message-no-bottom-spacing[_ngcontent-%COMP%]{padding-bottom:0}.gcf-panel-no-vertical-spacing[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.gcf-panel-small-vertical-spacing[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.gcf-top-bleed[_ngcontent-%COMP%]{margin-top:-16px}.gcf-vertical-middle[_ngcontent-%COMP%]{vertical-align:middle}.gcf-inline-block[_ngcontent-%COMP%]{display:inline-block}.gcf-indent-small[_ngcontent-%COMP%]{margin-left:8px}.gcf-margin-left-0[_ngcontent-%COMP%]{margin-left:0}.gcf-margin-left-minus-4[_ngcontent-%COMP%]{margin-left:-8px}.gcf-padding-left[_ngcontent-%COMP%]{padding-left:16px}.gcf-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.gcf-width-code-form[_ngcontent-%COMP%]{width:395px!important}.gcf-min-height-150[_ngcontent-%COMP%]{min-height:150px}.gcf-min-height-0[_ngcontent-%COMP%]{min-height:0}.gcf-height-640[_ngcontent-%COMP%]{height:640px}.gcf-flex-fill[_ngcontent-%COMP%]{-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0}.gcf-min-width-small[_ngcontent-%COMP%]{min-width:320px}.gcf-min-height-32[_ngcontent-%COMP%]{min-height:32px}.gcf-margin-between-rows[_ngcontent-%COMP%]{margin-top:-4px}.gcf-margin-between-rows[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:4px}.gcf-width-2-3[_ngcontent-%COMP%]{width:66%}.gcf-border-left[_ngcontent-%COMP%]{border-left:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}@media screen and (max-width:600px){.gcf-hide-on-mobile[_ngcontent-%COMP%]{display:none}}.gcf-predeployment-testing-details[_ngcontent-%COMP%]{width:460px}.gcf-predeployment-testing-details   [_nghost-%COMP%]     .gcf-predeployment-test-panel-body{margin-left:24px;margin-top:24px}.gcf-show-on-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:600px){.gcf-show-on-mobile[_ngcontent-%COMP%]{display:block}}"]});
var SMi="metrics details source variables trigger permissions logs testing".split(" "),RMi=["details","variables","trigger","permissions"];var UMi=[_.NB,_.Xr,_.At,_.az,_.qx,_.nA,_.kl,DLi,_.Qx,_.Yx,_.s3,_.PB,_.Ct,_.wD,_.HD,_.bx,_.Ux,_.tB,_.go,IKi,_.X4h,GLi,_.Qs,_.Eo,_.Dzi,JLi,_.cJ,_.AC,MLi,_.Ov,ZKi,_.ru,DMi,gLi,_.Jy,lLi,_.F8,_.CC,PLi,_.mQ,kMi,_.r3h,qMi,IMi,MMi,zMi],VMi=class{};VMi.\u0275fac=function(a){return new (a||VMi)};VMi.\u0275mod=_.gd({type:VMi,id:"pm_functions_details_view"});VMi.\u0275inj=_.Rc({providers:[{provide:_.Ul,useValue:{Details:TMi}}],imports:[_.EE,BMi,UMi]});_.tf(VMi,"pm_functions_details_view");
_.Fg();
}catch(e){_._DumpException(e)}
}).call(this,this.default_r_brihhbn);
// Google Inc.
